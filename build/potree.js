/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory(require("three"));
	else if(typeof define === 'function' && define.amd)
		define("potree", ["three"], factory);
	else if(typeof exports === 'object')
		exports["potree"] = factory(require("three"));
	else
		root["potree"] = factory(root["three"]);
})(self, (__WEBPACK_EXTERNAL_MODULE_three__) => {
return /******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/utils/binary-heap.js":
/*!**********************************!*\
  !*** ./src/utils/binary-heap.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BinaryHeap: () => (/* binding */ BinaryHeap)\n/* harmony export */ });\n/**\n * from: http://eloquentjavascript.net/1st_edition/appendix2.html\n *\n */\n\nfunction BinaryHeap(scoreFunction) {\n  this.content = [];\n  this.scoreFunction = scoreFunction;\n}\nBinaryHeap.prototype = {\n  push: function push(element) {\n    // Add the new element to the end of the array.\n    this.content.push(element);\n    // Allow it to bubble up.\n    this.bubbleUp(this.content.length - 1);\n  },\n  pop: function pop() {\n    // Store the first element so we can return it later.\n    var result = this.content[0];\n    // Get the element at the end of the array.\n    var end = this.content.pop();\n    // If there are any elements left, put the end element at the\n    // start, and let it sink down.\n    if (this.content.length > 0) {\n      this.content[0] = end;\n      this.sinkDown(0);\n    }\n    return result;\n  },\n  remove: function remove(node) {\n    var length = this.content.length;\n    // To remove a value, we must search through the array to find\n    // it.\n    for (var i = 0; i < length; i++) {\n      if (this.content[i] != node) continue;\n      // When it is found, the process seen in 'pop' is repeated\n      // to fill up the hole.\n      var end = this.content.pop();\n      // If the element we popped was the one we needed to remove,\n      // we're done.\n      if (i == length - 1) break;\n      // Otherwise, we replace the removed element with the popped\n      // one, and allow it to float up or sink down as appropriate.\n      this.content[i] = end;\n      this.bubbleUp(i);\n      this.sinkDown(i);\n      break;\n    }\n  },\n  size: function size() {\n    return this.content.length;\n  },\n  bubbleUp: function bubbleUp(n) {\n    // Fetch the element that has to be moved.\n    var element = this.content[n],\n      score = this.scoreFunction(element);\n    // When at 0, an element can not go up any further.\n    while (n > 0) {\n      // Compute the parent element's index, and fetch it.\n      var parentN = Math.floor((n + 1) / 2) - 1,\n        parent = this.content[parentN];\n      // If the parent has a lesser score, things are in order and we\n      // are done.\n      if (score >= this.scoreFunction(parent)) break;\n\n      // Otherwise, swap the parent with the current element and\n      // continue.\n      this.content[parentN] = element;\n      this.content[n] = parent;\n      n = parentN;\n    }\n  },\n  sinkDown: function sinkDown(n) {\n    // Look up the target element and its score.\n    var length = this.content.length,\n      element = this.content[n],\n      elemScore = this.scoreFunction(element);\n    while (true) {\n      // Compute the indices of the child elements.\n      var child2N = (n + 1) * 2,\n        child1N = child2N - 1;\n      // This is used to store the new position of the element,\n      // if any.\n      var swap = null;\n      // If the first child exists (is inside the array)...\n      if (child1N < length) {\n        // Look it up and compute its score.\n        var child1 = this.content[child1N],\n          child1Score = this.scoreFunction(child1);\n        // If the score is less than our element's, we need to swap.\n        if (child1Score < elemScore) swap = child1N;\n      }\n      // Do the same checks for the other child.\n      if (child2N < length) {\n        var child2 = this.content[child2N],\n          child2Score = this.scoreFunction(child2);\n        if (child2Score < (swap == null ? elemScore : child1Score)) swap = child2N;\n      }\n\n      // No need to swap further, we are done.\n      if (swap == null) break;\n\n      // Otherwise, swap and continue.\n      this.content[n] = this.content[swap];\n      this.content[swap] = element;\n      n = swap;\n    }\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdXRpbHMvYmluYXJ5LWhlYXAuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcG90cmVlLy4vc3JjL3V0aWxzL2JpbmFyeS1oZWFwLmpzPzI0NTAiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBmcm9tOiBodHRwOi8vZWxvcXVlbnRqYXZhc2NyaXB0Lm5ldC8xc3RfZWRpdGlvbi9hcHBlbmRpeDIuaHRtbFxuICpcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gQmluYXJ5SGVhcChzY29yZUZ1bmN0aW9uKSB7XG4gIHRoaXMuY29udGVudCA9IFtdO1xuICB0aGlzLnNjb3JlRnVuY3Rpb24gPSBzY29yZUZ1bmN0aW9uO1xufVxuQmluYXJ5SGVhcC5wcm90b3R5cGUgPSB7XG4gIHB1c2g6IGZ1bmN0aW9uIHB1c2goZWxlbWVudCkge1xuICAgIC8vIEFkZCB0aGUgbmV3IGVsZW1lbnQgdG8gdGhlIGVuZCBvZiB0aGUgYXJyYXkuXG4gICAgdGhpcy5jb250ZW50LnB1c2goZWxlbWVudCk7XG4gICAgLy8gQWxsb3cgaXQgdG8gYnViYmxlIHVwLlxuICAgIHRoaXMuYnViYmxlVXAodGhpcy5jb250ZW50Lmxlbmd0aCAtIDEpO1xuICB9LFxuICBwb3A6IGZ1bmN0aW9uIHBvcCgpIHtcbiAgICAvLyBTdG9yZSB0aGUgZmlyc3QgZWxlbWVudCBzbyB3ZSBjYW4gcmV0dXJuIGl0IGxhdGVyLlxuICAgIHZhciByZXN1bHQgPSB0aGlzLmNvbnRlbnRbMF07XG4gICAgLy8gR2V0IHRoZSBlbGVtZW50IGF0IHRoZSBlbmQgb2YgdGhlIGFycmF5LlxuICAgIHZhciBlbmQgPSB0aGlzLmNvbnRlbnQucG9wKCk7XG4gICAgLy8gSWYgdGhlcmUgYXJlIGFueSBlbGVtZW50cyBsZWZ0LCBwdXQgdGhlIGVuZCBlbGVtZW50IGF0IHRoZVxuICAgIC8vIHN0YXJ0LCBhbmQgbGV0IGl0IHNpbmsgZG93bi5cbiAgICBpZiAodGhpcy5jb250ZW50Lmxlbmd0aCA+IDApIHtcbiAgICAgIHRoaXMuY29udGVudFswXSA9IGVuZDtcbiAgICAgIHRoaXMuc2lua0Rvd24oMCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH0sXG4gIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKG5vZGUpIHtcbiAgICB2YXIgbGVuZ3RoID0gdGhpcy5jb250ZW50Lmxlbmd0aDtcbiAgICAvLyBUbyByZW1vdmUgYSB2YWx1ZSwgd2UgbXVzdCBzZWFyY2ggdGhyb3VnaCB0aGUgYXJyYXkgdG8gZmluZFxuICAgIC8vIGl0LlxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh0aGlzLmNvbnRlbnRbaV0gIT0gbm9kZSkgY29udGludWU7XG4gICAgICAvLyBXaGVuIGl0IGlzIGZvdW5kLCB0aGUgcHJvY2VzcyBzZWVuIGluICdwb3AnIGlzIHJlcGVhdGVkXG4gICAgICAvLyB0byBmaWxsIHVwIHRoZSBob2xlLlxuICAgICAgdmFyIGVuZCA9IHRoaXMuY29udGVudC5wb3AoKTtcbiAgICAgIC8vIElmIHRoZSBlbGVtZW50IHdlIHBvcHBlZCB3YXMgdGhlIG9uZSB3ZSBuZWVkZWQgdG8gcmVtb3ZlLFxuICAgICAgLy8gd2UncmUgZG9uZS5cbiAgICAgIGlmIChpID09IGxlbmd0aCAtIDEpIGJyZWFrO1xuICAgICAgLy8gT3RoZXJ3aXNlLCB3ZSByZXBsYWNlIHRoZSByZW1vdmVkIGVsZW1lbnQgd2l0aCB0aGUgcG9wcGVkXG4gICAgICAvLyBvbmUsIGFuZCBhbGxvdyBpdCB0byBmbG9hdCB1cCBvciBzaW5rIGRvd24gYXMgYXBwcm9wcmlhdGUuXG4gICAgICB0aGlzLmNvbnRlbnRbaV0gPSBlbmQ7XG4gICAgICB0aGlzLmJ1YmJsZVVwKGkpO1xuICAgICAgdGhpcy5zaW5rRG93bihpKTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfSxcbiAgc2l6ZTogZnVuY3Rpb24gc2l6ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5jb250ZW50Lmxlbmd0aDtcbiAgfSxcbiAgYnViYmxlVXA6IGZ1bmN0aW9uIGJ1YmJsZVVwKG4pIHtcbiAgICAvLyBGZXRjaCB0aGUgZWxlbWVudCB0aGF0IGhhcyB0byBiZSBtb3ZlZC5cbiAgICB2YXIgZWxlbWVudCA9IHRoaXMuY29udGVudFtuXSxcbiAgICAgIHNjb3JlID0gdGhpcy5zY29yZUZ1bmN0aW9uKGVsZW1lbnQpO1xuICAgIC8vIFdoZW4gYXQgMCwgYW4gZWxlbWVudCBjYW4gbm90IGdvIHVwIGFueSBmdXJ0aGVyLlxuICAgIHdoaWxlIChuID4gMCkge1xuICAgICAgLy8gQ29tcHV0ZSB0aGUgcGFyZW50IGVsZW1lbnQncyBpbmRleCwgYW5kIGZldGNoIGl0LlxuICAgICAgdmFyIHBhcmVudE4gPSBNYXRoLmZsb29yKChuICsgMSkgLyAyKSAtIDEsXG4gICAgICAgIHBhcmVudCA9IHRoaXMuY29udGVudFtwYXJlbnROXTtcbiAgICAgIC8vIElmIHRoZSBwYXJlbnQgaGFzIGEgbGVzc2VyIHNjb3JlLCB0aGluZ3MgYXJlIGluIG9yZGVyIGFuZCB3ZVxuICAgICAgLy8gYXJlIGRvbmUuXG4gICAgICBpZiAoc2NvcmUgPj0gdGhpcy5zY29yZUZ1bmN0aW9uKHBhcmVudCkpIGJyZWFrO1xuXG4gICAgICAvLyBPdGhlcndpc2UsIHN3YXAgdGhlIHBhcmVudCB3aXRoIHRoZSBjdXJyZW50IGVsZW1lbnQgYW5kXG4gICAgICAvLyBjb250aW51ZS5cbiAgICAgIHRoaXMuY29udGVudFtwYXJlbnROXSA9IGVsZW1lbnQ7XG4gICAgICB0aGlzLmNvbnRlbnRbbl0gPSBwYXJlbnQ7XG4gICAgICBuID0gcGFyZW50TjtcbiAgICB9XG4gIH0sXG4gIHNpbmtEb3duOiBmdW5jdGlvbiBzaW5rRG93bihuKSB7XG4gICAgLy8gTG9vayB1cCB0aGUgdGFyZ2V0IGVsZW1lbnQgYW5kIGl0cyBzY29yZS5cbiAgICB2YXIgbGVuZ3RoID0gdGhpcy5jb250ZW50Lmxlbmd0aCxcbiAgICAgIGVsZW1lbnQgPSB0aGlzLmNvbnRlbnRbbl0sXG4gICAgICBlbGVtU2NvcmUgPSB0aGlzLnNjb3JlRnVuY3Rpb24oZWxlbWVudCk7XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIC8vIENvbXB1dGUgdGhlIGluZGljZXMgb2YgdGhlIGNoaWxkIGVsZW1lbnRzLlxuICAgICAgdmFyIGNoaWxkMk4gPSAobiArIDEpICogMixcbiAgICAgICAgY2hpbGQxTiA9IGNoaWxkMk4gLSAxO1xuICAgICAgLy8gVGhpcyBpcyB1c2VkIHRvIHN0b3JlIHRoZSBuZXcgcG9zaXRpb24gb2YgdGhlIGVsZW1lbnQsXG4gICAgICAvLyBpZiBhbnkuXG4gICAgICB2YXIgc3dhcCA9IG51bGw7XG4gICAgICAvLyBJZiB0aGUgZmlyc3QgY2hpbGQgZXhpc3RzIChpcyBpbnNpZGUgdGhlIGFycmF5KS4uLlxuICAgICAgaWYgKGNoaWxkMU4gPCBsZW5ndGgpIHtcbiAgICAgICAgLy8gTG9vayBpdCB1cCBhbmQgY29tcHV0ZSBpdHMgc2NvcmUuXG4gICAgICAgIHZhciBjaGlsZDEgPSB0aGlzLmNvbnRlbnRbY2hpbGQxTl0sXG4gICAgICAgICAgY2hpbGQxU2NvcmUgPSB0aGlzLnNjb3JlRnVuY3Rpb24oY2hpbGQxKTtcbiAgICAgICAgLy8gSWYgdGhlIHNjb3JlIGlzIGxlc3MgdGhhbiBvdXIgZWxlbWVudCdzLCB3ZSBuZWVkIHRvIHN3YXAuXG4gICAgICAgIGlmIChjaGlsZDFTY29yZSA8IGVsZW1TY29yZSkgc3dhcCA9IGNoaWxkMU47XG4gICAgICB9XG4gICAgICAvLyBEbyB0aGUgc2FtZSBjaGVja3MgZm9yIHRoZSBvdGhlciBjaGlsZC5cbiAgICAgIGlmIChjaGlsZDJOIDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBjaGlsZDIgPSB0aGlzLmNvbnRlbnRbY2hpbGQyTl0sXG4gICAgICAgICAgY2hpbGQyU2NvcmUgPSB0aGlzLnNjb3JlRnVuY3Rpb24oY2hpbGQyKTtcbiAgICAgICAgaWYgKGNoaWxkMlNjb3JlIDwgKHN3YXAgPT0gbnVsbCA/IGVsZW1TY29yZSA6IGNoaWxkMVNjb3JlKSkgc3dhcCA9IGNoaWxkMk47XG4gICAgICB9XG5cbiAgICAgIC8vIE5vIG5lZWQgdG8gc3dhcCBmdXJ0aGVyLCB3ZSBhcmUgZG9uZS5cbiAgICAgIGlmIChzd2FwID09IG51bGwpIGJyZWFrO1xuXG4gICAgICAvLyBPdGhlcndpc2UsIHN3YXAgYW5kIGNvbnRpbnVlLlxuICAgICAgdGhpcy5jb250ZW50W25dID0gdGhpcy5jb250ZW50W3N3YXBdO1xuICAgICAgdGhpcy5jb250ZW50W3N3YXBdID0gZWxlbWVudDtcbiAgICAgIG4gPSBzd2FwO1xuICAgIH1cbiAgfVxufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/utils/binary-heap.js\n");

/***/ }),

/***/ "./src/materials/shaders/blur.frag":
/*!*****************************************!*\
  !*** ./src/materials/shaders/blur.frag ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"precision highp float;\\nprecision highp int;\\n\\nuniform mat4 projectionMatrix;\\n\\nuniform float screenWidth;\\nuniform float screenHeight;\\n\\nuniform sampler2D map;\\n\\nvarying vec2 vUv;\\n\\nvoid main() {\\n\\n\\tfloat dx = 1.0 / screenWidth;\\n\\tfloat dy = 1.0 / screenHeight;\\n\\n\\tvec3 color = vec3(0.0, 0.0, 0.0);\\n\\tcolor += texture2D(map, vUv + vec2(-dx, -dy)).rgb;\\n\\tcolor += texture2D(map, vUv + vec2(  0, -dy)).rgb;\\n\\tcolor += texture2D(map, vUv + vec2(+dx, -dy)).rgb;\\n\\tcolor += texture2D(map, vUv + vec2(-dx,   0)).rgb;\\n\\tcolor += texture2D(map, vUv + vec2(  0,   0)).rgb;\\n\\tcolor += texture2D(map, vUv + vec2(+dx,   0)).rgb;\\n\\tcolor += texture2D(map, vUv + vec2(-dx,  dy)).rgb;\\n\\tcolor += texture2D(map, vUv + vec2(  0,  dy)).rgb;\\n\\tcolor += texture2D(map, vUv + vec2(+dx,  dy)).rgb;\\n    \\n\\tcolor = color / 9.0;\\n\\t\\n\\tgl_FragColor = vec4(color, 1.0);\\n\\t\\n\\t\\n}\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWF0ZXJpYWxzL3NoYWRlcnMvYmx1ci5mcmFnIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL3BvdHJlZS8uL3NyYy9tYXRlcmlhbHMvc2hhZGVycy9ibHVyLmZyYWc/MjI5MyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBcInByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG5wcmVjaXNpb24gaGlnaHAgaW50O1xcblxcbnVuaWZvcm0gbWF0NCBwcm9qZWN0aW9uTWF0cml4O1xcblxcbnVuaWZvcm0gZmxvYXQgc2NyZWVuV2lkdGg7XFxudW5pZm9ybSBmbG9hdCBzY3JlZW5IZWlnaHQ7XFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgbWFwO1xcblxcbnZhcnlpbmcgdmVjMiB2VXY7XFxuXFxudm9pZCBtYWluKCkge1xcblxcblxcdGZsb2F0IGR4ID0gMS4wIC8gc2NyZWVuV2lkdGg7XFxuXFx0ZmxvYXQgZHkgPSAxLjAgLyBzY3JlZW5IZWlnaHQ7XFxuXFxuXFx0dmVjMyBjb2xvciA9IHZlYzMoMC4wLCAwLjAsIDAuMCk7XFxuXFx0Y29sb3IgKz0gdGV4dHVyZTJEKG1hcCwgdlV2ICsgdmVjMigtZHgsIC1keSkpLnJnYjtcXG5cXHRjb2xvciArPSB0ZXh0dXJlMkQobWFwLCB2VXYgKyB2ZWMyKCAgMCwgLWR5KSkucmdiO1xcblxcdGNvbG9yICs9IHRleHR1cmUyRChtYXAsIHZVdiArIHZlYzIoK2R4LCAtZHkpKS5yZ2I7XFxuXFx0Y29sb3IgKz0gdGV4dHVyZTJEKG1hcCwgdlV2ICsgdmVjMigtZHgsICAgMCkpLnJnYjtcXG5cXHRjb2xvciArPSB0ZXh0dXJlMkQobWFwLCB2VXYgKyB2ZWMyKCAgMCwgICAwKSkucmdiO1xcblxcdGNvbG9yICs9IHRleHR1cmUyRChtYXAsIHZVdiArIHZlYzIoK2R4LCAgIDApKS5yZ2I7XFxuXFx0Y29sb3IgKz0gdGV4dHVyZTJEKG1hcCwgdlV2ICsgdmVjMigtZHgsICBkeSkpLnJnYjtcXG5cXHRjb2xvciArPSB0ZXh0dXJlMkQobWFwLCB2VXYgKyB2ZWMyKCAgMCwgIGR5KSkucmdiO1xcblxcdGNvbG9yICs9IHRleHR1cmUyRChtYXAsIHZVdiArIHZlYzIoK2R4LCAgZHkpKS5yZ2I7XFxuICAgIFxcblxcdGNvbG9yID0gY29sb3IgLyA5LjA7XFxuXFx0XFxuXFx0Z2xfRnJhZ0NvbG9yID0gdmVjNChjb2xvciwgMS4wKTtcXG5cXHRcXG5cXHRcXG59XCI7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/materials/shaders/blur.frag\n");

/***/ }),

/***/ "./src/materials/shaders/blur.vert":
/*!*****************************************!*\
  !*** ./src/materials/shaders/blur.vert ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"precision highp float;\\nprecision highp int;\\n\\nattribute vec3 position;\\nattribute vec2 uv;\\n\\nuniform mat4 modelViewMatrix;\\nuniform mat4 projectionMatrix;\\n\\nvarying vec2 vUv;\\n\\nvoid main() {\\n    vUv = uv;\\n\\n    gl_Position =   projectionMatrix * modelViewMatrix * vec4(position, 1.0);\\n}\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWF0ZXJpYWxzL3NoYWRlcnMvYmx1ci52ZXJ0IiwibWFwcGluZ3MiOiI7Ozs7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL3BvdHJlZS8uL3NyYy9tYXRlcmlhbHMvc2hhZGVycy9ibHVyLnZlcnQ/NWRiYyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBcInByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG5wcmVjaXNpb24gaGlnaHAgaW50O1xcblxcbmF0dHJpYnV0ZSB2ZWMzIHBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMyIHV2O1xcblxcbnVuaWZvcm0gbWF0NCBtb2RlbFZpZXdNYXRyaXg7XFxudW5pZm9ybSBtYXQ0IHByb2plY3Rpb25NYXRyaXg7XFxuXFxudmFyeWluZyB2ZWMyIHZVdjtcXG5cXG52b2lkIG1haW4oKSB7XFxuICAgIHZVdiA9IHV2O1xcblxcbiAgICBnbF9Qb3NpdGlvbiA9ICAgcHJvamVjdGlvbk1hdHJpeCAqIG1vZGVsVmlld01hdHJpeCAqIHZlYzQocG9zaXRpb24sIDEuMCk7XFxufVwiOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/materials/shaders/blur.vert\n");

/***/ }),

/***/ "./src/materials/shaders/pointcloud.frag":
/*!***********************************************!*\
  !*** ./src/materials/shaders/pointcloud.frag ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"precision highp float;\\nprecision highp int;\\n\\n#if defined paraboloid_point_shape\\n\\t#extension GL_EXT_frag_depth : enable\\n#endif\\n\\nuniform mat4 viewMatrix;\\nuniform vec3 cameraPosition;\\n\\nuniform mat4 projectionMatrix;\\nuniform float opacity;\\n\\nuniform float blendHardness;\\nuniform float blendDepthSupplement;\\nuniform float fov;\\nuniform float spacing;\\nuniform float pcIndex;\\nuniform float screenWidth;\\nuniform float screenHeight;\\n\\nuniform sampler2D depthMap;\\n\\n#if defined (clip_horizontally) || defined (clip_vertically)\\n\\tuniform vec4 clipExtent;\\n#endif\\n\\n#ifdef use_texture_blending\\n\\tuniform sampler2D backgroundMap;\\n#endif\\n\\n\\n#ifdef use_point_cloud_mixing\\n\\tuniform int pointCloudMixingMode;\\n\\tuniform float pointCloudID;\\n\\tuniform float pointCloudMixAngle;\\n\\tuniform float stripeDistanceX;\\n\\tuniform float stripeDistanceY;\\n\\n\\tuniform float stripeDivisorX;\\n\\tuniform float stripeDivisorY;\\n#endif\\n\\n#ifdef highlight_point\\n\\tuniform vec4 highlightedPointColor;\\n#endif\\n\\nvarying vec3 vColor;\\n\\n#if !defined(color_type_point_index)\\n\\tvarying float vOpacity;\\n#endif\\n\\n#if defined(weighted_splats)\\n\\tvarying float vLinearDepth;\\n#endif\\n\\n#if !defined(paraboloid_point_shape) && defined(use_edl)\\n\\tvarying float vLogDepth;\\n#endif\\n\\n#if defined(color_type_phong) && (MAX_POINT_LIGHTS > 0 || MAX_DIR_LIGHTS > 0) || defined(paraboloid_point_shape)\\n\\tvarying vec3 vViewPosition;\\n#endif\\n\\n#if defined(weighted_splats) || defined(paraboloid_point_shape)\\n\\tvarying float vRadius;\\n#endif\\n\\n#if defined(color_type_phong) && (MAX_POINT_LIGHTS > 0 || MAX_DIR_LIGHTS > 0)\\n\\tvarying vec3 vNormal;\\n#endif\\n\\n#ifdef highlight_point\\n\\tvarying float vHighlight;\\n#endif\\n\\nfloat specularStrength = 1.0;\\n\\nvoid main() {\\n\\tvec3 color = vColor;\\n\\tfloat depth = gl_FragCoord.z;\\n\\n\\t#if defined (clip_horizontally) || defined (clip_vertically)\\n\\tvec2 ndc = vec2((gl_FragCoord.x / screenWidth), 1.0 - (gl_FragCoord.y / screenHeight));\\n\\n\\tif(step(clipExtent.x, ndc.x) * step(ndc.x, clipExtent.z) < 1.0)\\n\\t{\\n\\t\\tdiscard;\\n\\t}\\n\\n\\tif(step(clipExtent.y, ndc.y) * step(ndc.y, clipExtent.w) < 1.0)\\n\\t{\\n\\t\\tdiscard;\\n\\t}\\n\\t#endif  \\n\\n\\t#if defined(circle_point_shape) || defined(paraboloid_point_shape) || defined (weighted_splats)\\n\\t\\tfloat u = 2.0 * gl_PointCoord.x - 1.0;\\n\\t\\tfloat v = 2.0 * gl_PointCoord.y - 1.0;\\n\\t#endif\\n\\n\\t#if defined(circle_point_shape) || defined (weighted_splats)\\n\\t\\tfloat cc = u*u + v*v;\\n\\t\\tif(cc > 1.0){\\n\\t\\t\\tdiscard;\\n\\t\\t}\\n\\t#endif\\n\\n\\t#if defined weighted_splats\\n\\t\\tvec2 uv = gl_FragCoord.xy / vec2(screenWidth, screenHeight);\\n\\t\\tfloat sDepth = texture2D(depthMap, uv).r;\\n\\t\\tif(vLinearDepth > sDepth + vRadius + blendDepthSupplement){\\n\\t\\t\\tdiscard;\\n\\t\\t}\\n\\t#endif\\n\\n\\t#if defined color_type_point_index\\n\\t\\tgl_FragColor = vec4(color, pcIndex / 255.0);\\n\\t#else\\n\\t\\tgl_FragColor = vec4(color, vOpacity);\\n\\t#endif\\n\\n\\t#ifdef use_point_cloud_mixing\\n\\t\\tbool discardFragment = false;\\n\\n\\t\\tif (pointCloudMixingMode == 1) {  // Checkboard\\n\\t\\t\\tfloat vPointCloudID = pointCloudID > 10. ? pointCloudID/10.: pointCloudID;\\n\\t\\t\\tdiscardFragment = mod(gl_FragCoord.x, vPointCloudID) > 0.5 && mod(gl_FragCoord.y, vPointCloudID) > 0.5;\\n\\t\\t}\\n\\t\\telse if (pointCloudMixingMode == 2) {  // Stripes\\n\\t\\t\\tfloat angle = pointCloudMixAngle * pointCloudID / 180.;\\n\\t\\t\\tfloat u = cos(angle) * gl_FragCoord.x + sin(angle) * gl_FragCoord.y;\\n\\t\\t\\tfloat v = -sin(angle) * gl_FragCoord.x + cos(angle) * gl_FragCoord.y;\\n\\n\\t\\t\\tdiscardFragment = mod(u, stripeDistanceX) >= stripeDistanceX/stripeDivisorX && mod(v, stripeDistanceY) >= stripeDistanceY/stripeDivisorY;\\n\\t\\t}\\n\\t\\tif (discardFragment) {\\n\\t\\t\\tdiscard;\\n\\t\\t}\\n\\t#endif\\n\\n\\t#ifdef use_texture_blending\\n\\t\\tvec2 vUv = gl_FragCoord.xy / vec2(screenWidth, screenHeight);\\n\\n\\t\\tvec4 tColor = texture2D(backgroundMap, vUv);\\n\\t\\tgl_FragColor = vec4(vOpacity * color, 1.) + vec4((1. - vOpacity) * tColor.rgb, 0.);\\n\\t#endif\\n\\n\\t#if defined(color_type_phong)\\n\\t\\t#if MAX_POINT_LIGHTS > 0 || MAX_DIR_LIGHTS > 0\\n\\t\\t\\tvec3 normal = normalize( vNormal );\\n\\t\\t\\tnormal.z = abs(normal.z);\\n\\n\\t\\t\\tvec3 viewPosition = normalize( vViewPosition );\\n\\t\\t#endif\\n\\n\\t\\t// code taken from three.js phong light fragment shader\\n\\n\\t\\t#if MAX_POINT_LIGHTS > 0\\n\\n\\t\\t\\tvec3 pointDiffuse = vec3( 0.0 );\\n\\t\\t\\tvec3 pointSpecular = vec3( 0.0 );\\n\\n\\t\\t\\tfor ( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {\\n\\n\\t\\t\\t\\tvec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );\\n\\t\\t\\t\\tvec3 lVector = lPosition.xyz + vViewPosition.xyz;\\n\\n\\t\\t\\t\\tfloat lDistance = 1.0;\\n\\t\\t\\t\\tif ( pointLightDistance[ i ] > 0.0 )\\n\\t\\t\\t\\t\\tlDistance = 1.0 - min( ( length( lVector ) / pointLightDistance[ i ] ), 1.0 );\\n\\n\\t\\t\\t\\tlVector = normalize( lVector );\\n\\n\\t\\t\\t\\t\\t\\t// diffuse\\n\\n\\t\\t\\t\\tfloat dotProduct = dot( normal, lVector );\\n\\n\\t\\t\\t\\t#ifdef WRAP_AROUND\\n\\n\\t\\t\\t\\t\\tfloat pointDiffuseWeightFull = max( dotProduct, 0.0 );\\n\\t\\t\\t\\t\\tfloat pointDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );\\n\\n\\t\\t\\t\\t\\tvec3 pointDiffuseWeight = mix( vec3( pointDiffuseWeightFull ), vec3( pointDiffuseWeightHalf ), wrapRGB );\\n\\n\\t\\t\\t\\t#else\\n\\n\\t\\t\\t\\t\\tfloat pointDiffuseWeight = max( dotProduct, 0.0 );\\n\\n\\t\\t\\t\\t#endif\\n\\n\\t\\t\\t\\tpointDiffuse += diffuse * pointLightColor[ i ] * pointDiffuseWeight * lDistance;\\n\\n\\t\\t\\t\\t// specular\\n\\n\\t\\t\\t\\tvec3 pointHalfVector = normalize( lVector + viewPosition );\\n\\t\\t\\t\\tfloat pointDotNormalHalf = max( dot( normal, pointHalfVector ), 0.0 );\\n\\t\\t\\t\\tfloat pointSpecularWeight = specularStrength * max( pow( pointDotNormalHalf, shininess ), 0.0 );\\n\\n\\t\\t\\t\\tfloat specularNormalization = ( shininess + 2.0 ) / 8.0;\\n\\n\\t\\t\\t\\tvec3 schlick = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVector, pointHalfVector ), 0.0 ), 5.0 );\\n\\t\\t\\t\\tpointSpecular += schlick * pointLightColor[ i ] * pointSpecularWeight * pointDiffuseWeight * lDistance * specularNormalization;\\n\\t\\t\\t\\tpointSpecular = vec3(0.0, 0.0, 0.0);\\n\\t\\t\\t}\\n\\n\\t\\t#endif\\n\\n\\t\\t#if MAX_DIR_LIGHTS > 0\\n\\n\\t\\t\\tvec3 dirDiffuse = vec3( 0.0 );\\n\\t\\t\\tvec3 dirSpecular = vec3( 0.0 );\\n\\n\\t\\t\\tfor( int i = 0; i < MAX_DIR_LIGHTS; i ++ ) {\\n\\n\\t\\t\\t\\tvec4 lDirection = viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );\\n\\t\\t\\t\\tvec3 dirVector = normalize( lDirection.xyz );\\n\\n\\t\\t\\t\\t\\t\\t// diffuse\\n\\n\\t\\t\\t\\tfloat dotProduct = dot( normal, dirVector );\\n\\n\\t\\t\\t\\t#ifdef WRAP_AROUND\\n\\n\\t\\t\\t\\t\\tfloat dirDiffuseWeightFull = max( dotProduct, 0.0 );\\n\\t\\t\\t\\t\\tfloat dirDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );\\n\\n\\t\\t\\t\\t\\tvec3 dirDiffuseWeight = mix( vec3( dirDiffuseWeightFull ), vec3( dirDiffuseWeightHalf ), wrapRGB );\\n\\n\\t\\t\\t\\t#else\\n\\n\\t\\t\\t\\t\\tfloat dirDiffuseWeight = max( dotProduct, 0.0 );\\n\\n\\t\\t\\t\\t#endif\\n\\n\\t\\t\\t\\tdirDiffuse += diffuse * directionalLightColor[ i ] * dirDiffuseWeight;\\n\\n\\t\\t\\t\\t// specular\\n\\n\\t\\t\\t\\tvec3 dirHalfVector = normalize( dirVector + viewPosition );\\n\\t\\t\\t\\tfloat dirDotNormalHalf = max( dot( normal, dirHalfVector ), 0.0 );\\n\\t\\t\\t\\tfloat dirSpecularWeight = specularStrength * max( pow( dirDotNormalHalf, shininess ), 0.0 );\\n\\n\\t\\t\\t\\tfloat specularNormalization = ( shininess + 2.0 ) / 8.0;\\n\\n\\t\\t\\t\\tvec3 schlick = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( dirVector, dirHalfVector ), 0.0 ), 5.0 );\\n\\t\\t\\t\\tdirSpecular += schlick * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight * specularNormalization;\\n\\t\\t\\t}\\n\\n\\t\\t#endif\\n\\n\\t\\tvec3 totalDiffuse = vec3( 0.0 );\\n\\t\\tvec3 totalSpecular = vec3( 0.0 );\\n\\n\\t\\t#if MAX_POINT_LIGHTS > 0\\n\\n\\t\\t\\ttotalDiffuse += pointDiffuse;\\n\\t\\t\\ttotalSpecular += pointSpecular;\\n\\n\\t\\t#endif\\n\\n\\t\\t#if MAX_DIR_LIGHTS > 0\\n\\n\\t\\t\\ttotalDiffuse += dirDiffuse;\\n\\t\\t\\ttotalSpecular += dirSpecular;\\n\\n\\t\\t#endif\\n\\n\\t\\tgl_FragColor.xyz = gl_FragColor.xyz * ( emissive + totalDiffuse + ambientLightColor * ambient ) + totalSpecular;\\n\\n\\t#endif\\n\\n\\t#if defined weighted_splats\\n\\t    //float w = pow(1.0 - (u*u + v*v), blendHardness);\\n\\n\\t\\tfloat wx = 2.0 * length(2.0 * gl_PointCoord - 1.0);\\n\\t\\tfloat w = exp(-wx * wx * 0.5);\\n\\n\\t\\t//float distance = length(2.0 * gl_PointCoord - 1.0);\\n\\t\\t//float w = exp( -(distance * distance) / blendHardness);\\n\\n\\t\\tgl_FragColor.rgb = gl_FragColor.rgb * w;\\n\\t\\tgl_FragColor.a = w;\\n\\t#endif\\n\\n\\t#if defined paraboloid_point_shape\\n\\t\\tfloat wi = 0.0 - ( u*u + v*v);\\n\\t\\tvec4 pos = vec4(vViewPosition, 1.0);\\n\\t\\tpos.z += wi * vRadius;\\n\\t\\tfloat linearDepth = -pos.z;\\n\\t\\tpos = projectionMatrix * pos;\\n\\t\\tpos = pos / pos.w;\\n\\t\\tfloat expDepth = pos.z;\\n\\t\\tdepth = (pos.z + 1.0) / 2.0;\\n\\t\\tgl_FragDepthEXT = depth;\\n\\n\\t\\t#if defined(color_type_depth)\\n\\t\\t\\tgl_FragColor.r = linearDepth;\\n\\t\\t\\tgl_FragColor.g = expDepth;\\n\\t\\t#endif\\n\\n\\t\\t#if defined(use_edl)\\n\\t\\t\\tgl_FragColor.a = log2(linearDepth);\\n\\t\\t#endif\\n\\n\\t#else\\n\\t\\t#if defined(use_edl)\\n\\t\\t\\tgl_FragColor.a = vLogDepth;\\n\\t\\t#endif\\n\\t#endif\\n\\n\\t#ifdef highlight_point\\n\\t\\tif (vHighlight > 0.0) {\\n\\t\\t\\tgl_FragColor = highlightedPointColor;\\n\\t\\t}\\n\\t#endif\\n}\\n\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWF0ZXJpYWxzL3NoYWRlcnMvcG9pbnRjbG91ZC5mcmFnIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL3BvdHJlZS8uL3NyYy9tYXRlcmlhbHMvc2hhZGVycy9wb2ludGNsb3VkLmZyYWc/MDUwNSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBcInByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG5wcmVjaXNpb24gaGlnaHAgaW50O1xcblxcbiNpZiBkZWZpbmVkIHBhcmFib2xvaWRfcG9pbnRfc2hhcGVcXG5cXHQjZXh0ZW5zaW9uIEdMX0VYVF9mcmFnX2RlcHRoIDogZW5hYmxlXFxuI2VuZGlmXFxuXFxudW5pZm9ybSBtYXQ0IHZpZXdNYXRyaXg7XFxudW5pZm9ybSB2ZWMzIGNhbWVyYVBvc2l0aW9uO1xcblxcbnVuaWZvcm0gbWF0NCBwcm9qZWN0aW9uTWF0cml4O1xcbnVuaWZvcm0gZmxvYXQgb3BhY2l0eTtcXG5cXG51bmlmb3JtIGZsb2F0IGJsZW5kSGFyZG5lc3M7XFxudW5pZm9ybSBmbG9hdCBibGVuZERlcHRoU3VwcGxlbWVudDtcXG51bmlmb3JtIGZsb2F0IGZvdjtcXG51bmlmb3JtIGZsb2F0IHNwYWNpbmc7XFxudW5pZm9ybSBmbG9hdCBwY0luZGV4O1xcbnVuaWZvcm0gZmxvYXQgc2NyZWVuV2lkdGg7XFxudW5pZm9ybSBmbG9hdCBzY3JlZW5IZWlnaHQ7XFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgZGVwdGhNYXA7XFxuXFxuI2lmIGRlZmluZWQgKGNsaXBfaG9yaXpvbnRhbGx5KSB8fCBkZWZpbmVkIChjbGlwX3ZlcnRpY2FsbHkpXFxuXFx0dW5pZm9ybSB2ZWM0IGNsaXBFeHRlbnQ7XFxuI2VuZGlmXFxuXFxuI2lmZGVmIHVzZV90ZXh0dXJlX2JsZW5kaW5nXFxuXFx0dW5pZm9ybSBzYW1wbGVyMkQgYmFja2dyb3VuZE1hcDtcXG4jZW5kaWZcXG5cXG5cXG4jaWZkZWYgdXNlX3BvaW50X2Nsb3VkX21peGluZ1xcblxcdHVuaWZvcm0gaW50IHBvaW50Q2xvdWRNaXhpbmdNb2RlO1xcblxcdHVuaWZvcm0gZmxvYXQgcG9pbnRDbG91ZElEO1xcblxcdHVuaWZvcm0gZmxvYXQgcG9pbnRDbG91ZE1peEFuZ2xlO1xcblxcdHVuaWZvcm0gZmxvYXQgc3RyaXBlRGlzdGFuY2VYO1xcblxcdHVuaWZvcm0gZmxvYXQgc3RyaXBlRGlzdGFuY2VZO1xcblxcblxcdHVuaWZvcm0gZmxvYXQgc3RyaXBlRGl2aXNvclg7XFxuXFx0dW5pZm9ybSBmbG9hdCBzdHJpcGVEaXZpc29yWTtcXG4jZW5kaWZcXG5cXG4jaWZkZWYgaGlnaGxpZ2h0X3BvaW50XFxuXFx0dW5pZm9ybSB2ZWM0IGhpZ2hsaWdodGVkUG9pbnRDb2xvcjtcXG4jZW5kaWZcXG5cXG52YXJ5aW5nIHZlYzMgdkNvbG9yO1xcblxcbiNpZiAhZGVmaW5lZChjb2xvcl90eXBlX3BvaW50X2luZGV4KVxcblxcdHZhcnlpbmcgZmxvYXQgdk9wYWNpdHk7XFxuI2VuZGlmXFxuXFxuI2lmIGRlZmluZWQod2VpZ2h0ZWRfc3BsYXRzKVxcblxcdHZhcnlpbmcgZmxvYXQgdkxpbmVhckRlcHRoO1xcbiNlbmRpZlxcblxcbiNpZiAhZGVmaW5lZChwYXJhYm9sb2lkX3BvaW50X3NoYXBlKSAmJiBkZWZpbmVkKHVzZV9lZGwpXFxuXFx0dmFyeWluZyBmbG9hdCB2TG9nRGVwdGg7XFxuI2VuZGlmXFxuXFxuI2lmIGRlZmluZWQoY29sb3JfdHlwZV9waG9uZykgJiYgKE1BWF9QT0lOVF9MSUdIVFMgPiAwIHx8IE1BWF9ESVJfTElHSFRTID4gMCkgfHwgZGVmaW5lZChwYXJhYm9sb2lkX3BvaW50X3NoYXBlKVxcblxcdHZhcnlpbmcgdmVjMyB2Vmlld1Bvc2l0aW9uO1xcbiNlbmRpZlxcblxcbiNpZiBkZWZpbmVkKHdlaWdodGVkX3NwbGF0cykgfHwgZGVmaW5lZChwYXJhYm9sb2lkX3BvaW50X3NoYXBlKVxcblxcdHZhcnlpbmcgZmxvYXQgdlJhZGl1cztcXG4jZW5kaWZcXG5cXG4jaWYgZGVmaW5lZChjb2xvcl90eXBlX3Bob25nKSAmJiAoTUFYX1BPSU5UX0xJR0hUUyA+IDAgfHwgTUFYX0RJUl9MSUdIVFMgPiAwKVxcblxcdHZhcnlpbmcgdmVjMyB2Tm9ybWFsO1xcbiNlbmRpZlxcblxcbiNpZmRlZiBoaWdobGlnaHRfcG9pbnRcXG5cXHR2YXJ5aW5nIGZsb2F0IHZIaWdobGlnaHQ7XFxuI2VuZGlmXFxuXFxuZmxvYXQgc3BlY3VsYXJTdHJlbmd0aCA9IDEuMDtcXG5cXG52b2lkIG1haW4oKSB7XFxuXFx0dmVjMyBjb2xvciA9IHZDb2xvcjtcXG5cXHRmbG9hdCBkZXB0aCA9IGdsX0ZyYWdDb29yZC56O1xcblxcblxcdCNpZiBkZWZpbmVkIChjbGlwX2hvcml6b250YWxseSkgfHwgZGVmaW5lZCAoY2xpcF92ZXJ0aWNhbGx5KVxcblxcdHZlYzIgbmRjID0gdmVjMigoZ2xfRnJhZ0Nvb3JkLnggLyBzY3JlZW5XaWR0aCksIDEuMCAtIChnbF9GcmFnQ29vcmQueSAvIHNjcmVlbkhlaWdodCkpO1xcblxcblxcdGlmKHN0ZXAoY2xpcEV4dGVudC54LCBuZGMueCkgKiBzdGVwKG5kYy54LCBjbGlwRXh0ZW50LnopIDwgMS4wKVxcblxcdHtcXG5cXHRcXHRkaXNjYXJkO1xcblxcdH1cXG5cXG5cXHRpZihzdGVwKGNsaXBFeHRlbnQueSwgbmRjLnkpICogc3RlcChuZGMueSwgY2xpcEV4dGVudC53KSA8IDEuMClcXG5cXHR7XFxuXFx0XFx0ZGlzY2FyZDtcXG5cXHR9XFxuXFx0I2VuZGlmICBcXG5cXG5cXHQjaWYgZGVmaW5lZChjaXJjbGVfcG9pbnRfc2hhcGUpIHx8IGRlZmluZWQocGFyYWJvbG9pZF9wb2ludF9zaGFwZSkgfHwgZGVmaW5lZCAod2VpZ2h0ZWRfc3BsYXRzKVxcblxcdFxcdGZsb2F0IHUgPSAyLjAgKiBnbF9Qb2ludENvb3JkLnggLSAxLjA7XFxuXFx0XFx0ZmxvYXQgdiA9IDIuMCAqIGdsX1BvaW50Q29vcmQueSAtIDEuMDtcXG5cXHQjZW5kaWZcXG5cXG5cXHQjaWYgZGVmaW5lZChjaXJjbGVfcG9pbnRfc2hhcGUpIHx8IGRlZmluZWQgKHdlaWdodGVkX3NwbGF0cylcXG5cXHRcXHRmbG9hdCBjYyA9IHUqdSArIHYqdjtcXG5cXHRcXHRpZihjYyA+IDEuMCl7XFxuXFx0XFx0XFx0ZGlzY2FyZDtcXG5cXHRcXHR9XFxuXFx0I2VuZGlmXFxuXFxuXFx0I2lmIGRlZmluZWQgd2VpZ2h0ZWRfc3BsYXRzXFxuXFx0XFx0dmVjMiB1diA9IGdsX0ZyYWdDb29yZC54eSAvIHZlYzIoc2NyZWVuV2lkdGgsIHNjcmVlbkhlaWdodCk7XFxuXFx0XFx0ZmxvYXQgc0RlcHRoID0gdGV4dHVyZTJEKGRlcHRoTWFwLCB1dikucjtcXG5cXHRcXHRpZih2TGluZWFyRGVwdGggPiBzRGVwdGggKyB2UmFkaXVzICsgYmxlbmREZXB0aFN1cHBsZW1lbnQpe1xcblxcdFxcdFxcdGRpc2NhcmQ7XFxuXFx0XFx0fVxcblxcdCNlbmRpZlxcblxcblxcdCNpZiBkZWZpbmVkIGNvbG9yX3R5cGVfcG9pbnRfaW5kZXhcXG5cXHRcXHRnbF9GcmFnQ29sb3IgPSB2ZWM0KGNvbG9yLCBwY0luZGV4IC8gMjU1LjApO1xcblxcdCNlbHNlXFxuXFx0XFx0Z2xfRnJhZ0NvbG9yID0gdmVjNChjb2xvciwgdk9wYWNpdHkpO1xcblxcdCNlbmRpZlxcblxcblxcdCNpZmRlZiB1c2VfcG9pbnRfY2xvdWRfbWl4aW5nXFxuXFx0XFx0Ym9vbCBkaXNjYXJkRnJhZ21lbnQgPSBmYWxzZTtcXG5cXG5cXHRcXHRpZiAocG9pbnRDbG91ZE1peGluZ01vZGUgPT0gMSkgeyAgLy8gQ2hlY2tib2FyZFxcblxcdFxcdFxcdGZsb2F0IHZQb2ludENsb3VkSUQgPSBwb2ludENsb3VkSUQgPiAxMC4gPyBwb2ludENsb3VkSUQvMTAuOiBwb2ludENsb3VkSUQ7XFxuXFx0XFx0XFx0ZGlzY2FyZEZyYWdtZW50ID0gbW9kKGdsX0ZyYWdDb29yZC54LCB2UG9pbnRDbG91ZElEKSA+IDAuNSAmJiBtb2QoZ2xfRnJhZ0Nvb3JkLnksIHZQb2ludENsb3VkSUQpID4gMC41O1xcblxcdFxcdH1cXG5cXHRcXHRlbHNlIGlmIChwb2ludENsb3VkTWl4aW5nTW9kZSA9PSAyKSB7ICAvLyBTdHJpcGVzXFxuXFx0XFx0XFx0ZmxvYXQgYW5nbGUgPSBwb2ludENsb3VkTWl4QW5nbGUgKiBwb2ludENsb3VkSUQgLyAxODAuO1xcblxcdFxcdFxcdGZsb2F0IHUgPSBjb3MoYW5nbGUpICogZ2xfRnJhZ0Nvb3JkLnggKyBzaW4oYW5nbGUpICogZ2xfRnJhZ0Nvb3JkLnk7XFxuXFx0XFx0XFx0ZmxvYXQgdiA9IC1zaW4oYW5nbGUpICogZ2xfRnJhZ0Nvb3JkLnggKyBjb3MoYW5nbGUpICogZ2xfRnJhZ0Nvb3JkLnk7XFxuXFxuXFx0XFx0XFx0ZGlzY2FyZEZyYWdtZW50ID0gbW9kKHUsIHN0cmlwZURpc3RhbmNlWCkgPj0gc3RyaXBlRGlzdGFuY2VYL3N0cmlwZURpdmlzb3JYICYmIG1vZCh2LCBzdHJpcGVEaXN0YW5jZVkpID49IHN0cmlwZURpc3RhbmNlWS9zdHJpcGVEaXZpc29yWTtcXG5cXHRcXHR9XFxuXFx0XFx0aWYgKGRpc2NhcmRGcmFnbWVudCkge1xcblxcdFxcdFxcdGRpc2NhcmQ7XFxuXFx0XFx0fVxcblxcdCNlbmRpZlxcblxcblxcdCNpZmRlZiB1c2VfdGV4dHVyZV9ibGVuZGluZ1xcblxcdFxcdHZlYzIgdlV2ID0gZ2xfRnJhZ0Nvb3JkLnh5IC8gdmVjMihzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0KTtcXG5cXG5cXHRcXHR2ZWM0IHRDb2xvciA9IHRleHR1cmUyRChiYWNrZ3JvdW5kTWFwLCB2VXYpO1xcblxcdFxcdGdsX0ZyYWdDb2xvciA9IHZlYzQodk9wYWNpdHkgKiBjb2xvciwgMS4pICsgdmVjNCgoMS4gLSB2T3BhY2l0eSkgKiB0Q29sb3IucmdiLCAwLik7XFxuXFx0I2VuZGlmXFxuXFxuXFx0I2lmIGRlZmluZWQoY29sb3JfdHlwZV9waG9uZylcXG5cXHRcXHQjaWYgTUFYX1BPSU5UX0xJR0hUUyA+IDAgfHwgTUFYX0RJUl9MSUdIVFMgPiAwXFxuXFx0XFx0XFx0dmVjMyBub3JtYWwgPSBub3JtYWxpemUoIHZOb3JtYWwgKTtcXG5cXHRcXHRcXHRub3JtYWwueiA9IGFicyhub3JtYWwueik7XFxuXFxuXFx0XFx0XFx0dmVjMyB2aWV3UG9zaXRpb24gPSBub3JtYWxpemUoIHZWaWV3UG9zaXRpb24gKTtcXG5cXHRcXHQjZW5kaWZcXG5cXG5cXHRcXHQvLyBjb2RlIHRha2VuIGZyb20gdGhyZWUuanMgcGhvbmcgbGlnaHQgZnJhZ21lbnQgc2hhZGVyXFxuXFxuXFx0XFx0I2lmIE1BWF9QT0lOVF9MSUdIVFMgPiAwXFxuXFxuXFx0XFx0XFx0dmVjMyBwb2ludERpZmZ1c2UgPSB2ZWMzKCAwLjAgKTtcXG5cXHRcXHRcXHR2ZWMzIHBvaW50U3BlY3VsYXIgPSB2ZWMzKCAwLjAgKTtcXG5cXG5cXHRcXHRcXHRmb3IgKCBpbnQgaSA9IDA7IGkgPCBNQVhfUE9JTlRfTElHSFRTOyBpICsrICkge1xcblxcblxcdFxcdFxcdFxcdHZlYzQgbFBvc2l0aW9uID0gdmlld01hdHJpeCAqIHZlYzQoIHBvaW50TGlnaHRQb3NpdGlvblsgaSBdLCAxLjAgKTtcXG5cXHRcXHRcXHRcXHR2ZWMzIGxWZWN0b3IgPSBsUG9zaXRpb24ueHl6ICsgdlZpZXdQb3NpdGlvbi54eXo7XFxuXFxuXFx0XFx0XFx0XFx0ZmxvYXQgbERpc3RhbmNlID0gMS4wO1xcblxcdFxcdFxcdFxcdGlmICggcG9pbnRMaWdodERpc3RhbmNlWyBpIF0gPiAwLjAgKVxcblxcdFxcdFxcdFxcdFxcdGxEaXN0YW5jZSA9IDEuMCAtIG1pbiggKCBsZW5ndGgoIGxWZWN0b3IgKSAvIHBvaW50TGlnaHREaXN0YW5jZVsgaSBdICksIDEuMCApO1xcblxcblxcdFxcdFxcdFxcdGxWZWN0b3IgPSBub3JtYWxpemUoIGxWZWN0b3IgKTtcXG5cXG5cXHRcXHRcXHRcXHRcXHRcXHQvLyBkaWZmdXNlXFxuXFxuXFx0XFx0XFx0XFx0ZmxvYXQgZG90UHJvZHVjdCA9IGRvdCggbm9ybWFsLCBsVmVjdG9yICk7XFxuXFxuXFx0XFx0XFx0XFx0I2lmZGVmIFdSQVBfQVJPVU5EXFxuXFxuXFx0XFx0XFx0XFx0XFx0ZmxvYXQgcG9pbnREaWZmdXNlV2VpZ2h0RnVsbCA9IG1heCggZG90UHJvZHVjdCwgMC4wICk7XFxuXFx0XFx0XFx0XFx0XFx0ZmxvYXQgcG9pbnREaWZmdXNlV2VpZ2h0SGFsZiA9IG1heCggMC41ICogZG90UHJvZHVjdCArIDAuNSwgMC4wICk7XFxuXFxuXFx0XFx0XFx0XFx0XFx0dmVjMyBwb2ludERpZmZ1c2VXZWlnaHQgPSBtaXgoIHZlYzMoIHBvaW50RGlmZnVzZVdlaWdodEZ1bGwgKSwgdmVjMyggcG9pbnREaWZmdXNlV2VpZ2h0SGFsZiApLCB3cmFwUkdCICk7XFxuXFxuXFx0XFx0XFx0XFx0I2Vsc2VcXG5cXG5cXHRcXHRcXHRcXHRcXHRmbG9hdCBwb2ludERpZmZ1c2VXZWlnaHQgPSBtYXgoIGRvdFByb2R1Y3QsIDAuMCApO1xcblxcblxcdFxcdFxcdFxcdCNlbmRpZlxcblxcblxcdFxcdFxcdFxcdHBvaW50RGlmZnVzZSArPSBkaWZmdXNlICogcG9pbnRMaWdodENvbG9yWyBpIF0gKiBwb2ludERpZmZ1c2VXZWlnaHQgKiBsRGlzdGFuY2U7XFxuXFxuXFx0XFx0XFx0XFx0Ly8gc3BlY3VsYXJcXG5cXG5cXHRcXHRcXHRcXHR2ZWMzIHBvaW50SGFsZlZlY3RvciA9IG5vcm1hbGl6ZSggbFZlY3RvciArIHZpZXdQb3NpdGlvbiApO1xcblxcdFxcdFxcdFxcdGZsb2F0IHBvaW50RG90Tm9ybWFsSGFsZiA9IG1heCggZG90KCBub3JtYWwsIHBvaW50SGFsZlZlY3RvciApLCAwLjAgKTtcXG5cXHRcXHRcXHRcXHRmbG9hdCBwb2ludFNwZWN1bGFyV2VpZ2h0ID0gc3BlY3VsYXJTdHJlbmd0aCAqIG1heCggcG93KCBwb2ludERvdE5vcm1hbEhhbGYsIHNoaW5pbmVzcyApLCAwLjAgKTtcXG5cXG5cXHRcXHRcXHRcXHRmbG9hdCBzcGVjdWxhck5vcm1hbGl6YXRpb24gPSAoIHNoaW5pbmVzcyArIDIuMCApIC8gOC4wO1xcblxcblxcdFxcdFxcdFxcdHZlYzMgc2NobGljayA9IHNwZWN1bGFyICsgdmVjMyggMS4wIC0gc3BlY3VsYXIgKSAqIHBvdyggbWF4KCAxLjAgLSBkb3QoIGxWZWN0b3IsIHBvaW50SGFsZlZlY3RvciApLCAwLjAgKSwgNS4wICk7XFxuXFx0XFx0XFx0XFx0cG9pbnRTcGVjdWxhciArPSBzY2hsaWNrICogcG9pbnRMaWdodENvbG9yWyBpIF0gKiBwb2ludFNwZWN1bGFyV2VpZ2h0ICogcG9pbnREaWZmdXNlV2VpZ2h0ICogbERpc3RhbmNlICogc3BlY3VsYXJOb3JtYWxpemF0aW9uO1xcblxcdFxcdFxcdFxcdHBvaW50U3BlY3VsYXIgPSB2ZWMzKDAuMCwgMC4wLCAwLjApO1xcblxcdFxcdFxcdH1cXG5cXG5cXHRcXHQjZW5kaWZcXG5cXG5cXHRcXHQjaWYgTUFYX0RJUl9MSUdIVFMgPiAwXFxuXFxuXFx0XFx0XFx0dmVjMyBkaXJEaWZmdXNlID0gdmVjMyggMC4wICk7XFxuXFx0XFx0XFx0dmVjMyBkaXJTcGVjdWxhciA9IHZlYzMoIDAuMCApO1xcblxcblxcdFxcdFxcdGZvciggaW50IGkgPSAwOyBpIDwgTUFYX0RJUl9MSUdIVFM7IGkgKysgKSB7XFxuXFxuXFx0XFx0XFx0XFx0dmVjNCBsRGlyZWN0aW9uID0gdmlld01hdHJpeCAqIHZlYzQoIGRpcmVjdGlvbmFsTGlnaHREaXJlY3Rpb25bIGkgXSwgMC4wICk7XFxuXFx0XFx0XFx0XFx0dmVjMyBkaXJWZWN0b3IgPSBub3JtYWxpemUoIGxEaXJlY3Rpb24ueHl6ICk7XFxuXFxuXFx0XFx0XFx0XFx0XFx0XFx0Ly8gZGlmZnVzZVxcblxcblxcdFxcdFxcdFxcdGZsb2F0IGRvdFByb2R1Y3QgPSBkb3QoIG5vcm1hbCwgZGlyVmVjdG9yICk7XFxuXFxuXFx0XFx0XFx0XFx0I2lmZGVmIFdSQVBfQVJPVU5EXFxuXFxuXFx0XFx0XFx0XFx0XFx0ZmxvYXQgZGlyRGlmZnVzZVdlaWdodEZ1bGwgPSBtYXgoIGRvdFByb2R1Y3QsIDAuMCApO1xcblxcdFxcdFxcdFxcdFxcdGZsb2F0IGRpckRpZmZ1c2VXZWlnaHRIYWxmID0gbWF4KCAwLjUgKiBkb3RQcm9kdWN0ICsgMC41LCAwLjAgKTtcXG5cXG5cXHRcXHRcXHRcXHRcXHR2ZWMzIGRpckRpZmZ1c2VXZWlnaHQgPSBtaXgoIHZlYzMoIGRpckRpZmZ1c2VXZWlnaHRGdWxsICksIHZlYzMoIGRpckRpZmZ1c2VXZWlnaHRIYWxmICksIHdyYXBSR0IgKTtcXG5cXG5cXHRcXHRcXHRcXHQjZWxzZVxcblxcblxcdFxcdFxcdFxcdFxcdGZsb2F0IGRpckRpZmZ1c2VXZWlnaHQgPSBtYXgoIGRvdFByb2R1Y3QsIDAuMCApO1xcblxcblxcdFxcdFxcdFxcdCNlbmRpZlxcblxcblxcdFxcdFxcdFxcdGRpckRpZmZ1c2UgKz0gZGlmZnVzZSAqIGRpcmVjdGlvbmFsTGlnaHRDb2xvclsgaSBdICogZGlyRGlmZnVzZVdlaWdodDtcXG5cXG5cXHRcXHRcXHRcXHQvLyBzcGVjdWxhclxcblxcblxcdFxcdFxcdFxcdHZlYzMgZGlySGFsZlZlY3RvciA9IG5vcm1hbGl6ZSggZGlyVmVjdG9yICsgdmlld1Bvc2l0aW9uICk7XFxuXFx0XFx0XFx0XFx0ZmxvYXQgZGlyRG90Tm9ybWFsSGFsZiA9IG1heCggZG90KCBub3JtYWwsIGRpckhhbGZWZWN0b3IgKSwgMC4wICk7XFxuXFx0XFx0XFx0XFx0ZmxvYXQgZGlyU3BlY3VsYXJXZWlnaHQgPSBzcGVjdWxhclN0cmVuZ3RoICogbWF4KCBwb3coIGRpckRvdE5vcm1hbEhhbGYsIHNoaW5pbmVzcyApLCAwLjAgKTtcXG5cXG5cXHRcXHRcXHRcXHRmbG9hdCBzcGVjdWxhck5vcm1hbGl6YXRpb24gPSAoIHNoaW5pbmVzcyArIDIuMCApIC8gOC4wO1xcblxcblxcdFxcdFxcdFxcdHZlYzMgc2NobGljayA9IHNwZWN1bGFyICsgdmVjMyggMS4wIC0gc3BlY3VsYXIgKSAqIHBvdyggbWF4KCAxLjAgLSBkb3QoIGRpclZlY3RvciwgZGlySGFsZlZlY3RvciApLCAwLjAgKSwgNS4wICk7XFxuXFx0XFx0XFx0XFx0ZGlyU3BlY3VsYXIgKz0gc2NobGljayAqIGRpcmVjdGlvbmFsTGlnaHRDb2xvclsgaSBdICogZGlyU3BlY3VsYXJXZWlnaHQgKiBkaXJEaWZmdXNlV2VpZ2h0ICogc3BlY3VsYXJOb3JtYWxpemF0aW9uO1xcblxcdFxcdFxcdH1cXG5cXG5cXHRcXHQjZW5kaWZcXG5cXG5cXHRcXHR2ZWMzIHRvdGFsRGlmZnVzZSA9IHZlYzMoIDAuMCApO1xcblxcdFxcdHZlYzMgdG90YWxTcGVjdWxhciA9IHZlYzMoIDAuMCApO1xcblxcblxcdFxcdCNpZiBNQVhfUE9JTlRfTElHSFRTID4gMFxcblxcblxcdFxcdFxcdHRvdGFsRGlmZnVzZSArPSBwb2ludERpZmZ1c2U7XFxuXFx0XFx0XFx0dG90YWxTcGVjdWxhciArPSBwb2ludFNwZWN1bGFyO1xcblxcblxcdFxcdCNlbmRpZlxcblxcblxcdFxcdCNpZiBNQVhfRElSX0xJR0hUUyA+IDBcXG5cXG5cXHRcXHRcXHR0b3RhbERpZmZ1c2UgKz0gZGlyRGlmZnVzZTtcXG5cXHRcXHRcXHR0b3RhbFNwZWN1bGFyICs9IGRpclNwZWN1bGFyO1xcblxcblxcdFxcdCNlbmRpZlxcblxcblxcdFxcdGdsX0ZyYWdDb2xvci54eXogPSBnbF9GcmFnQ29sb3IueHl6ICogKCBlbWlzc2l2ZSArIHRvdGFsRGlmZnVzZSArIGFtYmllbnRMaWdodENvbG9yICogYW1iaWVudCApICsgdG90YWxTcGVjdWxhcjtcXG5cXG5cXHQjZW5kaWZcXG5cXG5cXHQjaWYgZGVmaW5lZCB3ZWlnaHRlZF9zcGxhdHNcXG5cXHQgICAgLy9mbG9hdCB3ID0gcG93KDEuMCAtICh1KnUgKyB2KnYpLCBibGVuZEhhcmRuZXNzKTtcXG5cXG5cXHRcXHRmbG9hdCB3eCA9IDIuMCAqIGxlbmd0aCgyLjAgKiBnbF9Qb2ludENvb3JkIC0gMS4wKTtcXG5cXHRcXHRmbG9hdCB3ID0gZXhwKC13eCAqIHd4ICogMC41KTtcXG5cXG5cXHRcXHQvL2Zsb2F0IGRpc3RhbmNlID0gbGVuZ3RoKDIuMCAqIGdsX1BvaW50Q29vcmQgLSAxLjApO1xcblxcdFxcdC8vZmxvYXQgdyA9IGV4cCggLShkaXN0YW5jZSAqIGRpc3RhbmNlKSAvIGJsZW5kSGFyZG5lc3MpO1xcblxcblxcdFxcdGdsX0ZyYWdDb2xvci5yZ2IgPSBnbF9GcmFnQ29sb3IucmdiICogdztcXG5cXHRcXHRnbF9GcmFnQ29sb3IuYSA9IHc7XFxuXFx0I2VuZGlmXFxuXFxuXFx0I2lmIGRlZmluZWQgcGFyYWJvbG9pZF9wb2ludF9zaGFwZVxcblxcdFxcdGZsb2F0IHdpID0gMC4wIC0gKCB1KnUgKyB2KnYpO1xcblxcdFxcdHZlYzQgcG9zID0gdmVjNCh2Vmlld1Bvc2l0aW9uLCAxLjApO1xcblxcdFxcdHBvcy56ICs9IHdpICogdlJhZGl1cztcXG5cXHRcXHRmbG9hdCBsaW5lYXJEZXB0aCA9IC1wb3MuejtcXG5cXHRcXHRwb3MgPSBwcm9qZWN0aW9uTWF0cml4ICogcG9zO1xcblxcdFxcdHBvcyA9IHBvcyAvIHBvcy53O1xcblxcdFxcdGZsb2F0IGV4cERlcHRoID0gcG9zLno7XFxuXFx0XFx0ZGVwdGggPSAocG9zLnogKyAxLjApIC8gMi4wO1xcblxcdFxcdGdsX0ZyYWdEZXB0aEVYVCA9IGRlcHRoO1xcblxcblxcdFxcdCNpZiBkZWZpbmVkKGNvbG9yX3R5cGVfZGVwdGgpXFxuXFx0XFx0XFx0Z2xfRnJhZ0NvbG9yLnIgPSBsaW5lYXJEZXB0aDtcXG5cXHRcXHRcXHRnbF9GcmFnQ29sb3IuZyA9IGV4cERlcHRoO1xcblxcdFxcdCNlbmRpZlxcblxcblxcdFxcdCNpZiBkZWZpbmVkKHVzZV9lZGwpXFxuXFx0XFx0XFx0Z2xfRnJhZ0NvbG9yLmEgPSBsb2cyKGxpbmVhckRlcHRoKTtcXG5cXHRcXHQjZW5kaWZcXG5cXG5cXHQjZWxzZVxcblxcdFxcdCNpZiBkZWZpbmVkKHVzZV9lZGwpXFxuXFx0XFx0XFx0Z2xfRnJhZ0NvbG9yLmEgPSB2TG9nRGVwdGg7XFxuXFx0XFx0I2VuZGlmXFxuXFx0I2VuZGlmXFxuXFxuXFx0I2lmZGVmIGhpZ2hsaWdodF9wb2ludFxcblxcdFxcdGlmICh2SGlnaGxpZ2h0ID4gMC4wKSB7XFxuXFx0XFx0XFx0Z2xfRnJhZ0NvbG9yID0gaGlnaGxpZ2h0ZWRQb2ludENvbG9yO1xcblxcdFxcdH1cXG5cXHQjZW5kaWZcXG59XFxuXCI7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/materials/shaders/pointcloud.frag\n");

/***/ }),

/***/ "./src/materials/shaders/pointcloud.vert":
/*!***********************************************!*\
  !*** ./src/materials/shaders/pointcloud.vert ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"precision highp float;\\nprecision highp int;\\n\\n#define max_clip_boxes 30\\n\\nattribute vec3 position;\\nattribute vec3 color;\\n\\n#ifdef color_rgba\\n\\tattribute vec4 rgba;\\n#endif\\n\\nattribute vec3 normal;\\nattribute float intensity;\\nattribute float classification;\\nattribute float returnNumber;\\nattribute float numberOfReturns;\\nattribute float pointSourceID;\\nattribute vec4 indices;\\nattribute vec2 uv;\\n\\nuniform mat4 modelMatrix;\\nuniform mat4 modelViewMatrix;\\nuniform mat4 projectionMatrix;\\nuniform mat4 viewMatrix;\\nuniform mat3 normalMatrix;\\n\\nuniform float pcIndex;\\n\\nuniform float screenWidth;\\nuniform float screenHeight;\\nuniform float fov;\\nuniform float spacing;\\n\\n#if defined use_clip_box\\n\\tuniform mat4 clipBoxes[max_clip_boxes];\\n#endif\\n\\nuniform float heightMin;\\nuniform float heightMax;\\nuniform float size; // pixel size factor\\nuniform float minSize; // minimum pixel size\\nuniform float maxSize; // maximum pixel size\\nuniform float octreeSize;\\nuniform vec3 bbSize;\\nuniform vec3 uColor;\\nuniform float opacity;\\nuniform float clipBoxCount;\\nuniform float level;\\nuniform float vnStart;\\nuniform bool isLeafNode;\\n\\nuniform float filterByNormalThreshold;\\nuniform vec2 intensityRange;\\nuniform float opacityAttenuation;\\nuniform float intensityGamma;\\nuniform float intensityContrast;\\nuniform float intensityBrightness;\\nuniform float rgbGamma;\\nuniform float rgbContrast;\\nuniform float rgbBrightness;\\nuniform float transition;\\nuniform float wRGB;\\nuniform float wIntensity;\\nuniform float wElevation;\\nuniform float wClassification;\\nuniform float wReturnNumber;\\nuniform float wSourceID;\\n\\nuniform sampler2D visibleNodes;\\nuniform sampler2D gradient;\\nuniform sampler2D classificationLUT;\\nuniform sampler2D depthMap;\\n\\n#ifdef use_texture_blending\\n\\tuniform sampler2D backgroundMap;\\n#endif\\n\\n#ifdef use_point_cloud_mixing\\n\\tuniform int pointCloudMixingMode;\\n\\tuniform float pointCloudID;\\n\\n\\tuniform float pointCloudMixAngle;\\n\\tuniform float stripeDistanceX;\\n\\tuniform float stripeDistanceY;\\n\\n\\tuniform float stripeDivisorX;\\n\\tuniform float stripeDivisorY;\\n#endif\\n\\n#ifdef highlight_point\\n\\tuniform vec3 highlightedPointCoordinate;\\n\\tuniform bool enablePointHighlighting;\\n\\tuniform float highlightedPointScale;\\n#endif\\n\\n#ifdef use_filter_by_normal\\n\\tuniform int normalFilteringMode;\\n#endif\\n\\nvarying vec3 vColor;\\n\\n#if !defined(color_type_point_index)\\n\\tvarying float vOpacity;\\n#endif\\n\\n#if defined(weighted_splats)\\n\\tvarying float vLinearDepth;\\n#endif\\n\\n#if !defined(paraboloid_point_shape) && defined(use_edl)\\n\\tvarying float vLogDepth;\\n#endif\\n\\n#if defined(color_type_phong) && (MAX_POINT_LIGHTS > 0 || MAX_DIR_LIGHTS > 0) || defined(paraboloid_point_shape)\\n\\tvarying vec3 vViewPosition;\\n#endif\\n\\n#if defined(weighted_splats) || defined(paraboloid_point_shape)\\n\\tvarying float vRadius;\\n#endif\\n\\n#if defined(color_type_phong) && (MAX_POINT_LIGHTS > 0 || MAX_DIR_LIGHTS > 0)\\n\\tvarying vec3 vNormal;\\n#endif\\n\\n#ifdef highlight_point\\n\\tvarying float vHighlight;\\n#endif\\n\\n// ---------------------\\n// OCTREE\\n// ---------------------\\n\\n#if (defined(adaptive_point_size) || defined(color_type_lod)) && defined(tree_type_octree)\\n\\n/**\\n * Rounds the specified number to the closest integer.\\n */\\nfloat round(float number){\\n\\treturn floor(number + 0.5);\\n}\\n\\n/**\\n * Gets the number of 1-bits up to inclusive index position.\\n *\\n * number is treated as if it were an integer in the range 0-255\\n */\\nint numberOfOnes(int number, int index) {\\n\\tint numOnes = 0;\\n\\tint tmp = 128;\\n\\tfor (int i = 7; i >= 0; i--) {\\n\\n\\t\\tif (number >= tmp) {\\n\\t\\t\\tnumber = number - tmp;\\n\\n\\t\\t\\tif (i <= index) {\\n\\t\\t\\t\\tnumOnes++;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\ttmp = tmp / 2;\\n\\t}\\n\\n\\treturn numOnes;\\n}\\n\\n/**\\n * Checks whether the bit at index is 1.0\\n *\\n * number is treated as if it were an integer in the range 0-255\\n */\\nbool isBitSet(int number, int index){\\n\\n\\t// weird multi else if due to lack of proper array, int and bitwise support in WebGL 1.0\\n\\tint powi = 1;\\n\\tif (index == 0) {\\n\\t\\tpowi = 1;\\n\\t} else if (index == 1) {\\n\\t\\tpowi = 2;\\n\\t} else if (index == 2) {\\n\\t\\tpowi = 4;\\n\\t} else if (index == 3) {\\n\\t\\tpowi = 8;\\n\\t} else if (index == 4) {\\n\\t\\tpowi = 16;\\n\\t} else if (index == 5) {\\n\\t\\tpowi = 32;\\n\\t} else if (index == 6) {\\n\\t\\tpowi = 64;\\n\\t} else if (index == 7) {\\n\\t\\tpowi = 128;\\n\\t}\\n\\n\\tint ndp = number / powi;\\n\\n\\treturn mod(float(ndp), 2.0) != 0.0;\\n}\\n\\n/**\\n * Gets the the LOD at the point position.\\n */\\nfloat getLOD() {\\n\\tvec3 offset = vec3(0.0, 0.0, 0.0);\\n\\tint iOffset = int(vnStart);\\n\\tfloat depth = level;\\n\\n\\tfor (float i = 0.0; i <= 30.0; i++) {\\n\\t\\tfloat nodeSizeAtLevel = octreeSize  / pow(2.0, i + level + 0.0);\\n\\n\\t\\tvec3 index3d = (position-offset) / nodeSizeAtLevel;\\n\\t\\tindex3d = floor(index3d + 0.5);\\n\\t\\tint index = int(round(4.0 * index3d.x + 2.0 * index3d.y + index3d.z));\\n\\n\\t\\tvec4 value = texture2D(visibleNodes, vec2(float(iOffset) / 2048.0, 0.0));\\n\\t\\tint mask = int(round(value.r * 255.0));\\n\\n\\t\\tif (isBitSet(mask, index)) {\\n\\t\\t\\t// there are more visible child nodes at this position\\n\\t\\t\\tint advanceG = int(round(value.g * 255.0)) * 256;\\n\\t\\t\\tint advanceB = int(round(value.b * 255.0));\\n\\t\\t\\tint advanceChild = numberOfOnes(mask, index - 1);\\n\\t\\t\\tint advance = advanceG + advanceB + advanceChild;\\n\\n\\t\\t\\tiOffset = iOffset + advance;\\n\\n\\t\\t\\tdepth++;\\n\\t\\t} else {\\n\\t\\t\\treturn value.a * 255.0; // no more visible child nodes at this position\\n\\t\\t}\\n\\n\\t\\toffset = offset + (vec3(1.0, 1.0, 1.0) * nodeSizeAtLevel * 0.5) * index3d;\\n\\t}\\n\\n\\treturn depth;\\n}\\n\\nfloat getPointSizeAttenuation() {\\n\\treturn 0.5 * pow(2.0, getLOD());\\n}\\n\\n#endif\\n\\n// ---------------------\\n// KD-TREE\\n// ---------------------\\n\\n#if (defined(adaptive_point_size) || defined(color_type_lod)) && defined(tree_type_kdtree)\\n\\nfloat getLOD() {\\n\\tvec3 offset = vec3(0.0, 0.0, 0.0);\\n\\tfloat intOffset = 0.0;\\n\\tfloat depth = 0.0;\\n\\n\\tvec3 size = bbSize;\\n\\tvec3 pos = position;\\n\\n\\tfor (float i = 0.0; i <= 1000.0; i++) {\\n\\n\\t\\tvec4 value = texture2D(visibleNodes, vec2(intOffset / 2048.0, 0.0));\\n\\n\\t\\tint children = int(value.r * 255.0);\\n\\t\\tfloat next = value.g * 255.0;\\n\\t\\tint split = int(value.b * 255.0);\\n\\n\\t\\tif (next == 0.0) {\\n\\t\\t \\treturn depth;\\n\\t\\t}\\n\\n\\t\\tvec3 splitv = vec3(0.0, 0.0, 0.0);\\n\\t\\tif (split == 1) {\\n\\t\\t\\tsplitv.x = 1.0;\\n\\t\\t} else if (split == 2) {\\n\\t\\t \\tsplitv.y = 1.0;\\n\\t\\t} else if (split == 4) {\\n\\t\\t \\tsplitv.z = 1.0;\\n\\t\\t}\\n\\n\\t\\tintOffset = intOffset + next;\\n\\n\\t\\tfloat factor = length(pos * splitv / size);\\n\\t\\tif (factor < 0.5) {\\n\\t\\t \\t// left\\n\\t\\t\\tif (children == 0 || children == 2) {\\n\\t\\t\\t\\treturn depth;\\n\\t\\t\\t}\\n\\t\\t} else {\\n\\t\\t\\t// right\\n\\t\\t\\tpos = pos - size * splitv * 0.5;\\n\\t\\t\\tif (children == 0 || children == 1) {\\n\\t\\t\\t\\treturn depth;\\n\\t\\t\\t}\\n\\t\\t\\tif (children == 3) {\\n\\t\\t\\t\\tintOffset = intOffset + 1.0;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t\\tsize = size * ((1.0 - (splitv + 1.0) / 2.0) + 0.5);\\n\\n\\t\\tdepth++;\\n\\t}\\n\\n\\n\\treturn depth;\\n}\\n\\nfloat getPointSizeAttenuation() {\\n\\treturn 0.5 * pow(1.3, getLOD());\\n}\\n\\n#endif\\n\\n// formula adapted from: http://www.dfstudios.co.uk/articles/programming/image-programming-algorithms/image-processing-algorithms-part-5-contrast-adjustment/\\nfloat getContrastFactor(float contrast) {\\n\\treturn (1.0158730158730156 * (contrast + 1.0)) / (1.0158730158730156 - contrast);\\n}\\n\\nvec3 getRGB() {\\n\\t\\n\\t#ifdef color_rgba\\n\\t\\tvec3 rgb = rgba.rgb;\\n\\t#else\\t\\n\\t\\tvec3 rgb = color;\\n\\t#endif\\t\\t\\n\\n\\t#if defined(use_rgb_gamma_contrast_brightness)\\n\\t\\trgb = pow(rgb, vec3(rgbGamma));\\n\\t\\trgb = rgb + rgbBrightness;\\n\\t\\trgb = (rgb - 0.5) * getContrastFactor(rgbContrast) + 0.5;\\n\\t\\trgb = clamp(rgb, 0.0, 1.0);\\n\\t\\treturn rgb;\\n\\t#else\\n\\t\\treturn rgb;\\n\\t#endif\\n}\\n\\nfloat getIntensity() {\\n\\tfloat w = (intensity - intensityRange.x) / (intensityRange.y - intensityRange.x);\\n\\tw = pow(w, intensityGamma);\\n\\tw = w + intensityBrightness;\\n\\tw = (w - 0.5) * getContrastFactor(intensityContrast) + 0.5;\\n\\tw = clamp(w, 0.0, 1.0);\\n\\n\\treturn w;\\n}\\n\\nvec3 getElevation() {\\n\\tvec4 world = modelMatrix * vec4( position, 1.0 );\\n\\tfloat w = (world.z - heightMin) / (heightMax-heightMin);\\n\\tvec3 cElevation = texture2D(gradient, vec2(w,1.0-w)).rgb;\\n\\n\\treturn cElevation;\\n}\\n\\nvec4 getClassification() {\\n\\tvec2 uv = vec2(classification / 255.0, 0.5);\\n\\tvec4 classColor = texture2D(classificationLUT, uv);\\n\\n\\treturn classColor;\\n}\\n\\nvec3 getReturnNumber() {\\n\\tif (numberOfReturns == 1.0) {\\n\\t\\treturn vec3(1.0, 1.0, 0.0);\\n\\t} else {\\n\\t\\tif (returnNumber == 1.0) {\\n\\t\\t\\treturn vec3(1.0, 0.0, 0.0);\\n\\t\\t} else if (returnNumber == numberOfReturns) {\\n\\t\\t\\treturn vec3(0.0, 0.0, 1.0);\\n\\t\\t} else {\\n\\t\\t\\treturn vec3(0.0, 1.0, 0.0);\\n\\t\\t}\\n\\t}\\n}\\n\\nvec3 getSourceID() {\\n\\tfloat w = mod(pointSourceID, 10.0) / 10.0;\\n\\treturn texture2D(gradient, vec2(w, 1.0 - w)).rgb;\\n}\\n\\nvec3 getCompositeColor() {\\n\\tvec3 c;\\n\\tfloat w;\\n\\n\\tc += wRGB * getRGB();\\n\\tw += wRGB;\\n\\n\\tc += wIntensity * getIntensity() * vec3(1.0, 1.0, 1.0);\\n\\tw += wIntensity;\\n\\n\\tc += wElevation * getElevation();\\n\\tw += wElevation;\\n\\n\\tc += wReturnNumber * getReturnNumber();\\n\\tw += wReturnNumber;\\n\\n\\tc += wSourceID * getSourceID();\\n\\tw += wSourceID;\\n\\n\\tvec4 cl = wClassification * getClassification();\\n\\tc += cl.a * cl.rgb;\\n\\tw += wClassification * cl.a;\\n\\n\\tc = c / w;\\n\\n\\tif (w == 0.0) {\\n\\t\\tgl_Position = vec4(100.0, 100.0, 100.0, 0.0);\\n\\t}\\n\\n\\treturn c;\\n}\\n\\nvoid main() {\\n\\tvec4 mvPosition = modelViewMatrix * vec4(position, 1.0);\\n\\n\\tgl_Position = projectionMatrix * mvPosition;\\n\\n\\t#if defined(color_type_phong) && (MAX_POINT_LIGHTS > 0 || MAX_DIR_LIGHTS > 0) || defined(paraboloid_point_shape)\\n\\t\\tvViewPosition = mvPosition.xyz;\\n\\t#endif\\n\\n\\t#if defined weighted_splats\\n\\t\\tvLinearDepth = gl_Position.w;\\n\\t#endif\\n\\n\\t#if defined(color_type_phong) && (MAX_POINT_LIGHTS > 0 || MAX_DIR_LIGHTS > 0)\\n\\t\\tvNormal = normalize(normalMatrix * normal);\\n\\t#endif\\n\\n\\t#if !defined(paraboloid_point_shape) && defined(use_edl)\\n\\t\\tvLogDepth = log2(-mvPosition.z);\\n\\t#endif\\n\\n\\t// ---------------------\\n\\t// POINT SIZE\\n\\t// ---------------------\\n\\n\\tfloat pointSize = 1.0;\\n\\tfloat slope = tan(fov / 2.0);\\n\\tfloat projFactor =  -0.5 * screenHeight / (slope * mvPosition.z);\\n\\n\\t#if defined fixed_point_size\\n\\t\\tpointSize = size;\\n\\t#elif defined attenuated_point_size\\n\\t\\tpointSize = size * spacing * projFactor;\\n\\t#elif defined adaptive_point_size\\n\\t\\tfloat worldSpaceSize = 2.0 * size * spacing / getPointSizeAttenuation();\\n\\t\\tpointSize = worldSpaceSize * projFactor;\\n\\t#endif\\n\\n\\tpointSize = max(minSize, pointSize);\\n\\tpointSize = min(maxSize, pointSize);\\n\\n\\t#if defined(weighted_splats) || defined(paraboloid_point_shape)\\n\\t\\tvRadius = pointSize / projFactor;\\n\\t#endif\\n\\n\\tgl_PointSize = pointSize;\\n\\n\\t// ---------------------\\n\\t// HIGHLIGHTING\\n\\t// ---------------------\\n\\n\\t#ifdef highlight_point\\n\\t\\tvec4 mPosition = modelMatrix * vec4(position, 1.0);\\n\\t\\tif (enablePointHighlighting && abs(mPosition.x - highlightedPointCoordinate.x) < 0.0001 &&\\n\\t\\t\\tabs(mPosition.y - highlightedPointCoordinate.y) < 0.0001 &&\\n\\t\\t\\tabs(mPosition.z - highlightedPointCoordinate.z) < 0.0001) {\\n\\t\\t\\tvHighlight = 1.0;\\n\\t\\t\\tgl_PointSize = pointSize * highlightedPointScale;\\n\\t\\t} else {\\n\\t\\t\\tvHighlight = 0.0;\\n\\t\\t}\\n\\t#endif\\n\\n\\t// ---------------------\\n\\t// OPACITY\\n\\t// ---------------------\\n\\n\\t#ifndef color_type_point_index\\n\\t\\t#ifdef attenuated_opacity\\n\\t\\t\\tvOpacity = opacity * exp(-length(-mvPosition.xyz) / opacityAttenuation);\\n\\t\\t#else\\n\\t\\t\\tvOpacity = opacity;\\n\\t\\t#endif\\n\\t#endif\\n\\n\\t// ---------------------\\n\\t// FILTERING\\n\\t// ---------------------\\n\\n\\t#ifdef use_filter_by_normal\\n\\t\\tbool discardPoint = false;\\n\\t\\t// Absolute normal filtering\\n\\t\\tif (normalFilteringMode == 1) {\\n\\t\\t\\tdiscardPoint = (abs((modelViewMatrix * vec4(normal, 0.0)).z) > filterByNormalThreshold);\\n\\t\\t}\\n\\t\\t// less than equal to\\n\\t\\telse if (normalFilteringMode == 2) {\\n\\t\\t\\tdiscardPoint = (modelViewMatrix * vec4(normal, 0.0)).z <= filterByNormalThreshold;\\n\\t\\t\\t}\\n\\t\\t// greater than\\n\\t\\telse if(normalFilteringMode == 3) {\\n\\t\\t\\tdiscardPoint = (modelViewMatrix * vec4(normal, 0.0)).z > filterByNormalThreshold;\\n\\t\\t\\t}\\n\\n\\t\\tif (discardPoint)\\n\\t\\t{\\n\\t\\t\\tgl_Position = vec4(0.0, 0.0, 2.0, 1.0);\\n\\t\\t}\\n\\t#endif\\n\\n\\t// ---------------------\\n\\t// POINT COLOR\\n\\t// ---------------------\\n\\n\\t#ifdef color_type_rgb\\n\\t\\tvColor = getRGB();\\n\\t#elif defined color_type_height\\n\\t\\tvColor = getElevation();\\n\\t#elif defined color_type_rgb_height\\n\\t\\tvec3 cHeight = getElevation();\\n\\t\\tvColor = (1.0 - transition) * getRGB() + transition * cHeight;\\n\\t#elif defined color_type_depth\\n\\t\\tfloat linearDepth = -mvPosition.z ;\\n\\t\\tfloat expDepth = (gl_Position.z / gl_Position.w) * 0.5 + 0.5;\\n\\t\\tvColor = vec3(linearDepth, expDepth, 0.0);\\n\\t#elif defined color_type_intensity\\n\\t\\tfloat w = getIntensity();\\n\\t\\tvColor = vec3(w, w, w);\\n\\t#elif defined color_type_intensity_gradient\\n\\t\\tfloat w = getIntensity();\\n\\t\\tvColor = texture2D(gradient, vec2(w, 1.0 - w)).rgb;\\n\\t#elif defined color_type_color\\n\\t\\tvColor = uColor;\\n\\t#elif defined color_type_lod\\n\\tfloat w = getLOD() / 10.0;\\n\\tvColor = texture2D(gradient, vec2(w, 1.0 - w)).rgb;\\n\\t#elif defined color_type_point_index\\n\\t\\tvColor = indices.rgb;\\n\\t#elif defined color_type_classification\\n\\t  vec4 cl = getClassification();\\n\\t\\tvColor = cl.rgb;\\n\\t#elif defined color_type_return_number\\n\\t\\tvColor = getReturnNumber();\\n\\t#elif defined color_type_source\\n\\t\\tvColor = getSourceID();\\n\\t#elif defined color_type_normal\\n\\t\\tvColor = (modelMatrix * vec4(normal, 0.0)).xyz;\\n\\t#elif defined color_type_phong\\n\\t\\tvColor = color;\\n\\t#elif defined color_type_composite\\n\\t\\tvColor = getCompositeColor();\\n\\t#endif\\n\\n\\t#if !defined color_type_composite && defined color_type_classification\\n\\t\\tif (cl.a == 0.0) {\\n\\t\\t\\tgl_Position = vec4(100.0, 100.0, 100.0, 0.0);\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\t#endif\\n\\n\\t// ---------------------\\n\\t// CLIPPING\\n\\t// ---------------------\\n\\n\\t#if defined use_clip_box\\n\\t\\tbool insideAny = false;\\n\\t\\tfor (int i = 0; i < max_clip_boxes; i++) {\\n\\t\\t\\tif (i == int(clipBoxCount)) {\\n\\t\\t\\t\\tbreak;\\n\\t\\t\\t}\\n\\n\\t\\t\\tvec4 clipPosition = clipBoxes[i] * modelMatrix * vec4(position, 1.0);\\n\\t\\t\\tbool inside = -0.5 <= clipPosition.x && clipPosition.x <= 0.5;\\n\\t\\t\\tinside = inside && -0.5 <= clipPosition.y && clipPosition.y <= 0.5;\\n\\t\\t\\tinside = inside && -0.5 <= clipPosition.z && clipPosition.z <= 0.5;\\n\\t\\t\\tinsideAny = insideAny || inside;\\n\\t\\t}\\n\\n\\t\\tif (!insideAny) {\\n\\t\\t\\t#if defined clip_outside\\n\\t\\t\\t\\tgl_Position = vec4(1000.0, 1000.0, 1000.0, 1.0);\\n\\t\\t\\t#elif defined clip_highlight_inside && !defined(color_type_depth)\\n\\t\\t\\t\\tfloat c = (vColor.r + vColor.g + vColor.b) / 6.0;\\n\\t\\t\\t#endif\\n\\t\\t} else {\\n\\t\\t\\t#if defined clip_highlight_inside\\n\\t\\t\\t\\tvColor.r += 0.5;\\n\\t\\t\\t#endif\\n\\t\\t}\\n\\t#endif\\n}\\n\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWF0ZXJpYWxzL3NoYWRlcnMvcG9pbnRjbG91ZC52ZXJ0IiwibWFwcGluZ3MiOiI7Ozs7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL3BvdHJlZS8uL3NyYy9tYXRlcmlhbHMvc2hhZGVycy9wb2ludGNsb3VkLnZlcnQ/ZWZjOCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBcInByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG5wcmVjaXNpb24gaGlnaHAgaW50O1xcblxcbiNkZWZpbmUgbWF4X2NsaXBfYm94ZXMgMzBcXG5cXG5hdHRyaWJ1dGUgdmVjMyBwb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMyBjb2xvcjtcXG5cXG4jaWZkZWYgY29sb3JfcmdiYVxcblxcdGF0dHJpYnV0ZSB2ZWM0IHJnYmE7XFxuI2VuZGlmXFxuXFxuYXR0cmlidXRlIHZlYzMgbm9ybWFsO1xcbmF0dHJpYnV0ZSBmbG9hdCBpbnRlbnNpdHk7XFxuYXR0cmlidXRlIGZsb2F0IGNsYXNzaWZpY2F0aW9uO1xcbmF0dHJpYnV0ZSBmbG9hdCByZXR1cm5OdW1iZXI7XFxuYXR0cmlidXRlIGZsb2F0IG51bWJlck9mUmV0dXJucztcXG5hdHRyaWJ1dGUgZmxvYXQgcG9pbnRTb3VyY2VJRDtcXG5hdHRyaWJ1dGUgdmVjNCBpbmRpY2VzO1xcbmF0dHJpYnV0ZSB2ZWMyIHV2O1xcblxcbnVuaWZvcm0gbWF0NCBtb2RlbE1hdHJpeDtcXG51bmlmb3JtIG1hdDQgbW9kZWxWaWV3TWF0cml4O1xcbnVuaWZvcm0gbWF0NCBwcm9qZWN0aW9uTWF0cml4O1xcbnVuaWZvcm0gbWF0NCB2aWV3TWF0cml4O1xcbnVuaWZvcm0gbWF0MyBub3JtYWxNYXRyaXg7XFxuXFxudW5pZm9ybSBmbG9hdCBwY0luZGV4O1xcblxcbnVuaWZvcm0gZmxvYXQgc2NyZWVuV2lkdGg7XFxudW5pZm9ybSBmbG9hdCBzY3JlZW5IZWlnaHQ7XFxudW5pZm9ybSBmbG9hdCBmb3Y7XFxudW5pZm9ybSBmbG9hdCBzcGFjaW5nO1xcblxcbiNpZiBkZWZpbmVkIHVzZV9jbGlwX2JveFxcblxcdHVuaWZvcm0gbWF0NCBjbGlwQm94ZXNbbWF4X2NsaXBfYm94ZXNdO1xcbiNlbmRpZlxcblxcbnVuaWZvcm0gZmxvYXQgaGVpZ2h0TWluO1xcbnVuaWZvcm0gZmxvYXQgaGVpZ2h0TWF4O1xcbnVuaWZvcm0gZmxvYXQgc2l6ZTsgLy8gcGl4ZWwgc2l6ZSBmYWN0b3JcXG51bmlmb3JtIGZsb2F0IG1pblNpemU7IC8vIG1pbmltdW0gcGl4ZWwgc2l6ZVxcbnVuaWZvcm0gZmxvYXQgbWF4U2l6ZTsgLy8gbWF4aW11bSBwaXhlbCBzaXplXFxudW5pZm9ybSBmbG9hdCBvY3RyZWVTaXplO1xcbnVuaWZvcm0gdmVjMyBiYlNpemU7XFxudW5pZm9ybSB2ZWMzIHVDb2xvcjtcXG51bmlmb3JtIGZsb2F0IG9wYWNpdHk7XFxudW5pZm9ybSBmbG9hdCBjbGlwQm94Q291bnQ7XFxudW5pZm9ybSBmbG9hdCBsZXZlbDtcXG51bmlmb3JtIGZsb2F0IHZuU3RhcnQ7XFxudW5pZm9ybSBib29sIGlzTGVhZk5vZGU7XFxuXFxudW5pZm9ybSBmbG9hdCBmaWx0ZXJCeU5vcm1hbFRocmVzaG9sZDtcXG51bmlmb3JtIHZlYzIgaW50ZW5zaXR5UmFuZ2U7XFxudW5pZm9ybSBmbG9hdCBvcGFjaXR5QXR0ZW51YXRpb247XFxudW5pZm9ybSBmbG9hdCBpbnRlbnNpdHlHYW1tYTtcXG51bmlmb3JtIGZsb2F0IGludGVuc2l0eUNvbnRyYXN0O1xcbnVuaWZvcm0gZmxvYXQgaW50ZW5zaXR5QnJpZ2h0bmVzcztcXG51bmlmb3JtIGZsb2F0IHJnYkdhbW1hO1xcbnVuaWZvcm0gZmxvYXQgcmdiQ29udHJhc3Q7XFxudW5pZm9ybSBmbG9hdCByZ2JCcmlnaHRuZXNzO1xcbnVuaWZvcm0gZmxvYXQgdHJhbnNpdGlvbjtcXG51bmlmb3JtIGZsb2F0IHdSR0I7XFxudW5pZm9ybSBmbG9hdCB3SW50ZW5zaXR5O1xcbnVuaWZvcm0gZmxvYXQgd0VsZXZhdGlvbjtcXG51bmlmb3JtIGZsb2F0IHdDbGFzc2lmaWNhdGlvbjtcXG51bmlmb3JtIGZsb2F0IHdSZXR1cm5OdW1iZXI7XFxudW5pZm9ybSBmbG9hdCB3U291cmNlSUQ7XFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdmlzaWJsZU5vZGVzO1xcbnVuaWZvcm0gc2FtcGxlcjJEIGdyYWRpZW50O1xcbnVuaWZvcm0gc2FtcGxlcjJEIGNsYXNzaWZpY2F0aW9uTFVUO1xcbnVuaWZvcm0gc2FtcGxlcjJEIGRlcHRoTWFwO1xcblxcbiNpZmRlZiB1c2VfdGV4dHVyZV9ibGVuZGluZ1xcblxcdHVuaWZvcm0gc2FtcGxlcjJEIGJhY2tncm91bmRNYXA7XFxuI2VuZGlmXFxuXFxuI2lmZGVmIHVzZV9wb2ludF9jbG91ZF9taXhpbmdcXG5cXHR1bmlmb3JtIGludCBwb2ludENsb3VkTWl4aW5nTW9kZTtcXG5cXHR1bmlmb3JtIGZsb2F0IHBvaW50Q2xvdWRJRDtcXG5cXG5cXHR1bmlmb3JtIGZsb2F0IHBvaW50Q2xvdWRNaXhBbmdsZTtcXG5cXHR1bmlmb3JtIGZsb2F0IHN0cmlwZURpc3RhbmNlWDtcXG5cXHR1bmlmb3JtIGZsb2F0IHN0cmlwZURpc3RhbmNlWTtcXG5cXG5cXHR1bmlmb3JtIGZsb2F0IHN0cmlwZURpdmlzb3JYO1xcblxcdHVuaWZvcm0gZmxvYXQgc3RyaXBlRGl2aXNvclk7XFxuI2VuZGlmXFxuXFxuI2lmZGVmIGhpZ2hsaWdodF9wb2ludFxcblxcdHVuaWZvcm0gdmVjMyBoaWdobGlnaHRlZFBvaW50Q29vcmRpbmF0ZTtcXG5cXHR1bmlmb3JtIGJvb2wgZW5hYmxlUG9pbnRIaWdobGlnaHRpbmc7XFxuXFx0dW5pZm9ybSBmbG9hdCBoaWdobGlnaHRlZFBvaW50U2NhbGU7XFxuI2VuZGlmXFxuXFxuI2lmZGVmIHVzZV9maWx0ZXJfYnlfbm9ybWFsXFxuXFx0dW5pZm9ybSBpbnQgbm9ybWFsRmlsdGVyaW5nTW9kZTtcXG4jZW5kaWZcXG5cXG52YXJ5aW5nIHZlYzMgdkNvbG9yO1xcblxcbiNpZiAhZGVmaW5lZChjb2xvcl90eXBlX3BvaW50X2luZGV4KVxcblxcdHZhcnlpbmcgZmxvYXQgdk9wYWNpdHk7XFxuI2VuZGlmXFxuXFxuI2lmIGRlZmluZWQod2VpZ2h0ZWRfc3BsYXRzKVxcblxcdHZhcnlpbmcgZmxvYXQgdkxpbmVhckRlcHRoO1xcbiNlbmRpZlxcblxcbiNpZiAhZGVmaW5lZChwYXJhYm9sb2lkX3BvaW50X3NoYXBlKSAmJiBkZWZpbmVkKHVzZV9lZGwpXFxuXFx0dmFyeWluZyBmbG9hdCB2TG9nRGVwdGg7XFxuI2VuZGlmXFxuXFxuI2lmIGRlZmluZWQoY29sb3JfdHlwZV9waG9uZykgJiYgKE1BWF9QT0lOVF9MSUdIVFMgPiAwIHx8IE1BWF9ESVJfTElHSFRTID4gMCkgfHwgZGVmaW5lZChwYXJhYm9sb2lkX3BvaW50X3NoYXBlKVxcblxcdHZhcnlpbmcgdmVjMyB2Vmlld1Bvc2l0aW9uO1xcbiNlbmRpZlxcblxcbiNpZiBkZWZpbmVkKHdlaWdodGVkX3NwbGF0cykgfHwgZGVmaW5lZChwYXJhYm9sb2lkX3BvaW50X3NoYXBlKVxcblxcdHZhcnlpbmcgZmxvYXQgdlJhZGl1cztcXG4jZW5kaWZcXG5cXG4jaWYgZGVmaW5lZChjb2xvcl90eXBlX3Bob25nKSAmJiAoTUFYX1BPSU5UX0xJR0hUUyA+IDAgfHwgTUFYX0RJUl9MSUdIVFMgPiAwKVxcblxcdHZhcnlpbmcgdmVjMyB2Tm9ybWFsO1xcbiNlbmRpZlxcblxcbiNpZmRlZiBoaWdobGlnaHRfcG9pbnRcXG5cXHR2YXJ5aW5nIGZsb2F0IHZIaWdobGlnaHQ7XFxuI2VuZGlmXFxuXFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tXFxuLy8gT0NUUkVFXFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tXFxuXFxuI2lmIChkZWZpbmVkKGFkYXB0aXZlX3BvaW50X3NpemUpIHx8IGRlZmluZWQoY29sb3JfdHlwZV9sb2QpKSAmJiBkZWZpbmVkKHRyZWVfdHlwZV9vY3RyZWUpXFxuXFxuLyoqXFxuICogUm91bmRzIHRoZSBzcGVjaWZpZWQgbnVtYmVyIHRvIHRoZSBjbG9zZXN0IGludGVnZXIuXFxuICovXFxuZmxvYXQgcm91bmQoZmxvYXQgbnVtYmVyKXtcXG5cXHRyZXR1cm4gZmxvb3IobnVtYmVyICsgMC41KTtcXG59XFxuXFxuLyoqXFxuICogR2V0cyB0aGUgbnVtYmVyIG9mIDEtYml0cyB1cCB0byBpbmNsdXNpdmUgaW5kZXggcG9zaXRpb24uXFxuICpcXG4gKiBudW1iZXIgaXMgdHJlYXRlZCBhcyBpZiBpdCB3ZXJlIGFuIGludGVnZXIgaW4gdGhlIHJhbmdlIDAtMjU1XFxuICovXFxuaW50IG51bWJlck9mT25lcyhpbnQgbnVtYmVyLCBpbnQgaW5kZXgpIHtcXG5cXHRpbnQgbnVtT25lcyA9IDA7XFxuXFx0aW50IHRtcCA9IDEyODtcXG5cXHRmb3IgKGludCBpID0gNzsgaSA+PSAwOyBpLS0pIHtcXG5cXG5cXHRcXHRpZiAobnVtYmVyID49IHRtcCkge1xcblxcdFxcdFxcdG51bWJlciA9IG51bWJlciAtIHRtcDtcXG5cXG5cXHRcXHRcXHRpZiAoaSA8PSBpbmRleCkge1xcblxcdFxcdFxcdFxcdG51bU9uZXMrKztcXG5cXHRcXHRcXHR9XFxuXFx0XFx0fVxcblxcblxcdFxcdHRtcCA9IHRtcCAvIDI7XFxuXFx0fVxcblxcblxcdHJldHVybiBudW1PbmVzO1xcbn1cXG5cXG4vKipcXG4gKiBDaGVja3Mgd2hldGhlciB0aGUgYml0IGF0IGluZGV4IGlzIDEuMFxcbiAqXFxuICogbnVtYmVyIGlzIHRyZWF0ZWQgYXMgaWYgaXQgd2VyZSBhbiBpbnRlZ2VyIGluIHRoZSByYW5nZSAwLTI1NVxcbiAqL1xcbmJvb2wgaXNCaXRTZXQoaW50IG51bWJlciwgaW50IGluZGV4KXtcXG5cXG5cXHQvLyB3ZWlyZCBtdWx0aSBlbHNlIGlmIGR1ZSB0byBsYWNrIG9mIHByb3BlciBhcnJheSwgaW50IGFuZCBiaXR3aXNlIHN1cHBvcnQgaW4gV2ViR0wgMS4wXFxuXFx0aW50IHBvd2kgPSAxO1xcblxcdGlmIChpbmRleCA9PSAwKSB7XFxuXFx0XFx0cG93aSA9IDE7XFxuXFx0fSBlbHNlIGlmIChpbmRleCA9PSAxKSB7XFxuXFx0XFx0cG93aSA9IDI7XFxuXFx0fSBlbHNlIGlmIChpbmRleCA9PSAyKSB7XFxuXFx0XFx0cG93aSA9IDQ7XFxuXFx0fSBlbHNlIGlmIChpbmRleCA9PSAzKSB7XFxuXFx0XFx0cG93aSA9IDg7XFxuXFx0fSBlbHNlIGlmIChpbmRleCA9PSA0KSB7XFxuXFx0XFx0cG93aSA9IDE2O1xcblxcdH0gZWxzZSBpZiAoaW5kZXggPT0gNSkge1xcblxcdFxcdHBvd2kgPSAzMjtcXG5cXHR9IGVsc2UgaWYgKGluZGV4ID09IDYpIHtcXG5cXHRcXHRwb3dpID0gNjQ7XFxuXFx0fSBlbHNlIGlmIChpbmRleCA9PSA3KSB7XFxuXFx0XFx0cG93aSA9IDEyODtcXG5cXHR9XFxuXFxuXFx0aW50IG5kcCA9IG51bWJlciAvIHBvd2k7XFxuXFxuXFx0cmV0dXJuIG1vZChmbG9hdChuZHApLCAyLjApICE9IDAuMDtcXG59XFxuXFxuLyoqXFxuICogR2V0cyB0aGUgdGhlIExPRCBhdCB0aGUgcG9pbnQgcG9zaXRpb24uXFxuICovXFxuZmxvYXQgZ2V0TE9EKCkge1xcblxcdHZlYzMgb2Zmc2V0ID0gdmVjMygwLjAsIDAuMCwgMC4wKTtcXG5cXHRpbnQgaU9mZnNldCA9IGludCh2blN0YXJ0KTtcXG5cXHRmbG9hdCBkZXB0aCA9IGxldmVsO1xcblxcblxcdGZvciAoZmxvYXQgaSA9IDAuMDsgaSA8PSAzMC4wOyBpKyspIHtcXG5cXHRcXHRmbG9hdCBub2RlU2l6ZUF0TGV2ZWwgPSBvY3RyZWVTaXplICAvIHBvdygyLjAsIGkgKyBsZXZlbCArIDAuMCk7XFxuXFxuXFx0XFx0dmVjMyBpbmRleDNkID0gKHBvc2l0aW9uLW9mZnNldCkgLyBub2RlU2l6ZUF0TGV2ZWw7XFxuXFx0XFx0aW5kZXgzZCA9IGZsb29yKGluZGV4M2QgKyAwLjUpO1xcblxcdFxcdGludCBpbmRleCA9IGludChyb3VuZCg0LjAgKiBpbmRleDNkLnggKyAyLjAgKiBpbmRleDNkLnkgKyBpbmRleDNkLnopKTtcXG5cXG5cXHRcXHR2ZWM0IHZhbHVlID0gdGV4dHVyZTJEKHZpc2libGVOb2RlcywgdmVjMihmbG9hdChpT2Zmc2V0KSAvIDIwNDguMCwgMC4wKSk7XFxuXFx0XFx0aW50IG1hc2sgPSBpbnQocm91bmQodmFsdWUuciAqIDI1NS4wKSk7XFxuXFxuXFx0XFx0aWYgKGlzQml0U2V0KG1hc2ssIGluZGV4KSkge1xcblxcdFxcdFxcdC8vIHRoZXJlIGFyZSBtb3JlIHZpc2libGUgY2hpbGQgbm9kZXMgYXQgdGhpcyBwb3NpdGlvblxcblxcdFxcdFxcdGludCBhZHZhbmNlRyA9IGludChyb3VuZCh2YWx1ZS5nICogMjU1LjApKSAqIDI1NjtcXG5cXHRcXHRcXHRpbnQgYWR2YW5jZUIgPSBpbnQocm91bmQodmFsdWUuYiAqIDI1NS4wKSk7XFxuXFx0XFx0XFx0aW50IGFkdmFuY2VDaGlsZCA9IG51bWJlck9mT25lcyhtYXNrLCBpbmRleCAtIDEpO1xcblxcdFxcdFxcdGludCBhZHZhbmNlID0gYWR2YW5jZUcgKyBhZHZhbmNlQiArIGFkdmFuY2VDaGlsZDtcXG5cXG5cXHRcXHRcXHRpT2Zmc2V0ID0gaU9mZnNldCArIGFkdmFuY2U7XFxuXFxuXFx0XFx0XFx0ZGVwdGgrKztcXG5cXHRcXHR9IGVsc2Uge1xcblxcdFxcdFxcdHJldHVybiB2YWx1ZS5hICogMjU1LjA7IC8vIG5vIG1vcmUgdmlzaWJsZSBjaGlsZCBub2RlcyBhdCB0aGlzIHBvc2l0aW9uXFxuXFx0XFx0fVxcblxcblxcdFxcdG9mZnNldCA9IG9mZnNldCArICh2ZWMzKDEuMCwgMS4wLCAxLjApICogbm9kZVNpemVBdExldmVsICogMC41KSAqIGluZGV4M2Q7XFxuXFx0fVxcblxcblxcdHJldHVybiBkZXB0aDtcXG59XFxuXFxuZmxvYXQgZ2V0UG9pbnRTaXplQXR0ZW51YXRpb24oKSB7XFxuXFx0cmV0dXJuIDAuNSAqIHBvdygyLjAsIGdldExPRCgpKTtcXG59XFxuXFxuI2VuZGlmXFxuXFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tXFxuLy8gS0QtVFJFRVxcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLVxcblxcbiNpZiAoZGVmaW5lZChhZGFwdGl2ZV9wb2ludF9zaXplKSB8fCBkZWZpbmVkKGNvbG9yX3R5cGVfbG9kKSkgJiYgZGVmaW5lZCh0cmVlX3R5cGVfa2R0cmVlKVxcblxcbmZsb2F0IGdldExPRCgpIHtcXG5cXHR2ZWMzIG9mZnNldCA9IHZlYzMoMC4wLCAwLjAsIDAuMCk7XFxuXFx0ZmxvYXQgaW50T2Zmc2V0ID0gMC4wO1xcblxcdGZsb2F0IGRlcHRoID0gMC4wO1xcblxcblxcdHZlYzMgc2l6ZSA9IGJiU2l6ZTtcXG5cXHR2ZWMzIHBvcyA9IHBvc2l0aW9uO1xcblxcblxcdGZvciAoZmxvYXQgaSA9IDAuMDsgaSA8PSAxMDAwLjA7IGkrKykge1xcblxcblxcdFxcdHZlYzQgdmFsdWUgPSB0ZXh0dXJlMkQodmlzaWJsZU5vZGVzLCB2ZWMyKGludE9mZnNldCAvIDIwNDguMCwgMC4wKSk7XFxuXFxuXFx0XFx0aW50IGNoaWxkcmVuID0gaW50KHZhbHVlLnIgKiAyNTUuMCk7XFxuXFx0XFx0ZmxvYXQgbmV4dCA9IHZhbHVlLmcgKiAyNTUuMDtcXG5cXHRcXHRpbnQgc3BsaXQgPSBpbnQodmFsdWUuYiAqIDI1NS4wKTtcXG5cXG5cXHRcXHRpZiAobmV4dCA9PSAwLjApIHtcXG5cXHRcXHQgXFx0cmV0dXJuIGRlcHRoO1xcblxcdFxcdH1cXG5cXG5cXHRcXHR2ZWMzIHNwbGl0diA9IHZlYzMoMC4wLCAwLjAsIDAuMCk7XFxuXFx0XFx0aWYgKHNwbGl0ID09IDEpIHtcXG5cXHRcXHRcXHRzcGxpdHYueCA9IDEuMDtcXG5cXHRcXHR9IGVsc2UgaWYgKHNwbGl0ID09IDIpIHtcXG5cXHRcXHQgXFx0c3BsaXR2LnkgPSAxLjA7XFxuXFx0XFx0fSBlbHNlIGlmIChzcGxpdCA9PSA0KSB7XFxuXFx0XFx0IFxcdHNwbGl0di56ID0gMS4wO1xcblxcdFxcdH1cXG5cXG5cXHRcXHRpbnRPZmZzZXQgPSBpbnRPZmZzZXQgKyBuZXh0O1xcblxcblxcdFxcdGZsb2F0IGZhY3RvciA9IGxlbmd0aChwb3MgKiBzcGxpdHYgLyBzaXplKTtcXG5cXHRcXHRpZiAoZmFjdG9yIDwgMC41KSB7XFxuXFx0XFx0IFxcdC8vIGxlZnRcXG5cXHRcXHRcXHRpZiAoY2hpbGRyZW4gPT0gMCB8fCBjaGlsZHJlbiA9PSAyKSB7XFxuXFx0XFx0XFx0XFx0cmV0dXJuIGRlcHRoO1xcblxcdFxcdFxcdH1cXG5cXHRcXHR9IGVsc2Uge1xcblxcdFxcdFxcdC8vIHJpZ2h0XFxuXFx0XFx0XFx0cG9zID0gcG9zIC0gc2l6ZSAqIHNwbGl0diAqIDAuNTtcXG5cXHRcXHRcXHRpZiAoY2hpbGRyZW4gPT0gMCB8fCBjaGlsZHJlbiA9PSAxKSB7XFxuXFx0XFx0XFx0XFx0cmV0dXJuIGRlcHRoO1xcblxcdFxcdFxcdH1cXG5cXHRcXHRcXHRpZiAoY2hpbGRyZW4gPT0gMykge1xcblxcdFxcdFxcdFxcdGludE9mZnNldCA9IGludE9mZnNldCArIDEuMDtcXG5cXHRcXHRcXHR9XFxuXFx0XFx0fVxcblxcdFxcdHNpemUgPSBzaXplICogKCgxLjAgLSAoc3BsaXR2ICsgMS4wKSAvIDIuMCkgKyAwLjUpO1xcblxcblxcdFxcdGRlcHRoKys7XFxuXFx0fVxcblxcblxcblxcdHJldHVybiBkZXB0aDtcXG59XFxuXFxuZmxvYXQgZ2V0UG9pbnRTaXplQXR0ZW51YXRpb24oKSB7XFxuXFx0cmV0dXJuIDAuNSAqIHBvdygxLjMsIGdldExPRCgpKTtcXG59XFxuXFxuI2VuZGlmXFxuXFxuLy8gZm9ybXVsYSBhZGFwdGVkIGZyb206IGh0dHA6Ly93d3cuZGZzdHVkaW9zLmNvLnVrL2FydGljbGVzL3Byb2dyYW1taW5nL2ltYWdlLXByb2dyYW1taW5nLWFsZ29yaXRobXMvaW1hZ2UtcHJvY2Vzc2luZy1hbGdvcml0aG1zLXBhcnQtNS1jb250cmFzdC1hZGp1c3RtZW50L1xcbmZsb2F0IGdldENvbnRyYXN0RmFjdG9yKGZsb2F0IGNvbnRyYXN0KSB7XFxuXFx0cmV0dXJuICgxLjAxNTg3MzAxNTg3MzAxNTYgKiAoY29udHJhc3QgKyAxLjApKSAvICgxLjAxNTg3MzAxNTg3MzAxNTYgLSBjb250cmFzdCk7XFxufVxcblxcbnZlYzMgZ2V0UkdCKCkge1xcblxcdFxcblxcdCNpZmRlZiBjb2xvcl9yZ2JhXFxuXFx0XFx0dmVjMyByZ2IgPSByZ2JhLnJnYjtcXG5cXHQjZWxzZVxcdFxcblxcdFxcdHZlYzMgcmdiID0gY29sb3I7XFxuXFx0I2VuZGlmXFx0XFx0XFxuXFxuXFx0I2lmIGRlZmluZWQodXNlX3JnYl9nYW1tYV9jb250cmFzdF9icmlnaHRuZXNzKVxcblxcdFxcdHJnYiA9IHBvdyhyZ2IsIHZlYzMocmdiR2FtbWEpKTtcXG5cXHRcXHRyZ2IgPSByZ2IgKyByZ2JCcmlnaHRuZXNzO1xcblxcdFxcdHJnYiA9IChyZ2IgLSAwLjUpICogZ2V0Q29udHJhc3RGYWN0b3IocmdiQ29udHJhc3QpICsgMC41O1xcblxcdFxcdHJnYiA9IGNsYW1wKHJnYiwgMC4wLCAxLjApO1xcblxcdFxcdHJldHVybiByZ2I7XFxuXFx0I2Vsc2VcXG5cXHRcXHRyZXR1cm4gcmdiO1xcblxcdCNlbmRpZlxcbn1cXG5cXG5mbG9hdCBnZXRJbnRlbnNpdHkoKSB7XFxuXFx0ZmxvYXQgdyA9IChpbnRlbnNpdHkgLSBpbnRlbnNpdHlSYW5nZS54KSAvIChpbnRlbnNpdHlSYW5nZS55IC0gaW50ZW5zaXR5UmFuZ2UueCk7XFxuXFx0dyA9IHBvdyh3LCBpbnRlbnNpdHlHYW1tYSk7XFxuXFx0dyA9IHcgKyBpbnRlbnNpdHlCcmlnaHRuZXNzO1xcblxcdHcgPSAodyAtIDAuNSkgKiBnZXRDb250cmFzdEZhY3RvcihpbnRlbnNpdHlDb250cmFzdCkgKyAwLjU7XFxuXFx0dyA9IGNsYW1wKHcsIDAuMCwgMS4wKTtcXG5cXG5cXHRyZXR1cm4gdztcXG59XFxuXFxudmVjMyBnZXRFbGV2YXRpb24oKSB7XFxuXFx0dmVjNCB3b3JsZCA9IG1vZGVsTWF0cml4ICogdmVjNCggcG9zaXRpb24sIDEuMCApO1xcblxcdGZsb2F0IHcgPSAod29ybGQueiAtIGhlaWdodE1pbikgLyAoaGVpZ2h0TWF4LWhlaWdodE1pbik7XFxuXFx0dmVjMyBjRWxldmF0aW9uID0gdGV4dHVyZTJEKGdyYWRpZW50LCB2ZWMyKHcsMS4wLXcpKS5yZ2I7XFxuXFxuXFx0cmV0dXJuIGNFbGV2YXRpb247XFxufVxcblxcbnZlYzQgZ2V0Q2xhc3NpZmljYXRpb24oKSB7XFxuXFx0dmVjMiB1diA9IHZlYzIoY2xhc3NpZmljYXRpb24gLyAyNTUuMCwgMC41KTtcXG5cXHR2ZWM0IGNsYXNzQ29sb3IgPSB0ZXh0dXJlMkQoY2xhc3NpZmljYXRpb25MVVQsIHV2KTtcXG5cXG5cXHRyZXR1cm4gY2xhc3NDb2xvcjtcXG59XFxuXFxudmVjMyBnZXRSZXR1cm5OdW1iZXIoKSB7XFxuXFx0aWYgKG51bWJlck9mUmV0dXJucyA9PSAxLjApIHtcXG5cXHRcXHRyZXR1cm4gdmVjMygxLjAsIDEuMCwgMC4wKTtcXG5cXHR9IGVsc2Uge1xcblxcdFxcdGlmIChyZXR1cm5OdW1iZXIgPT0gMS4wKSB7XFxuXFx0XFx0XFx0cmV0dXJuIHZlYzMoMS4wLCAwLjAsIDAuMCk7XFxuXFx0XFx0fSBlbHNlIGlmIChyZXR1cm5OdW1iZXIgPT0gbnVtYmVyT2ZSZXR1cm5zKSB7XFxuXFx0XFx0XFx0cmV0dXJuIHZlYzMoMC4wLCAwLjAsIDEuMCk7XFxuXFx0XFx0fSBlbHNlIHtcXG5cXHRcXHRcXHRyZXR1cm4gdmVjMygwLjAsIDEuMCwgMC4wKTtcXG5cXHRcXHR9XFxuXFx0fVxcbn1cXG5cXG52ZWMzIGdldFNvdXJjZUlEKCkge1xcblxcdGZsb2F0IHcgPSBtb2QocG9pbnRTb3VyY2VJRCwgMTAuMCkgLyAxMC4wO1xcblxcdHJldHVybiB0ZXh0dXJlMkQoZ3JhZGllbnQsIHZlYzIodywgMS4wIC0gdykpLnJnYjtcXG59XFxuXFxudmVjMyBnZXRDb21wb3NpdGVDb2xvcigpIHtcXG5cXHR2ZWMzIGM7XFxuXFx0ZmxvYXQgdztcXG5cXG5cXHRjICs9IHdSR0IgKiBnZXRSR0IoKTtcXG5cXHR3ICs9IHdSR0I7XFxuXFxuXFx0YyArPSB3SW50ZW5zaXR5ICogZ2V0SW50ZW5zaXR5KCkgKiB2ZWMzKDEuMCwgMS4wLCAxLjApO1xcblxcdHcgKz0gd0ludGVuc2l0eTtcXG5cXG5cXHRjICs9IHdFbGV2YXRpb24gKiBnZXRFbGV2YXRpb24oKTtcXG5cXHR3ICs9IHdFbGV2YXRpb247XFxuXFxuXFx0YyArPSB3UmV0dXJuTnVtYmVyICogZ2V0UmV0dXJuTnVtYmVyKCk7XFxuXFx0dyArPSB3UmV0dXJuTnVtYmVyO1xcblxcblxcdGMgKz0gd1NvdXJjZUlEICogZ2V0U291cmNlSUQoKTtcXG5cXHR3ICs9IHdTb3VyY2VJRDtcXG5cXG5cXHR2ZWM0IGNsID0gd0NsYXNzaWZpY2F0aW9uICogZ2V0Q2xhc3NpZmljYXRpb24oKTtcXG5cXHRjICs9IGNsLmEgKiBjbC5yZ2I7XFxuXFx0dyArPSB3Q2xhc3NpZmljYXRpb24gKiBjbC5hO1xcblxcblxcdGMgPSBjIC8gdztcXG5cXG5cXHRpZiAodyA9PSAwLjApIHtcXG5cXHRcXHRnbF9Qb3NpdGlvbiA9IHZlYzQoMTAwLjAsIDEwMC4wLCAxMDAuMCwgMC4wKTtcXG5cXHR9XFxuXFxuXFx0cmV0dXJuIGM7XFxufVxcblxcbnZvaWQgbWFpbigpIHtcXG5cXHR2ZWM0IG12UG9zaXRpb24gPSBtb2RlbFZpZXdNYXRyaXggKiB2ZWM0KHBvc2l0aW9uLCAxLjApO1xcblxcblxcdGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIG12UG9zaXRpb247XFxuXFxuXFx0I2lmIGRlZmluZWQoY29sb3JfdHlwZV9waG9uZykgJiYgKE1BWF9QT0lOVF9MSUdIVFMgPiAwIHx8IE1BWF9ESVJfTElHSFRTID4gMCkgfHwgZGVmaW5lZChwYXJhYm9sb2lkX3BvaW50X3NoYXBlKVxcblxcdFxcdHZWaWV3UG9zaXRpb24gPSBtdlBvc2l0aW9uLnh5ejtcXG5cXHQjZW5kaWZcXG5cXG5cXHQjaWYgZGVmaW5lZCB3ZWlnaHRlZF9zcGxhdHNcXG5cXHRcXHR2TGluZWFyRGVwdGggPSBnbF9Qb3NpdGlvbi53O1xcblxcdCNlbmRpZlxcblxcblxcdCNpZiBkZWZpbmVkKGNvbG9yX3R5cGVfcGhvbmcpICYmIChNQVhfUE9JTlRfTElHSFRTID4gMCB8fCBNQVhfRElSX0xJR0hUUyA+IDApXFxuXFx0XFx0dk5vcm1hbCA9IG5vcm1hbGl6ZShub3JtYWxNYXRyaXggKiBub3JtYWwpO1xcblxcdCNlbmRpZlxcblxcblxcdCNpZiAhZGVmaW5lZChwYXJhYm9sb2lkX3BvaW50X3NoYXBlKSAmJiBkZWZpbmVkKHVzZV9lZGwpXFxuXFx0XFx0dkxvZ0RlcHRoID0gbG9nMigtbXZQb3NpdGlvbi56KTtcXG5cXHQjZW5kaWZcXG5cXG5cXHQvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS1cXG5cXHQvLyBQT0lOVCBTSVpFXFxuXFx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tXFxuXFxuXFx0ZmxvYXQgcG9pbnRTaXplID0gMS4wO1xcblxcdGZsb2F0IHNsb3BlID0gdGFuKGZvdiAvIDIuMCk7XFxuXFx0ZmxvYXQgcHJvakZhY3RvciA9ICAtMC41ICogc2NyZWVuSGVpZ2h0IC8gKHNsb3BlICogbXZQb3NpdGlvbi56KTtcXG5cXG5cXHQjaWYgZGVmaW5lZCBmaXhlZF9wb2ludF9zaXplXFxuXFx0XFx0cG9pbnRTaXplID0gc2l6ZTtcXG5cXHQjZWxpZiBkZWZpbmVkIGF0dGVudWF0ZWRfcG9pbnRfc2l6ZVxcblxcdFxcdHBvaW50U2l6ZSA9IHNpemUgKiBzcGFjaW5nICogcHJvakZhY3RvcjtcXG5cXHQjZWxpZiBkZWZpbmVkIGFkYXB0aXZlX3BvaW50X3NpemVcXG5cXHRcXHRmbG9hdCB3b3JsZFNwYWNlU2l6ZSA9IDIuMCAqIHNpemUgKiBzcGFjaW5nIC8gZ2V0UG9pbnRTaXplQXR0ZW51YXRpb24oKTtcXG5cXHRcXHRwb2ludFNpemUgPSB3b3JsZFNwYWNlU2l6ZSAqIHByb2pGYWN0b3I7XFxuXFx0I2VuZGlmXFxuXFxuXFx0cG9pbnRTaXplID0gbWF4KG1pblNpemUsIHBvaW50U2l6ZSk7XFxuXFx0cG9pbnRTaXplID0gbWluKG1heFNpemUsIHBvaW50U2l6ZSk7XFxuXFxuXFx0I2lmIGRlZmluZWQod2VpZ2h0ZWRfc3BsYXRzKSB8fCBkZWZpbmVkKHBhcmFib2xvaWRfcG9pbnRfc2hhcGUpXFxuXFx0XFx0dlJhZGl1cyA9IHBvaW50U2l6ZSAvIHByb2pGYWN0b3I7XFxuXFx0I2VuZGlmXFxuXFxuXFx0Z2xfUG9pbnRTaXplID0gcG9pbnRTaXplO1xcblxcblxcdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLVxcblxcdC8vIEhJR0hMSUdIVElOR1xcblxcdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLVxcblxcblxcdCNpZmRlZiBoaWdobGlnaHRfcG9pbnRcXG5cXHRcXHR2ZWM0IG1Qb3NpdGlvbiA9IG1vZGVsTWF0cml4ICogdmVjNChwb3NpdGlvbiwgMS4wKTtcXG5cXHRcXHRpZiAoZW5hYmxlUG9pbnRIaWdobGlnaHRpbmcgJiYgYWJzKG1Qb3NpdGlvbi54IC0gaGlnaGxpZ2h0ZWRQb2ludENvb3JkaW5hdGUueCkgPCAwLjAwMDEgJiZcXG5cXHRcXHRcXHRhYnMobVBvc2l0aW9uLnkgLSBoaWdobGlnaHRlZFBvaW50Q29vcmRpbmF0ZS55KSA8IDAuMDAwMSAmJlxcblxcdFxcdFxcdGFicyhtUG9zaXRpb24ueiAtIGhpZ2hsaWdodGVkUG9pbnRDb29yZGluYXRlLnopIDwgMC4wMDAxKSB7XFxuXFx0XFx0XFx0dkhpZ2hsaWdodCA9IDEuMDtcXG5cXHRcXHRcXHRnbF9Qb2ludFNpemUgPSBwb2ludFNpemUgKiBoaWdobGlnaHRlZFBvaW50U2NhbGU7XFxuXFx0XFx0fSBlbHNlIHtcXG5cXHRcXHRcXHR2SGlnaGxpZ2h0ID0gMC4wO1xcblxcdFxcdH1cXG5cXHQjZW5kaWZcXG5cXG5cXHQvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS1cXG5cXHQvLyBPUEFDSVRZXFxuXFx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tXFxuXFxuXFx0I2lmbmRlZiBjb2xvcl90eXBlX3BvaW50X2luZGV4XFxuXFx0XFx0I2lmZGVmIGF0dGVudWF0ZWRfb3BhY2l0eVxcblxcdFxcdFxcdHZPcGFjaXR5ID0gb3BhY2l0eSAqIGV4cCgtbGVuZ3RoKC1tdlBvc2l0aW9uLnh5eikgLyBvcGFjaXR5QXR0ZW51YXRpb24pO1xcblxcdFxcdCNlbHNlXFxuXFx0XFx0XFx0dk9wYWNpdHkgPSBvcGFjaXR5O1xcblxcdFxcdCNlbmRpZlxcblxcdCNlbmRpZlxcblxcblxcdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLVxcblxcdC8vIEZJTFRFUklOR1xcblxcdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLVxcblxcblxcdCNpZmRlZiB1c2VfZmlsdGVyX2J5X25vcm1hbFxcblxcdFxcdGJvb2wgZGlzY2FyZFBvaW50ID0gZmFsc2U7XFxuXFx0XFx0Ly8gQWJzb2x1dGUgbm9ybWFsIGZpbHRlcmluZ1xcblxcdFxcdGlmIChub3JtYWxGaWx0ZXJpbmdNb2RlID09IDEpIHtcXG5cXHRcXHRcXHRkaXNjYXJkUG9pbnQgPSAoYWJzKChtb2RlbFZpZXdNYXRyaXggKiB2ZWM0KG5vcm1hbCwgMC4wKSkueikgPiBmaWx0ZXJCeU5vcm1hbFRocmVzaG9sZCk7XFxuXFx0XFx0fVxcblxcdFxcdC8vIGxlc3MgdGhhbiBlcXVhbCB0b1xcblxcdFxcdGVsc2UgaWYgKG5vcm1hbEZpbHRlcmluZ01vZGUgPT0gMikge1xcblxcdFxcdFxcdGRpc2NhcmRQb2ludCA9IChtb2RlbFZpZXdNYXRyaXggKiB2ZWM0KG5vcm1hbCwgMC4wKSkueiA8PSBmaWx0ZXJCeU5vcm1hbFRocmVzaG9sZDtcXG5cXHRcXHRcXHR9XFxuXFx0XFx0Ly8gZ3JlYXRlciB0aGFuXFxuXFx0XFx0ZWxzZSBpZihub3JtYWxGaWx0ZXJpbmdNb2RlID09IDMpIHtcXG5cXHRcXHRcXHRkaXNjYXJkUG9pbnQgPSAobW9kZWxWaWV3TWF0cml4ICogdmVjNChub3JtYWwsIDAuMCkpLnogPiBmaWx0ZXJCeU5vcm1hbFRocmVzaG9sZDtcXG5cXHRcXHRcXHR9XFxuXFxuXFx0XFx0aWYgKGRpc2NhcmRQb2ludClcXG5cXHRcXHR7XFxuXFx0XFx0XFx0Z2xfUG9zaXRpb24gPSB2ZWM0KDAuMCwgMC4wLCAyLjAsIDEuMCk7XFxuXFx0XFx0fVxcblxcdCNlbmRpZlxcblxcblxcdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLVxcblxcdC8vIFBPSU5UIENPTE9SXFxuXFx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tXFxuXFxuXFx0I2lmZGVmIGNvbG9yX3R5cGVfcmdiXFxuXFx0XFx0dkNvbG9yID0gZ2V0UkdCKCk7XFxuXFx0I2VsaWYgZGVmaW5lZCBjb2xvcl90eXBlX2hlaWdodFxcblxcdFxcdHZDb2xvciA9IGdldEVsZXZhdGlvbigpO1xcblxcdCNlbGlmIGRlZmluZWQgY29sb3JfdHlwZV9yZ2JfaGVpZ2h0XFxuXFx0XFx0dmVjMyBjSGVpZ2h0ID0gZ2V0RWxldmF0aW9uKCk7XFxuXFx0XFx0dkNvbG9yID0gKDEuMCAtIHRyYW5zaXRpb24pICogZ2V0UkdCKCkgKyB0cmFuc2l0aW9uICogY0hlaWdodDtcXG5cXHQjZWxpZiBkZWZpbmVkIGNvbG9yX3R5cGVfZGVwdGhcXG5cXHRcXHRmbG9hdCBsaW5lYXJEZXB0aCA9IC1tdlBvc2l0aW9uLnogO1xcblxcdFxcdGZsb2F0IGV4cERlcHRoID0gKGdsX1Bvc2l0aW9uLnogLyBnbF9Qb3NpdGlvbi53KSAqIDAuNSArIDAuNTtcXG5cXHRcXHR2Q29sb3IgPSB2ZWMzKGxpbmVhckRlcHRoLCBleHBEZXB0aCwgMC4wKTtcXG5cXHQjZWxpZiBkZWZpbmVkIGNvbG9yX3R5cGVfaW50ZW5zaXR5XFxuXFx0XFx0ZmxvYXQgdyA9IGdldEludGVuc2l0eSgpO1xcblxcdFxcdHZDb2xvciA9IHZlYzModywgdywgdyk7XFxuXFx0I2VsaWYgZGVmaW5lZCBjb2xvcl90eXBlX2ludGVuc2l0eV9ncmFkaWVudFxcblxcdFxcdGZsb2F0IHcgPSBnZXRJbnRlbnNpdHkoKTtcXG5cXHRcXHR2Q29sb3IgPSB0ZXh0dXJlMkQoZ3JhZGllbnQsIHZlYzIodywgMS4wIC0gdykpLnJnYjtcXG5cXHQjZWxpZiBkZWZpbmVkIGNvbG9yX3R5cGVfY29sb3JcXG5cXHRcXHR2Q29sb3IgPSB1Q29sb3I7XFxuXFx0I2VsaWYgZGVmaW5lZCBjb2xvcl90eXBlX2xvZFxcblxcdGZsb2F0IHcgPSBnZXRMT0QoKSAvIDEwLjA7XFxuXFx0dkNvbG9yID0gdGV4dHVyZTJEKGdyYWRpZW50LCB2ZWMyKHcsIDEuMCAtIHcpKS5yZ2I7XFxuXFx0I2VsaWYgZGVmaW5lZCBjb2xvcl90eXBlX3BvaW50X2luZGV4XFxuXFx0XFx0dkNvbG9yID0gaW5kaWNlcy5yZ2I7XFxuXFx0I2VsaWYgZGVmaW5lZCBjb2xvcl90eXBlX2NsYXNzaWZpY2F0aW9uXFxuXFx0ICB2ZWM0IGNsID0gZ2V0Q2xhc3NpZmljYXRpb24oKTtcXG5cXHRcXHR2Q29sb3IgPSBjbC5yZ2I7XFxuXFx0I2VsaWYgZGVmaW5lZCBjb2xvcl90eXBlX3JldHVybl9udW1iZXJcXG5cXHRcXHR2Q29sb3IgPSBnZXRSZXR1cm5OdW1iZXIoKTtcXG5cXHQjZWxpZiBkZWZpbmVkIGNvbG9yX3R5cGVfc291cmNlXFxuXFx0XFx0dkNvbG9yID0gZ2V0U291cmNlSUQoKTtcXG5cXHQjZWxpZiBkZWZpbmVkIGNvbG9yX3R5cGVfbm9ybWFsXFxuXFx0XFx0dkNvbG9yID0gKG1vZGVsTWF0cml4ICogdmVjNChub3JtYWwsIDAuMCkpLnh5ejtcXG5cXHQjZWxpZiBkZWZpbmVkIGNvbG9yX3R5cGVfcGhvbmdcXG5cXHRcXHR2Q29sb3IgPSBjb2xvcjtcXG5cXHQjZWxpZiBkZWZpbmVkIGNvbG9yX3R5cGVfY29tcG9zaXRlXFxuXFx0XFx0dkNvbG9yID0gZ2V0Q29tcG9zaXRlQ29sb3IoKTtcXG5cXHQjZW5kaWZcXG5cXG5cXHQjaWYgIWRlZmluZWQgY29sb3JfdHlwZV9jb21wb3NpdGUgJiYgZGVmaW5lZCBjb2xvcl90eXBlX2NsYXNzaWZpY2F0aW9uXFxuXFx0XFx0aWYgKGNsLmEgPT0gMC4wKSB7XFxuXFx0XFx0XFx0Z2xfUG9zaXRpb24gPSB2ZWM0KDEwMC4wLCAxMDAuMCwgMTAwLjAsIDAuMCk7XFxuXFx0XFx0XFx0cmV0dXJuO1xcblxcdFxcdH1cXG5cXHQjZW5kaWZcXG5cXG5cXHQvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS1cXG5cXHQvLyBDTElQUElOR1xcblxcdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLVxcblxcblxcdCNpZiBkZWZpbmVkIHVzZV9jbGlwX2JveFxcblxcdFxcdGJvb2wgaW5zaWRlQW55ID0gZmFsc2U7XFxuXFx0XFx0Zm9yIChpbnQgaSA9IDA7IGkgPCBtYXhfY2xpcF9ib3hlczsgaSsrKSB7XFxuXFx0XFx0XFx0aWYgKGkgPT0gaW50KGNsaXBCb3hDb3VudCkpIHtcXG5cXHRcXHRcXHRcXHRicmVhaztcXG5cXHRcXHRcXHR9XFxuXFxuXFx0XFx0XFx0dmVjNCBjbGlwUG9zaXRpb24gPSBjbGlwQm94ZXNbaV0gKiBtb2RlbE1hdHJpeCAqIHZlYzQocG9zaXRpb24sIDEuMCk7XFxuXFx0XFx0XFx0Ym9vbCBpbnNpZGUgPSAtMC41IDw9IGNsaXBQb3NpdGlvbi54ICYmIGNsaXBQb3NpdGlvbi54IDw9IDAuNTtcXG5cXHRcXHRcXHRpbnNpZGUgPSBpbnNpZGUgJiYgLTAuNSA8PSBjbGlwUG9zaXRpb24ueSAmJiBjbGlwUG9zaXRpb24ueSA8PSAwLjU7XFxuXFx0XFx0XFx0aW5zaWRlID0gaW5zaWRlICYmIC0wLjUgPD0gY2xpcFBvc2l0aW9uLnogJiYgY2xpcFBvc2l0aW9uLnogPD0gMC41O1xcblxcdFxcdFxcdGluc2lkZUFueSA9IGluc2lkZUFueSB8fCBpbnNpZGU7XFxuXFx0XFx0fVxcblxcblxcdFxcdGlmICghaW5zaWRlQW55KSB7XFxuXFx0XFx0XFx0I2lmIGRlZmluZWQgY2xpcF9vdXRzaWRlXFxuXFx0XFx0XFx0XFx0Z2xfUG9zaXRpb24gPSB2ZWM0KDEwMDAuMCwgMTAwMC4wLCAxMDAwLjAsIDEuMCk7XFxuXFx0XFx0XFx0I2VsaWYgZGVmaW5lZCBjbGlwX2hpZ2hsaWdodF9pbnNpZGUgJiYgIWRlZmluZWQoY29sb3JfdHlwZV9kZXB0aClcXG5cXHRcXHRcXHRcXHRmbG9hdCBjID0gKHZDb2xvci5yICsgdkNvbG9yLmcgKyB2Q29sb3IuYikgLyA2LjA7XFxuXFx0XFx0XFx0I2VuZGlmXFxuXFx0XFx0fSBlbHNlIHtcXG5cXHRcXHRcXHQjaWYgZGVmaW5lZCBjbGlwX2hpZ2hsaWdodF9pbnNpZGVcXG5cXHRcXHRcXHRcXHR2Q29sb3IuciArPSAwLjU7XFxuXFx0XFx0XFx0I2VuZGlmXFxuXFx0XFx0fVxcblxcdCNlbmRpZlxcbn1cXG5cIjsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/materials/shaders/pointcloud.vert\n");

/***/ }),

/***/ "./src/constants.ts":
/*!**************************!*\
  !*** ./src/constants.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   COLOR_BLACK: () => (/* binding */ COLOR_BLACK),\n/* harmony export */   DEFAULT_HIGHLIGHT_COLOR: () => (/* binding */ DEFAULT_HIGHLIGHT_COLOR),\n/* harmony export */   DEFAULT_MAX_POINT_SIZE: () => (/* binding */ DEFAULT_MAX_POINT_SIZE),\n/* harmony export */   DEFAULT_MIN_NODE_PIXEL_SIZE: () => (/* binding */ DEFAULT_MIN_NODE_PIXEL_SIZE),\n/* harmony export */   DEFAULT_MIN_POINT_SIZE: () => (/* binding */ DEFAULT_MIN_POINT_SIZE),\n/* harmony export */   DEFAULT_PICK_WINDOW_SIZE: () => (/* binding */ DEFAULT_PICK_WINDOW_SIZE),\n/* harmony export */   DEFAULT_POINT_BUDGET: () => (/* binding */ DEFAULT_POINT_BUDGET),\n/* harmony export */   DEFAULT_RGB_BRIGHTNESS: () => (/* binding */ DEFAULT_RGB_BRIGHTNESS),\n/* harmony export */   DEFAULT_RGB_CONTRAST: () => (/* binding */ DEFAULT_RGB_CONTRAST),\n/* harmony export */   DEFAULT_RGB_GAMMA: () => (/* binding */ DEFAULT_RGB_GAMMA),\n/* harmony export */   MAX_LOADS_TO_GPU: () => (/* binding */ MAX_LOADS_TO_GPU),\n/* harmony export */   MAX_NUM_NODES_LOADING: () => (/* binding */ MAX_NUM_NODES_LOADING),\n/* harmony export */   PERSPECTIVE_CAMERA: () => (/* binding */ PERSPECTIVE_CAMERA)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"three\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(three__WEBPACK_IMPORTED_MODULE_0__);\n\nconst DEFAULT_RGB_BRIGHTNESS = 0;\nconst DEFAULT_RGB_CONTRAST = 0;\nconst DEFAULT_RGB_GAMMA = 1;\nconst DEFAULT_MAX_POINT_SIZE = 50;\nconst DEFAULT_MIN_NODE_PIXEL_SIZE = 50;\nconst DEFAULT_MIN_POINT_SIZE = 2;\nconst DEFAULT_PICK_WINDOW_SIZE = 15;\nconst DEFAULT_POINT_BUDGET = 1000000;\nconst MAX_LOADS_TO_GPU = 2;\nconst MAX_NUM_NODES_LOADING = 4;\nconst PERSPECTIVE_CAMERA = 'PerspectiveCamera';\nconst COLOR_BLACK = new three__WEBPACK_IMPORTED_MODULE_0__.Color(0, 0, 0);\nconst DEFAULT_HIGHLIGHT_COLOR = new three__WEBPACK_IMPORTED_MODULE_0__.Vector4(1, 0, 0, 1);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29uc3RhbnRzLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb3RyZWUvLi9zcmMvY29uc3RhbnRzLnRzP2MzYjQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29sb3IsIFZlY3RvcjQgfSBmcm9tICd0aHJlZSc7XG5leHBvcnQgY29uc3QgREVGQVVMVF9SR0JfQlJJR0hUTkVTUyA9IDA7XG5leHBvcnQgY29uc3QgREVGQVVMVF9SR0JfQ09OVFJBU1QgPSAwO1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfUkdCX0dBTU1BID0gMTtcbmV4cG9ydCBjb25zdCBERUZBVUxUX01BWF9QT0lOVF9TSVpFID0gNTA7XG5leHBvcnQgY29uc3QgREVGQVVMVF9NSU5fTk9ERV9QSVhFTF9TSVpFID0gNTA7XG5leHBvcnQgY29uc3QgREVGQVVMVF9NSU5fUE9JTlRfU0laRSA9IDI7XG5leHBvcnQgY29uc3QgREVGQVVMVF9QSUNLX1dJTkRPV19TSVpFID0gMTU7XG5leHBvcnQgY29uc3QgREVGQVVMVF9QT0lOVF9CVURHRVQgPSAxMDAwMDAwO1xuZXhwb3J0IGNvbnN0IE1BWF9MT0FEU19UT19HUFUgPSAyO1xuZXhwb3J0IGNvbnN0IE1BWF9OVU1fTk9ERVNfTE9BRElORyA9IDQ7XG5leHBvcnQgY29uc3QgUEVSU1BFQ1RJVkVfQ0FNRVJBID0gJ1BlcnNwZWN0aXZlQ2FtZXJhJztcbmV4cG9ydCBjb25zdCBDT0xPUl9CTEFDSyA9IG5ldyBDb2xvcigwLCAwLCAwKTtcbmV4cG9ydCBjb25zdCBERUZBVUxUX0hJR0hMSUdIVF9DT0xPUiA9IG5ldyBWZWN0b3I0KDEsIDAsIDAsIDEpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/constants.ts\n");

/***/ }),

/***/ "./src/features.ts":
/*!*************************!*\
  !*** ./src/features.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FEATURES: () => (/* binding */ FEATURES)\n/* harmony export */ });\nconst canvas = document.createElement('canvas');\nconst gl = canvas.getContext('webgl');\nconst FEATURES = {\n    SHADER_INTERPOLATION: hasExtension('EXT_frag_depth') && hasMinVaryingVectors(8),\n    SHADER_SPLATS: hasExtension('EXT_frag_depth') && hasExtension('OES_texture_float') && hasMinVaryingVectors(8),\n    SHADER_EDL: hasExtension('OES_texture_float') && hasMinVaryingVectors(8),\n    precision: getPrecision(),\n};\nfunction hasExtension(ext) {\n    return gl !== null && Boolean(gl.getExtension(ext));\n}\nfunction hasMinVaryingVectors(value) {\n    return gl !== null && gl.getParameter(gl.MAX_VARYING_VECTORS) >= value;\n}\nfunction getPrecision() {\n    if (gl === null) {\n        return '';\n    }\n    const vsHighpFloat = gl.getShaderPrecisionFormat(gl.VERTEX_SHADER, gl.HIGH_FLOAT);\n    const vsMediumpFloat = gl.getShaderPrecisionFormat(gl.VERTEX_SHADER, gl.MEDIUM_FLOAT);\n    const fsHighpFloat = gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.HIGH_FLOAT);\n    const fsMediumpFloat = gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.MEDIUM_FLOAT);\n    const highpAvailable = vsHighpFloat && fsHighpFloat && vsHighpFloat.precision > 0 && fsHighpFloat.precision > 0;\n    const mediumpAvailable = vsMediumpFloat &&\n        fsMediumpFloat &&\n        vsMediumpFloat.precision > 0 &&\n        fsMediumpFloat.precision > 0;\n    return highpAvailable ? 'highp' : mediumpAvailable ? 'mediump' : 'lowp';\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZmVhdHVyZXMudHMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb3RyZWUvLi9zcmMvZmVhdHVyZXMudHM/MjhjMCJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbmNvbnN0IGdsID0gY2FudmFzLmdldENvbnRleHQoJ3dlYmdsJyk7XG5leHBvcnQgY29uc3QgRkVBVFVSRVMgPSB7XG4gICAgU0hBREVSX0lOVEVSUE9MQVRJT046IGhhc0V4dGVuc2lvbignRVhUX2ZyYWdfZGVwdGgnKSAmJiBoYXNNaW5WYXJ5aW5nVmVjdG9ycyg4KSxcbiAgICBTSEFERVJfU1BMQVRTOiBoYXNFeHRlbnNpb24oJ0VYVF9mcmFnX2RlcHRoJykgJiYgaGFzRXh0ZW5zaW9uKCdPRVNfdGV4dHVyZV9mbG9hdCcpICYmIGhhc01pblZhcnlpbmdWZWN0b3JzKDgpLFxuICAgIFNIQURFUl9FREw6IGhhc0V4dGVuc2lvbignT0VTX3RleHR1cmVfZmxvYXQnKSAmJiBoYXNNaW5WYXJ5aW5nVmVjdG9ycyg4KSxcbiAgICBwcmVjaXNpb246IGdldFByZWNpc2lvbigpLFxufTtcbmZ1bmN0aW9uIGhhc0V4dGVuc2lvbihleHQpIHtcbiAgICByZXR1cm4gZ2wgIT09IG51bGwgJiYgQm9vbGVhbihnbC5nZXRFeHRlbnNpb24oZXh0KSk7XG59XG5mdW5jdGlvbiBoYXNNaW5WYXJ5aW5nVmVjdG9ycyh2YWx1ZSkge1xuICAgIHJldHVybiBnbCAhPT0gbnVsbCAmJiBnbC5nZXRQYXJhbWV0ZXIoZ2wuTUFYX1ZBUllJTkdfVkVDVE9SUykgPj0gdmFsdWU7XG59XG5mdW5jdGlvbiBnZXRQcmVjaXNpb24oKSB7XG4gICAgaWYgKGdsID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgY29uc3QgdnNIaWdocEZsb2F0ID0gZ2wuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0KGdsLlZFUlRFWF9TSEFERVIsIGdsLkhJR0hfRkxPQVQpO1xuICAgIGNvbnN0IHZzTWVkaXVtcEZsb2F0ID0gZ2wuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0KGdsLlZFUlRFWF9TSEFERVIsIGdsLk1FRElVTV9GTE9BVCk7XG4gICAgY29uc3QgZnNIaWdocEZsb2F0ID0gZ2wuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0KGdsLkZSQUdNRU5UX1NIQURFUiwgZ2wuSElHSF9GTE9BVCk7XG4gICAgY29uc3QgZnNNZWRpdW1wRmxvYXQgPSBnbC5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQoZ2wuRlJBR01FTlRfU0hBREVSLCBnbC5NRURJVU1fRkxPQVQpO1xuICAgIGNvbnN0IGhpZ2hwQXZhaWxhYmxlID0gdnNIaWdocEZsb2F0ICYmIGZzSGlnaHBGbG9hdCAmJiB2c0hpZ2hwRmxvYXQucHJlY2lzaW9uID4gMCAmJiBmc0hpZ2hwRmxvYXQucHJlY2lzaW9uID4gMDtcbiAgICBjb25zdCBtZWRpdW1wQXZhaWxhYmxlID0gdnNNZWRpdW1wRmxvYXQgJiZcbiAgICAgICAgZnNNZWRpdW1wRmxvYXQgJiZcbiAgICAgICAgdnNNZWRpdW1wRmxvYXQucHJlY2lzaW9uID4gMCAmJlxuICAgICAgICBmc01lZGl1bXBGbG9hdC5wcmVjaXNpb24gPiAwO1xuICAgIHJldHVybiBoaWdocEF2YWlsYWJsZSA/ICdoaWdocCcgOiBtZWRpdW1wQXZhaWxhYmxlID8gJ21lZGl1bXAnIDogJ2xvd3AnO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/features.ts\n");

/***/ }),

/***/ "./src/index.ts":
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BlurMaterial: () => (/* reexport safe */ _materials__WEBPACK_IMPORTED_MODULE_0__.BlurMaterial),\n/* harmony export */   ClipMode: () => (/* reexport safe */ _materials__WEBPACK_IMPORTED_MODULE_0__.ClipMode),\n/* harmony export */   GRAYSCALE: () => (/* reexport safe */ _materials__WEBPACK_IMPORTED_MODULE_0__.GRAYSCALE),\n/* harmony export */   INFERNO: () => (/* reexport safe */ _materials__WEBPACK_IMPORTED_MODULE_0__.INFERNO),\n/* harmony export */   NormalFilteringMode: () => (/* reexport safe */ _materials__WEBPACK_IMPORTED_MODULE_0__.NormalFilteringMode),\n/* harmony export */   PLASMA: () => (/* reexport safe */ _materials__WEBPACK_IMPORTED_MODULE_0__.PLASMA),\n/* harmony export */   POINT_ATTRIBUTES: () => (/* reexport safe */ _point_attributes__WEBPACK_IMPORTED_MODULE_1__.POINT_ATTRIBUTES),\n/* harmony export */   POINT_ATTRIBUTE_TYPES: () => (/* reexport safe */ _point_attributes__WEBPACK_IMPORTED_MODULE_1__.POINT_ATTRIBUTE_TYPES),\n/* harmony export */   PointAttributeName: () => (/* reexport safe */ _point_attributes__WEBPACK_IMPORTED_MODULE_1__.PointAttributeName),\n/* harmony export */   PointAttributes: () => (/* reexport safe */ _point_attributes__WEBPACK_IMPORTED_MODULE_1__.PointAttributes),\n/* harmony export */   PointCloudMaterial: () => (/* reexport safe */ _materials__WEBPACK_IMPORTED_MODULE_0__.PointCloudMaterial),\n/* harmony export */   PointCloudMixingMode: () => (/* reexport safe */ _materials__WEBPACK_IMPORTED_MODULE_0__.PointCloudMixingMode),\n/* harmony export */   PointCloudOctree: () => (/* reexport safe */ _point_cloud_octree__WEBPACK_IMPORTED_MODULE_6__.PointCloudOctree),\n/* harmony export */   PointCloudOctreeGeometry: () => (/* reexport safe */ _point_cloud_octree_geometry__WEBPACK_IMPORTED_MODULE_3__.PointCloudOctreeGeometry),\n/* harmony export */   PointCloudOctreeGeometryNode: () => (/* reexport safe */ _point_cloud_octree_geometry_node__WEBPACK_IMPORTED_MODULE_2__.PointCloudOctreeGeometryNode),\n/* harmony export */   PointCloudOctreeNode: () => (/* reexport safe */ _point_cloud_octree_node__WEBPACK_IMPORTED_MODULE_4__.PointCloudOctreeNode),\n/* harmony export */   PointCloudOctreePicker: () => (/* reexport safe */ _point_cloud_octree_picker__WEBPACK_IMPORTED_MODULE_5__.PointCloudOctreePicker),\n/* harmony export */   PointCloudTree: () => (/* reexport safe */ _point_cloud_tree__WEBPACK_IMPORTED_MODULE_7__.PointCloudTree),\n/* harmony export */   PointColorType: () => (/* reexport safe */ _materials__WEBPACK_IMPORTED_MODULE_0__.PointColorType),\n/* harmony export */   PointOpacityType: () => (/* reexport safe */ _materials__WEBPACK_IMPORTED_MODULE_0__.PointOpacityType),\n/* harmony export */   PointShape: () => (/* reexport safe */ _materials__WEBPACK_IMPORTED_MODULE_0__.PointShape),\n/* harmony export */   PointSizeType: () => (/* reexport safe */ _materials__WEBPACK_IMPORTED_MODULE_0__.PointSizeType),\n/* harmony export */   Potree: () => (/* reexport safe */ _potree__WEBPACK_IMPORTED_MODULE_8__.Potree),\n/* harmony export */   QueueItem: () => (/* reexport safe */ _potree__WEBPACK_IMPORTED_MODULE_8__.QueueItem),\n/* harmony export */   RAINBOW: () => (/* reexport safe */ _materials__WEBPACK_IMPORTED_MODULE_0__.RAINBOW),\n/* harmony export */   SPECTRAL: () => (/* reexport safe */ _materials__WEBPACK_IMPORTED_MODULE_0__.SPECTRAL),\n/* harmony export */   TreeType: () => (/* reexport safe */ _materials__WEBPACK_IMPORTED_MODULE_0__.TreeType),\n/* harmony export */   V1_LOADER: () => (/* reexport safe */ _loading__WEBPACK_IMPORTED_MODULE_11__.loadPOC),\n/* harmony export */   V2_LOADER: () => (/* reexport safe */ _loading2__WEBPACK_IMPORTED_MODULE_12__.loadOctree),\n/* harmony export */   VIRIDIS: () => (/* reexport safe */ _materials__WEBPACK_IMPORTED_MODULE_0__.VIRIDIS),\n/* harmony export */   Version: () => (/* reexport safe */ _version__WEBPACK_IMPORTED_MODULE_10__.Version),\n/* harmony export */   YELLOW_GREEN: () => (/* reexport safe */ _materials__WEBPACK_IMPORTED_MODULE_0__.YELLOW_GREEN),\n/* harmony export */   generateClassificationTexture: () => (/* reexport safe */ _materials__WEBPACK_IMPORTED_MODULE_0__.generateClassificationTexture),\n/* harmony export */   generateDataTexture: () => (/* reexport safe */ _materials__WEBPACK_IMPORTED_MODULE_0__.generateDataTexture),\n/* harmony export */   generateGradientTexture: () => (/* reexport safe */ _materials__WEBPACK_IMPORTED_MODULE_0__.generateGradientTexture)\n/* harmony export */ });\n/* harmony import */ var _materials__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./materials */ \"./src/materials/index.ts\");\n/* harmony import */ var _point_attributes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./point-attributes */ \"./src/point-attributes.ts\");\n/* harmony import */ var _point_cloud_octree_geometry_node__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./point-cloud-octree-geometry-node */ \"./src/point-cloud-octree-geometry-node.ts\");\n/* harmony import */ var _point_cloud_octree_geometry__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./point-cloud-octree-geometry */ \"./src/point-cloud-octree-geometry.ts\");\n/* harmony import */ var _point_cloud_octree_node__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./point-cloud-octree-node */ \"./src/point-cloud-octree-node.ts\");\n/* harmony import */ var _point_cloud_octree_picker__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./point-cloud-octree-picker */ \"./src/point-cloud-octree-picker.ts\");\n/* harmony import */ var _point_cloud_octree__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./point-cloud-octree */ \"./src/point-cloud-octree.ts\");\n/* harmony import */ var _point_cloud_tree__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./point-cloud-tree */ \"./src/point-cloud-tree.ts\");\n/* harmony import */ var _potree__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./potree */ \"./src/potree.ts\");\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./types */ \"./src/types.ts\");\n/* harmony import */ var _version__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./version */ \"./src/version.ts\");\n/* harmony import */ var _loading__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./loading */ \"./src/loading/index.ts\");\n/* harmony import */ var _loading2__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./loading2 */ \"./src/loading2/index.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaW5kZXgudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb3RyZWUvLi9zcmMvaW5kZXgudHM/ZTk0ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgKiBmcm9tICcuL21hdGVyaWFscyc7XG5leHBvcnQgKiBmcm9tICcuL3BvaW50LWF0dHJpYnV0ZXMnO1xuZXhwb3J0ICogZnJvbSAnLi9wb2ludC1jbG91ZC1vY3RyZWUtZ2VvbWV0cnktbm9kZSc7XG5leHBvcnQgKiBmcm9tICcuL3BvaW50LWNsb3VkLW9jdHJlZS1nZW9tZXRyeSc7XG5leHBvcnQgKiBmcm9tICcuL3BvaW50LWNsb3VkLW9jdHJlZS1ub2RlJztcbmV4cG9ydCAqIGZyb20gJy4vcG9pbnQtY2xvdWQtb2N0cmVlLXBpY2tlcic7XG5leHBvcnQgKiBmcm9tICcuL3BvaW50LWNsb3VkLW9jdHJlZSc7XG5leHBvcnQgKiBmcm9tICcuL3BvaW50LWNsb3VkLXRyZWUnO1xuZXhwb3J0ICogZnJvbSAnLi9wb3RyZWUnO1xuZXhwb3J0ICogZnJvbSAnLi90eXBlcyc7XG5leHBvcnQgKiBmcm9tICcuL3ZlcnNpb24nO1xuZXhwb3J0IHsgbG9hZFBPQyBhcyBWMV9MT0FERVIgfSBmcm9tICcuL2xvYWRpbmcnO1xuZXhwb3J0IHsgbG9hZE9jdHJlZSBhcyBWMl9MT0FERVIgfSBmcm9tICcuL2xvYWRpbmcyJztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/index.ts\n");

/***/ }),

/***/ "./src/loading/binary-loader.ts":
/*!**************************************!*\
  !*** ./src/loading/binary-loader.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BinaryLoader: () => (/* binding */ BinaryLoader)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"three\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(three__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _point_attributes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../point-attributes */ \"./src/point-attributes.ts\");\n/* harmony import */ var _utils_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/utils */ \"./src/utils/utils.ts\");\n/* harmony import */ var _utils_worker_pool__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/worker-pool */ \"./src/utils/worker-pool.ts\");\n/* harmony import */ var _version__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../version */ \"./src/version.ts\");\n// -------------------------------------------------------------------------------------------------\n// Converted to Typescript and adapted from https://github.com/potree/potree\n// -------------------------------------------------------------------------------------------------\n\n\n\n\n\nclass BinaryLoader {\n    constructor({ getUrl = s => Promise.resolve(s), version, boundingBox, scale, xhrRequest, }) {\n        this.disposed = false;\n        if (typeof version === 'string') {\n            this.version = new _version__WEBPACK_IMPORTED_MODULE_4__.Version(version);\n        }\n        else {\n            this.version = version;\n        }\n        this.xhrRequest = xhrRequest;\n        this.getUrl = getUrl;\n        this.boundingBox = boundingBox;\n        this.scale = scale;\n        this.callbacks = [];\n    }\n    dispose() {\n        this.disposed = true;\n    }\n    load(node) {\n        if (node.loaded || this.disposed) {\n            return Promise.resolve();\n        }\n        return Promise.resolve(this.getUrl(this.getNodeUrl(node)))\n            .then(url => this.xhrRequest(url, { mode: 'cors' }))\n            .then(res => (0,_utils_utils__WEBPACK_IMPORTED_MODULE_2__.handleFailedRequest)(res))\n            .then(okRes => okRes.arrayBuffer())\n            .then(buffer => (0,_utils_utils__WEBPACK_IMPORTED_MODULE_2__.handleEmptyBuffer)(buffer))\n            .then(okBuffer => {\n            return new Promise(resolve => this.parse(node, okBuffer, resolve));\n        });\n    }\n    getNodeUrl(node) {\n        let url = node.getUrl();\n        if (this.version.equalOrHigher('1.4')) {\n            url += '.bin';\n        }\n        return url;\n    }\n    parse(node, buffer, resolve) {\n        if (this.disposed) {\n            resolve();\n            return;\n        }\n        BinaryLoader.WORKER_POOL.getWorker().then(autoTerminatingWorker => {\n            const pointAttributes = node.pcoGeometry.pointAttributes;\n            const numPoints = buffer.byteLength / pointAttributes.byteSize;\n            if (this.version.upTo('1.5')) {\n                node.numPoints = numPoints;\n            }\n            autoTerminatingWorker.worker.onmessage = (e) => {\n                if (this.disposed) {\n                    resolve();\n                    BinaryLoader.WORKER_POOL.releaseWorker(autoTerminatingWorker);\n                    return;\n                }\n                const data = e.data;\n                const geometry = (node.geometry = node.geometry || new three__WEBPACK_IMPORTED_MODULE_0__.BufferGeometry());\n                geometry.boundingBox = node.boundingBox;\n                this.addBufferAttributes(geometry, data.attributeBuffers);\n                this.addIndices(geometry, data.indices);\n                this.addNormalAttribute(geometry, numPoints);\n                node.mean = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3().fromArray(data.mean);\n                node.tightBoundingBox = this.getTightBoundingBox(data.tightBoundingBox);\n                node.loaded = true;\n                node.loading = false;\n                node.failed = false;\n                node.pcoGeometry.numNodesLoading--;\n                node.pcoGeometry.needsUpdate = true;\n                this.callbacks.forEach(callback => callback(node));\n                resolve();\n                BinaryLoader.WORKER_POOL.releaseWorker(autoTerminatingWorker);\n            };\n            const message = {\n                buffer,\n                pointAttributes,\n                version: this.version.version,\n                min: node.boundingBox.min.toArray(),\n                offset: node.pcoGeometry.offset.toArray(),\n                scale: this.scale,\n                spacing: node.spacing,\n                hasChildren: node.hasChildren,\n            };\n            autoTerminatingWorker.worker.postMessage(message, [message.buffer]);\n        });\n    }\n    getTightBoundingBox({ min, max }) {\n        const box = new three__WEBPACK_IMPORTED_MODULE_0__.Box3(new three__WEBPACK_IMPORTED_MODULE_0__.Vector3().fromArray(min), new three__WEBPACK_IMPORTED_MODULE_0__.Vector3().fromArray(max));\n        box.max.sub(box.min);\n        box.min.set(0, 0, 0);\n        return box;\n    }\n    addBufferAttributes(geometry, buffers) {\n        Object.keys(buffers).forEach(property => {\n            const buffer = buffers[property].buffer;\n            if (this.isAttribute(property, _point_attributes__WEBPACK_IMPORTED_MODULE_1__.PointAttributeName.POSITION_CARTESIAN)) {\n                geometry.setAttribute('position', new three__WEBPACK_IMPORTED_MODULE_0__.BufferAttribute(new Float32Array(buffer), 3));\n            }\n            else if (this.isAttribute(property, _point_attributes__WEBPACK_IMPORTED_MODULE_1__.PointAttributeName.COLOR_PACKED)) {\n                geometry.setAttribute('color', new three__WEBPACK_IMPORTED_MODULE_0__.BufferAttribute(new Uint8Array(buffer), 3, true));\n            }\n            else if (this.isAttribute(property, _point_attributes__WEBPACK_IMPORTED_MODULE_1__.PointAttributeName.INTENSITY)) {\n                geometry.setAttribute('intensity', new three__WEBPACK_IMPORTED_MODULE_0__.BufferAttribute(new Float32Array(buffer), 1));\n            }\n            else if (this.isAttribute(property, _point_attributes__WEBPACK_IMPORTED_MODULE_1__.PointAttributeName.CLASSIFICATION)) {\n                geometry.setAttribute('classification', new three__WEBPACK_IMPORTED_MODULE_0__.BufferAttribute(new Uint8Array(buffer), 1));\n            }\n            else if (this.isAttribute(property, _point_attributes__WEBPACK_IMPORTED_MODULE_1__.PointAttributeName.NORMAL_SPHEREMAPPED)) {\n                geometry.setAttribute('normal', new three__WEBPACK_IMPORTED_MODULE_0__.BufferAttribute(new Float32Array(buffer), 3));\n            }\n            else if (this.isAttribute(property, _point_attributes__WEBPACK_IMPORTED_MODULE_1__.PointAttributeName.NORMAL_OCT16)) {\n                geometry.setAttribute('normal', new three__WEBPACK_IMPORTED_MODULE_0__.BufferAttribute(new Float32Array(buffer), 3));\n            }\n            else if (this.isAttribute(property, _point_attributes__WEBPACK_IMPORTED_MODULE_1__.PointAttributeName.NORMAL)) {\n                geometry.setAttribute('normal', new three__WEBPACK_IMPORTED_MODULE_0__.BufferAttribute(new Float32Array(buffer), 3));\n            }\n        });\n    }\n    addIndices(geometry, indices) {\n        const indicesAttribute = new three__WEBPACK_IMPORTED_MODULE_0__.Uint8BufferAttribute(indices, 4);\n        indicesAttribute.normalized = true;\n        geometry.setAttribute('indices', indicesAttribute);\n    }\n    addNormalAttribute(geometry, numPoints) {\n        if (!geometry.getAttribute('normal')) {\n            const buffer = new Float32Array(numPoints * 3);\n            geometry.setAttribute('normal', new three__WEBPACK_IMPORTED_MODULE_0__.BufferAttribute(new Float32Array(buffer), 3));\n        }\n    }\n    isAttribute(property, name) {\n        return parseInt(property, 10) === name;\n    }\n}\nBinaryLoader.WORKER_POOL = new _utils_worker_pool__WEBPACK_IMPORTED_MODULE_3__.WorkerPool(32, (__webpack_require__(/*! ../workers/binary-decoder.worker.js */ \"./src/workers/binary-decoder.worker.js\")[\"default\"]));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbG9hZGluZy9iaW5hcnktbG9hZGVyLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb3RyZWUvLi9zcmMvbG9hZGluZy9iaW5hcnktbG9hZGVyLnRzP2NkMzQiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gQ29udmVydGVkIHRvIFR5cGVzY3JpcHQgYW5kIGFkYXB0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vcG90cmVlL3BvdHJlZVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuaW1wb3J0IHsgQm94MywgQnVmZmVyQXR0cmlidXRlLCBCdWZmZXJHZW9tZXRyeSwgVWludDhCdWZmZXJBdHRyaWJ1dGUsIFZlY3RvcjMgfSBmcm9tICd0aHJlZSc7XG5pbXBvcnQgeyBQb2ludEF0dHJpYnV0ZU5hbWUgfSBmcm9tICcuLi9wb2ludC1hdHRyaWJ1dGVzJztcbmltcG9ydCB7IGhhbmRsZUVtcHR5QnVmZmVyLCBoYW5kbGVGYWlsZWRSZXF1ZXN0IH0gZnJvbSAnLi4vdXRpbHMvdXRpbHMnO1xuaW1wb3J0IHsgV29ya2VyUG9vbCB9IGZyb20gJy4uL3V0aWxzL3dvcmtlci1wb29sJztcbmltcG9ydCB7IFZlcnNpb24gfSBmcm9tICcuLi92ZXJzaW9uJztcbmV4cG9ydCBjbGFzcyBCaW5hcnlMb2FkZXIge1xuICAgIGNvbnN0cnVjdG9yKHsgZ2V0VXJsID0gcyA9PiBQcm9taXNlLnJlc29sdmUocyksIHZlcnNpb24sIGJvdW5kaW5nQm94LCBzY2FsZSwgeGhyUmVxdWVzdCwgfSkge1xuICAgICAgICB0aGlzLmRpc3Bvc2VkID0gZmFsc2U7XG4gICAgICAgIGlmICh0eXBlb2YgdmVyc2lvbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRoaXMudmVyc2lvbiA9IG5ldyBWZXJzaW9uKHZlcnNpb24pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy52ZXJzaW9uID0gdmVyc2lvbjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnhoclJlcXVlc3QgPSB4aHJSZXF1ZXN0O1xuICAgICAgICB0aGlzLmdldFVybCA9IGdldFVybDtcbiAgICAgICAgdGhpcy5ib3VuZGluZ0JveCA9IGJvdW5kaW5nQm94O1xuICAgICAgICB0aGlzLnNjYWxlID0gc2NhbGU7XG4gICAgICAgIHRoaXMuY2FsbGJhY2tzID0gW107XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHRoaXMuZGlzcG9zZWQgPSB0cnVlO1xuICAgIH1cbiAgICBsb2FkKG5vZGUpIHtcbiAgICAgICAgaWYgKG5vZGUubG9hZGVkIHx8IHRoaXMuZGlzcG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuZ2V0VXJsKHRoaXMuZ2V0Tm9kZVVybChub2RlKSkpXG4gICAgICAgICAgICAudGhlbih1cmwgPT4gdGhpcy54aHJSZXF1ZXN0KHVybCwgeyBtb2RlOiAnY29ycycgfSkpXG4gICAgICAgICAgICAudGhlbihyZXMgPT4gaGFuZGxlRmFpbGVkUmVxdWVzdChyZXMpKVxuICAgICAgICAgICAgLnRoZW4ob2tSZXMgPT4gb2tSZXMuYXJyYXlCdWZmZXIoKSlcbiAgICAgICAgICAgIC50aGVuKGJ1ZmZlciA9PiBoYW5kbGVFbXB0eUJ1ZmZlcihidWZmZXIpKVxuICAgICAgICAgICAgLnRoZW4ob2tCdWZmZXIgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gdGhpcy5wYXJzZShub2RlLCBva0J1ZmZlciwgcmVzb2x2ZSkpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0Tm9kZVVybChub2RlKSB7XG4gICAgICAgIGxldCB1cmwgPSBub2RlLmdldFVybCgpO1xuICAgICAgICBpZiAodGhpcy52ZXJzaW9uLmVxdWFsT3JIaWdoZXIoJzEuNCcpKSB7XG4gICAgICAgICAgICB1cmwgKz0gJy5iaW4nO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1cmw7XG4gICAgfVxuICAgIHBhcnNlKG5vZGUsIGJ1ZmZlciwgcmVzb2x2ZSkge1xuICAgICAgICBpZiAodGhpcy5kaXNwb3NlZCkge1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIEJpbmFyeUxvYWRlci5XT1JLRVJfUE9PTC5nZXRXb3JrZXIoKS50aGVuKGF1dG9UZXJtaW5hdGluZ1dvcmtlciA9PiB7XG4gICAgICAgICAgICBjb25zdCBwb2ludEF0dHJpYnV0ZXMgPSBub2RlLnBjb0dlb21ldHJ5LnBvaW50QXR0cmlidXRlcztcbiAgICAgICAgICAgIGNvbnN0IG51bVBvaW50cyA9IGJ1ZmZlci5ieXRlTGVuZ3RoIC8gcG9pbnRBdHRyaWJ1dGVzLmJ5dGVTaXplO1xuICAgICAgICAgICAgaWYgKHRoaXMudmVyc2lvbi51cFRvKCcxLjUnKSkge1xuICAgICAgICAgICAgICAgIG5vZGUubnVtUG9pbnRzID0gbnVtUG9pbnRzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXV0b1Rlcm1pbmF0aW5nV29ya2VyLndvcmtlci5vbm1lc3NhZ2UgPSAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmRpc3Bvc2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgQmluYXJ5TG9hZGVyLldPUktFUl9QT09MLnJlbGVhc2VXb3JrZXIoYXV0b1Rlcm1pbmF0aW5nV29ya2VyKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gZS5kYXRhO1xuICAgICAgICAgICAgICAgIGNvbnN0IGdlb21ldHJ5ID0gKG5vZGUuZ2VvbWV0cnkgPSBub2RlLmdlb21ldHJ5IHx8IG5ldyBCdWZmZXJHZW9tZXRyeSgpKTtcbiAgICAgICAgICAgICAgICBnZW9tZXRyeS5ib3VuZGluZ0JveCA9IG5vZGUuYm91bmRpbmdCb3g7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRCdWZmZXJBdHRyaWJ1dGVzKGdlb21ldHJ5LCBkYXRhLmF0dHJpYnV0ZUJ1ZmZlcnMpO1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkSW5kaWNlcyhnZW9tZXRyeSwgZGF0YS5pbmRpY2VzKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZE5vcm1hbEF0dHJpYnV0ZShnZW9tZXRyeSwgbnVtUG9pbnRzKTtcbiAgICAgICAgICAgICAgICBub2RlLm1lYW4gPSBuZXcgVmVjdG9yMygpLmZyb21BcnJheShkYXRhLm1lYW4pO1xuICAgICAgICAgICAgICAgIG5vZGUudGlnaHRCb3VuZGluZ0JveCA9IHRoaXMuZ2V0VGlnaHRCb3VuZGluZ0JveChkYXRhLnRpZ2h0Qm91bmRpbmdCb3gpO1xuICAgICAgICAgICAgICAgIG5vZGUubG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBub2RlLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBub2RlLmZhaWxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIG5vZGUucGNvR2VvbWV0cnkubnVtTm9kZXNMb2FkaW5nLS07XG4gICAgICAgICAgICAgICAgbm9kZS5wY29HZW9tZXRyeS5uZWVkc1VwZGF0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5jYWxsYmFja3MuZm9yRWFjaChjYWxsYmFjayA9PiBjYWxsYmFjayhub2RlKSk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIEJpbmFyeUxvYWRlci5XT1JLRVJfUE9PTC5yZWxlYXNlV29ya2VyKGF1dG9UZXJtaW5hdGluZ1dvcmtlcik7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IHtcbiAgICAgICAgICAgICAgICBidWZmZXIsXG4gICAgICAgICAgICAgICAgcG9pbnRBdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgIHZlcnNpb246IHRoaXMudmVyc2lvbi52ZXJzaW9uLFxuICAgICAgICAgICAgICAgIG1pbjogbm9kZS5ib3VuZGluZ0JveC5taW4udG9BcnJheSgpLFxuICAgICAgICAgICAgICAgIG9mZnNldDogbm9kZS5wY29HZW9tZXRyeS5vZmZzZXQudG9BcnJheSgpLFxuICAgICAgICAgICAgICAgIHNjYWxlOiB0aGlzLnNjYWxlLFxuICAgICAgICAgICAgICAgIHNwYWNpbmc6IG5vZGUuc3BhY2luZyxcbiAgICAgICAgICAgICAgICBoYXNDaGlsZHJlbjogbm9kZS5oYXNDaGlsZHJlbixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBhdXRvVGVybWluYXRpbmdXb3JrZXIud29ya2VyLnBvc3RNZXNzYWdlKG1lc3NhZ2UsIFttZXNzYWdlLmJ1ZmZlcl0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0VGlnaHRCb3VuZGluZ0JveCh7IG1pbiwgbWF4IH0pIHtcbiAgICAgICAgY29uc3QgYm94ID0gbmV3IEJveDMobmV3IFZlY3RvcjMoKS5mcm9tQXJyYXkobWluKSwgbmV3IFZlY3RvcjMoKS5mcm9tQXJyYXkobWF4KSk7XG4gICAgICAgIGJveC5tYXguc3ViKGJveC5taW4pO1xuICAgICAgICBib3gubWluLnNldCgwLCAwLCAwKTtcbiAgICAgICAgcmV0dXJuIGJveDtcbiAgICB9XG4gICAgYWRkQnVmZmVyQXR0cmlidXRlcyhnZW9tZXRyeSwgYnVmZmVycykge1xuICAgICAgICBPYmplY3Qua2V5cyhidWZmZXJzKS5mb3JFYWNoKHByb3BlcnR5ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGJ1ZmZlciA9IGJ1ZmZlcnNbcHJvcGVydHldLmJ1ZmZlcjtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzQXR0cmlidXRlKHByb3BlcnR5LCBQb2ludEF0dHJpYnV0ZU5hbWUuUE9TSVRJT05fQ0FSVEVTSUFOKSkge1xuICAgICAgICAgICAgICAgIGdlb21ldHJ5LnNldEF0dHJpYnV0ZSgncG9zaXRpb24nLCBuZXcgQnVmZmVyQXR0cmlidXRlKG5ldyBGbG9hdDMyQXJyYXkoYnVmZmVyKSwgMykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5pc0F0dHJpYnV0ZShwcm9wZXJ0eSwgUG9pbnRBdHRyaWJ1dGVOYW1lLkNPTE9SX1BBQ0tFRCkpIHtcbiAgICAgICAgICAgICAgICBnZW9tZXRyeS5zZXRBdHRyaWJ1dGUoJ2NvbG9yJywgbmV3IEJ1ZmZlckF0dHJpYnV0ZShuZXcgVWludDhBcnJheShidWZmZXIpLCAzLCB0cnVlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLmlzQXR0cmlidXRlKHByb3BlcnR5LCBQb2ludEF0dHJpYnV0ZU5hbWUuSU5URU5TSVRZKSkge1xuICAgICAgICAgICAgICAgIGdlb21ldHJ5LnNldEF0dHJpYnV0ZSgnaW50ZW5zaXR5JywgbmV3IEJ1ZmZlckF0dHJpYnV0ZShuZXcgRmxvYXQzMkFycmF5KGJ1ZmZlciksIDEpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuaXNBdHRyaWJ1dGUocHJvcGVydHksIFBvaW50QXR0cmlidXRlTmFtZS5DTEFTU0lGSUNBVElPTikpIHtcbiAgICAgICAgICAgICAgICBnZW9tZXRyeS5zZXRBdHRyaWJ1dGUoJ2NsYXNzaWZpY2F0aW9uJywgbmV3IEJ1ZmZlckF0dHJpYnV0ZShuZXcgVWludDhBcnJheShidWZmZXIpLCAxKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLmlzQXR0cmlidXRlKHByb3BlcnR5LCBQb2ludEF0dHJpYnV0ZU5hbWUuTk9STUFMX1NQSEVSRU1BUFBFRCkpIHtcbiAgICAgICAgICAgICAgICBnZW9tZXRyeS5zZXRBdHRyaWJ1dGUoJ25vcm1hbCcsIG5ldyBCdWZmZXJBdHRyaWJ1dGUobmV3IEZsb2F0MzJBcnJheShidWZmZXIpLCAzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLmlzQXR0cmlidXRlKHByb3BlcnR5LCBQb2ludEF0dHJpYnV0ZU5hbWUuTk9STUFMX09DVDE2KSkge1xuICAgICAgICAgICAgICAgIGdlb21ldHJ5LnNldEF0dHJpYnV0ZSgnbm9ybWFsJywgbmV3IEJ1ZmZlckF0dHJpYnV0ZShuZXcgRmxvYXQzMkFycmF5KGJ1ZmZlciksIDMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuaXNBdHRyaWJ1dGUocHJvcGVydHksIFBvaW50QXR0cmlidXRlTmFtZS5OT1JNQUwpKSB7XG4gICAgICAgICAgICAgICAgZ2VvbWV0cnkuc2V0QXR0cmlidXRlKCdub3JtYWwnLCBuZXcgQnVmZmVyQXR0cmlidXRlKG5ldyBGbG9hdDMyQXJyYXkoYnVmZmVyKSwgMykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgYWRkSW5kaWNlcyhnZW9tZXRyeSwgaW5kaWNlcykge1xuICAgICAgICBjb25zdCBpbmRpY2VzQXR0cmlidXRlID0gbmV3IFVpbnQ4QnVmZmVyQXR0cmlidXRlKGluZGljZXMsIDQpO1xuICAgICAgICBpbmRpY2VzQXR0cmlidXRlLm5vcm1hbGl6ZWQgPSB0cnVlO1xuICAgICAgICBnZW9tZXRyeS5zZXRBdHRyaWJ1dGUoJ2luZGljZXMnLCBpbmRpY2VzQXR0cmlidXRlKTtcbiAgICB9XG4gICAgYWRkTm9ybWFsQXR0cmlidXRlKGdlb21ldHJ5LCBudW1Qb2ludHMpIHtcbiAgICAgICAgaWYgKCFnZW9tZXRyeS5nZXRBdHRyaWJ1dGUoJ25vcm1hbCcpKSB7XG4gICAgICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgRmxvYXQzMkFycmF5KG51bVBvaW50cyAqIDMpO1xuICAgICAgICAgICAgZ2VvbWV0cnkuc2V0QXR0cmlidXRlKCdub3JtYWwnLCBuZXcgQnVmZmVyQXR0cmlidXRlKG5ldyBGbG9hdDMyQXJyYXkoYnVmZmVyKSwgMykpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlzQXR0cmlidXRlKHByb3BlcnR5LCBuYW1lKSB7XG4gICAgICAgIHJldHVybiBwYXJzZUludChwcm9wZXJ0eSwgMTApID09PSBuYW1lO1xuICAgIH1cbn1cbkJpbmFyeUxvYWRlci5XT1JLRVJfUE9PTCA9IG5ldyBXb3JrZXJQb29sKDMyLCByZXF1aXJlKCcuLi93b3JrZXJzL2JpbmFyeS1kZWNvZGVyLndvcmtlci5qcycpLmRlZmF1bHQpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/loading/binary-loader.ts\n");

/***/ }),

/***/ "./src/loading/index.ts":
/*!******************************!*\
  !*** ./src/loading/index.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BinaryLoader: () => (/* reexport safe */ _binary_loader__WEBPACK_IMPORTED_MODULE_0__.BinaryLoader),\n/* harmony export */   loadPOC: () => (/* reexport safe */ _load_poc__WEBPACK_IMPORTED_MODULE_1__.loadPOC)\n/* harmony export */ });\n/* harmony import */ var _binary_loader__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./binary-loader */ \"./src/loading/binary-loader.ts\");\n/* harmony import */ var _load_poc__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./load-poc */ \"./src/loading/load-poc.ts\");\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./types */ \"./src/loading/types.ts\");\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbG9hZGluZy9pbmRleC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3BvdHJlZS8uL3NyYy9sb2FkaW5nL2luZGV4LnRzPzFhNGIiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0ICogZnJvbSAnLi9iaW5hcnktbG9hZGVyJztcbmV4cG9ydCAqIGZyb20gJy4vbG9hZC1wb2MnO1xuZXhwb3J0ICogZnJvbSAnLi90eXBlcyc7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/loading/index.ts\n");

/***/ }),

/***/ "./src/loading/load-poc.ts":
/*!*********************************!*\
  !*** ./src/loading/load-poc.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   loadPOC: () => (/* binding */ loadPOC)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"three\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(three__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _point_attributes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../point-attributes */ \"./src/point-attributes.ts\");\n/* harmony import */ var _point_cloud_octree_geometry__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../point-cloud-octree-geometry */ \"./src/point-cloud-octree-geometry.ts\");\n/* harmony import */ var _point_cloud_octree_geometry_node__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../point-cloud-octree-geometry-node */ \"./src/point-cloud-octree-geometry-node.ts\");\n/* harmony import */ var _utils_bounds__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/bounds */ \"./src/utils/bounds.ts\");\n/* harmony import */ var _utils_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/utils */ \"./src/utils/utils.ts\");\n/* harmony import */ var _version__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../version */ \"./src/version.ts\");\n/* harmony import */ var _binary_loader__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./binary-loader */ \"./src/loading/binary-loader.ts\");\n// -------------------------------------------------------------------------------------------------\n// Converted to Typescript and adapted from https://github.com/potree/potree\n// -------------------------------------------------------------------------------------------------\n\n\n\n\n\n\n\n\n/**\n *\n * @param url\n *    The url of the point cloud file (usually cloud.js).\n * @param getUrl\n *    Function which receives the relative URL of a point cloud chunk file which is to be loaded\n *    and shoud return a new url (e.g. signed) in the form of a string or a promise.\n * @param xhrRequest An arrow function for a fetch request\n * @returns\n *    An observable which emits once when the first LOD of the point cloud is loaded.\n */\nfunction loadPOC(url, getUrl, xhrRequest) {\n    return Promise.resolve(getUrl(url)).then(transformedUrl => {\n        return xhrRequest(transformedUrl, { mode: 'cors' })\n            .then(res => (0,_utils_utils__WEBPACK_IMPORTED_MODULE_5__.handleFailedRequest)(res))\n            .then(okRes => okRes.json())\n            .then(parse(transformedUrl, getUrl, xhrRequest));\n    });\n}\nfunction parse(url, getUrl, xhrRequest) {\n    return (data) => {\n        const { offset, boundingBox, tightBoundingBox } = getBoundingBoxes(data);\n        const loader = new _binary_loader__WEBPACK_IMPORTED_MODULE_7__.BinaryLoader({\n            getUrl,\n            version: data.version,\n            boundingBox,\n            scale: data.scale,\n            xhrRequest,\n        });\n        const pco = new _point_cloud_octree_geometry__WEBPACK_IMPORTED_MODULE_2__.PointCloudOctreeGeometry(loader, boundingBox, tightBoundingBox, offset, xhrRequest);\n        pco.url = url;\n        pco.octreeDir = data.octreeDir;\n        pco.needsUpdate = true;\n        pco.spacing = data.spacing;\n        pco.hierarchyStepSize = data.hierarchyStepSize;\n        pco.projection = data.projection;\n        pco.offset = offset;\n        pco.pointAttributes = new _point_attributes__WEBPACK_IMPORTED_MODULE_1__.PointAttributes(data.pointAttributes);\n        const nodes = {};\n        const version = new _version__WEBPACK_IMPORTED_MODULE_6__.Version(data.version);\n        return loadRoot(pco, data, nodes, version).then(() => {\n            if (version.upTo('1.4')) {\n                loadRemainingHierarchy(pco, data, nodes);\n            }\n            pco.nodes = nodes;\n            return pco;\n        });\n    };\n}\nfunction getBoundingBoxes(data) {\n    const min = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3(data.boundingBox.lx, data.boundingBox.ly, data.boundingBox.lz);\n    const max = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3(data.boundingBox.ux, data.boundingBox.uy, data.boundingBox.uz);\n    const boundingBox = new three__WEBPACK_IMPORTED_MODULE_0__.Box3(min, max);\n    const tightBoundingBox = boundingBox.clone();\n    const offset = min.clone();\n    if (data.tightBoundingBox) {\n        const { lx, ly, lz, ux, uy, uz } = data.tightBoundingBox;\n        tightBoundingBox.min.set(lx, ly, lz);\n        tightBoundingBox.max.set(ux, uy, uz);\n    }\n    boundingBox.min.sub(offset);\n    boundingBox.max.sub(offset);\n    tightBoundingBox.min.sub(offset);\n    tightBoundingBox.max.sub(offset);\n    return { offset, boundingBox, tightBoundingBox };\n}\nfunction loadRoot(pco, data, nodes, version) {\n    const name = 'r';\n    const root = new _point_cloud_octree_geometry_node__WEBPACK_IMPORTED_MODULE_3__.PointCloudOctreeGeometryNode(name, pco, pco.boundingBox);\n    root.hasChildren = true;\n    root.spacing = pco.spacing;\n    if (version.upTo('1.5')) {\n        root.numPoints = data.hierarchy[0][1];\n    }\n    else {\n        root.numPoints = 0;\n    }\n    pco.root = root;\n    nodes[name] = root;\n    return pco.root.load();\n}\nfunction loadRemainingHierarchy(pco, data, nodes) {\n    for (let i = 1; i < data.hierarchy.length; i++) {\n        const [name, numPoints] = data.hierarchy[i];\n        const { index, parentName, level } = parseName(name);\n        const parentNode = nodes[parentName];\n        const boundingBox = (0,_utils_bounds__WEBPACK_IMPORTED_MODULE_4__.createChildAABB)(parentNode.boundingBox, index);\n        const node = new _point_cloud_octree_geometry_node__WEBPACK_IMPORTED_MODULE_3__.PointCloudOctreeGeometryNode(name, pco, boundingBox);\n        node.level = level;\n        node.numPoints = numPoints;\n        node.spacing = pco.spacing / Math.pow(2, node.level);\n        nodes[name] = node;\n        parentNode.addChild(node);\n    }\n}\nfunction parseName(name) {\n    return {\n        index: (0,_utils_utils__WEBPACK_IMPORTED_MODULE_5__.getIndexFromName)(name),\n        parentName: name.substring(0, name.length - 1),\n        level: name.length - 1,\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbG9hZGluZy9sb2FkLXBvYy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3BvdHJlZS8uL3NyYy9sb2FkaW5nL2xvYWQtcG9jLnRzPzNkNjIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gQ29udmVydGVkIHRvIFR5cGVzY3JpcHQgYW5kIGFkYXB0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vcG90cmVlL3BvdHJlZVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuaW1wb3J0IHsgQm94MywgVmVjdG9yMyB9IGZyb20gJ3RocmVlJztcbmltcG9ydCB7IFBvaW50QXR0cmlidXRlcyB9IGZyb20gJy4uL3BvaW50LWF0dHJpYnV0ZXMnO1xuaW1wb3J0IHsgUG9pbnRDbG91ZE9jdHJlZUdlb21ldHJ5IH0gZnJvbSAnLi4vcG9pbnQtY2xvdWQtb2N0cmVlLWdlb21ldHJ5JztcbmltcG9ydCB7IFBvaW50Q2xvdWRPY3RyZWVHZW9tZXRyeU5vZGUgfSBmcm9tICcuLi9wb2ludC1jbG91ZC1vY3RyZWUtZ2VvbWV0cnktbm9kZSc7XG5pbXBvcnQgeyBjcmVhdGVDaGlsZEFBQkIgfSBmcm9tICcuLi91dGlscy9ib3VuZHMnO1xuaW1wb3J0IHsgZ2V0SW5kZXhGcm9tTmFtZSwgaGFuZGxlRmFpbGVkUmVxdWVzdCB9IGZyb20gJy4uL3V0aWxzL3V0aWxzJztcbmltcG9ydCB7IFZlcnNpb24gfSBmcm9tICcuLi92ZXJzaW9uJztcbmltcG9ydCB7IEJpbmFyeUxvYWRlciB9IGZyb20gJy4vYmluYXJ5LWxvYWRlcic7XG4vKipcbiAqXG4gKiBAcGFyYW0gdXJsXG4gKiAgICBUaGUgdXJsIG9mIHRoZSBwb2ludCBjbG91ZCBmaWxlICh1c3VhbGx5IGNsb3VkLmpzKS5cbiAqIEBwYXJhbSBnZXRVcmxcbiAqICAgIEZ1bmN0aW9uIHdoaWNoIHJlY2VpdmVzIHRoZSByZWxhdGl2ZSBVUkwgb2YgYSBwb2ludCBjbG91ZCBjaHVuayBmaWxlIHdoaWNoIGlzIHRvIGJlIGxvYWRlZFxuICogICAgYW5kIHNob3VkIHJldHVybiBhIG5ldyB1cmwgKGUuZy4gc2lnbmVkKSBpbiB0aGUgZm9ybSBvZiBhIHN0cmluZyBvciBhIHByb21pc2UuXG4gKiBAcGFyYW0geGhyUmVxdWVzdCBBbiBhcnJvdyBmdW5jdGlvbiBmb3IgYSBmZXRjaCByZXF1ZXN0XG4gKiBAcmV0dXJuc1xuICogICAgQW4gb2JzZXJ2YWJsZSB3aGljaCBlbWl0cyBvbmNlIHdoZW4gdGhlIGZpcnN0IExPRCBvZiB0aGUgcG9pbnQgY2xvdWQgaXMgbG9hZGVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbG9hZFBPQyh1cmwsIGdldFVybCwgeGhyUmVxdWVzdCkge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZ2V0VXJsKHVybCkpLnRoZW4odHJhbnNmb3JtZWRVcmwgPT4ge1xuICAgICAgICByZXR1cm4geGhyUmVxdWVzdCh0cmFuc2Zvcm1lZFVybCwgeyBtb2RlOiAnY29ycycgfSlcbiAgICAgICAgICAgIC50aGVuKHJlcyA9PiBoYW5kbGVGYWlsZWRSZXF1ZXN0KHJlcykpXG4gICAgICAgICAgICAudGhlbihva1JlcyA9PiBva1Jlcy5qc29uKCkpXG4gICAgICAgICAgICAudGhlbihwYXJzZSh0cmFuc2Zvcm1lZFVybCwgZ2V0VXJsLCB4aHJSZXF1ZXN0KSk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBwYXJzZSh1cmwsIGdldFVybCwgeGhyUmVxdWVzdCkge1xuICAgIHJldHVybiAoZGF0YSkgPT4ge1xuICAgICAgICBjb25zdCB7IG9mZnNldCwgYm91bmRpbmdCb3gsIHRpZ2h0Qm91bmRpbmdCb3ggfSA9IGdldEJvdW5kaW5nQm94ZXMoZGF0YSk7XG4gICAgICAgIGNvbnN0IGxvYWRlciA9IG5ldyBCaW5hcnlMb2FkZXIoe1xuICAgICAgICAgICAgZ2V0VXJsLFxuICAgICAgICAgICAgdmVyc2lvbjogZGF0YS52ZXJzaW9uLFxuICAgICAgICAgICAgYm91bmRpbmdCb3gsXG4gICAgICAgICAgICBzY2FsZTogZGF0YS5zY2FsZSxcbiAgICAgICAgICAgIHhoclJlcXVlc3QsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBwY28gPSBuZXcgUG9pbnRDbG91ZE9jdHJlZUdlb21ldHJ5KGxvYWRlciwgYm91bmRpbmdCb3gsIHRpZ2h0Qm91bmRpbmdCb3gsIG9mZnNldCwgeGhyUmVxdWVzdCk7XG4gICAgICAgIHBjby51cmwgPSB1cmw7XG4gICAgICAgIHBjby5vY3RyZWVEaXIgPSBkYXRhLm9jdHJlZURpcjtcbiAgICAgICAgcGNvLm5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgcGNvLnNwYWNpbmcgPSBkYXRhLnNwYWNpbmc7XG4gICAgICAgIHBjby5oaWVyYXJjaHlTdGVwU2l6ZSA9IGRhdGEuaGllcmFyY2h5U3RlcFNpemU7XG4gICAgICAgIHBjby5wcm9qZWN0aW9uID0gZGF0YS5wcm9qZWN0aW9uO1xuICAgICAgICBwY28ub2Zmc2V0ID0gb2Zmc2V0O1xuICAgICAgICBwY28ucG9pbnRBdHRyaWJ1dGVzID0gbmV3IFBvaW50QXR0cmlidXRlcyhkYXRhLnBvaW50QXR0cmlidXRlcyk7XG4gICAgICAgIGNvbnN0IG5vZGVzID0ge307XG4gICAgICAgIGNvbnN0IHZlcnNpb24gPSBuZXcgVmVyc2lvbihkYXRhLnZlcnNpb24pO1xuICAgICAgICByZXR1cm4gbG9hZFJvb3QocGNvLCBkYXRhLCBub2RlcywgdmVyc2lvbikudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBpZiAodmVyc2lvbi51cFRvKCcxLjQnKSkge1xuICAgICAgICAgICAgICAgIGxvYWRSZW1haW5pbmdIaWVyYXJjaHkocGNvLCBkYXRhLCBub2Rlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwY28ubm9kZXMgPSBub2RlcztcbiAgICAgICAgICAgIHJldHVybiBwY287XG4gICAgICAgIH0pO1xuICAgIH07XG59XG5mdW5jdGlvbiBnZXRCb3VuZGluZ0JveGVzKGRhdGEpIHtcbiAgICBjb25zdCBtaW4gPSBuZXcgVmVjdG9yMyhkYXRhLmJvdW5kaW5nQm94Lmx4LCBkYXRhLmJvdW5kaW5nQm94Lmx5LCBkYXRhLmJvdW5kaW5nQm94Lmx6KTtcbiAgICBjb25zdCBtYXggPSBuZXcgVmVjdG9yMyhkYXRhLmJvdW5kaW5nQm94LnV4LCBkYXRhLmJvdW5kaW5nQm94LnV5LCBkYXRhLmJvdW5kaW5nQm94LnV6KTtcbiAgICBjb25zdCBib3VuZGluZ0JveCA9IG5ldyBCb3gzKG1pbiwgbWF4KTtcbiAgICBjb25zdCB0aWdodEJvdW5kaW5nQm94ID0gYm91bmRpbmdCb3guY2xvbmUoKTtcbiAgICBjb25zdCBvZmZzZXQgPSBtaW4uY2xvbmUoKTtcbiAgICBpZiAoZGF0YS50aWdodEJvdW5kaW5nQm94KSB7XG4gICAgICAgIGNvbnN0IHsgbHgsIGx5LCBseiwgdXgsIHV5LCB1eiB9ID0gZGF0YS50aWdodEJvdW5kaW5nQm94O1xuICAgICAgICB0aWdodEJvdW5kaW5nQm94Lm1pbi5zZXQobHgsIGx5LCBseik7XG4gICAgICAgIHRpZ2h0Qm91bmRpbmdCb3gubWF4LnNldCh1eCwgdXksIHV6KTtcbiAgICB9XG4gICAgYm91bmRpbmdCb3gubWluLnN1YihvZmZzZXQpO1xuICAgIGJvdW5kaW5nQm94Lm1heC5zdWIob2Zmc2V0KTtcbiAgICB0aWdodEJvdW5kaW5nQm94Lm1pbi5zdWIob2Zmc2V0KTtcbiAgICB0aWdodEJvdW5kaW5nQm94Lm1heC5zdWIob2Zmc2V0KTtcbiAgICByZXR1cm4geyBvZmZzZXQsIGJvdW5kaW5nQm94LCB0aWdodEJvdW5kaW5nQm94IH07XG59XG5mdW5jdGlvbiBsb2FkUm9vdChwY28sIGRhdGEsIG5vZGVzLCB2ZXJzaW9uKSB7XG4gICAgY29uc3QgbmFtZSA9ICdyJztcbiAgICBjb25zdCByb290ID0gbmV3IFBvaW50Q2xvdWRPY3RyZWVHZW9tZXRyeU5vZGUobmFtZSwgcGNvLCBwY28uYm91bmRpbmdCb3gpO1xuICAgIHJvb3QuaGFzQ2hpbGRyZW4gPSB0cnVlO1xuICAgIHJvb3Quc3BhY2luZyA9IHBjby5zcGFjaW5nO1xuICAgIGlmICh2ZXJzaW9uLnVwVG8oJzEuNScpKSB7XG4gICAgICAgIHJvb3QubnVtUG9pbnRzID0gZGF0YS5oaWVyYXJjaHlbMF1bMV07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByb290Lm51bVBvaW50cyA9IDA7XG4gICAgfVxuICAgIHBjby5yb290ID0gcm9vdDtcbiAgICBub2Rlc1tuYW1lXSA9IHJvb3Q7XG4gICAgcmV0dXJuIHBjby5yb290LmxvYWQoKTtcbn1cbmZ1bmN0aW9uIGxvYWRSZW1haW5pbmdIaWVyYXJjaHkocGNvLCBkYXRhLCBub2Rlcykge1xuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgZGF0YS5oaWVyYXJjaHkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgW25hbWUsIG51bVBvaW50c10gPSBkYXRhLmhpZXJhcmNoeVtpXTtcbiAgICAgICAgY29uc3QgeyBpbmRleCwgcGFyZW50TmFtZSwgbGV2ZWwgfSA9IHBhcnNlTmFtZShuYW1lKTtcbiAgICAgICAgY29uc3QgcGFyZW50Tm9kZSA9IG5vZGVzW3BhcmVudE5hbWVdO1xuICAgICAgICBjb25zdCBib3VuZGluZ0JveCA9IGNyZWF0ZUNoaWxkQUFCQihwYXJlbnROb2RlLmJvdW5kaW5nQm94LCBpbmRleCk7XG4gICAgICAgIGNvbnN0IG5vZGUgPSBuZXcgUG9pbnRDbG91ZE9jdHJlZUdlb21ldHJ5Tm9kZShuYW1lLCBwY28sIGJvdW5kaW5nQm94KTtcbiAgICAgICAgbm9kZS5sZXZlbCA9IGxldmVsO1xuICAgICAgICBub2RlLm51bVBvaW50cyA9IG51bVBvaW50cztcbiAgICAgICAgbm9kZS5zcGFjaW5nID0gcGNvLnNwYWNpbmcgLyBNYXRoLnBvdygyLCBub2RlLmxldmVsKTtcbiAgICAgICAgbm9kZXNbbmFtZV0gPSBub2RlO1xuICAgICAgICBwYXJlbnROb2RlLmFkZENoaWxkKG5vZGUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHBhcnNlTmFtZShuYW1lKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaW5kZXg6IGdldEluZGV4RnJvbU5hbWUobmFtZSksXG4gICAgICAgIHBhcmVudE5hbWU6IG5hbWUuc3Vic3RyaW5nKDAsIG5hbWUubGVuZ3RoIC0gMSksXG4gICAgICAgIGxldmVsOiBuYW1lLmxlbmd0aCAtIDEsXG4gICAgfTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/loading/load-poc.ts\n");

/***/ }),

/***/ "./src/loading/types.ts":
/*!******************************!*\
  !*** ./src/loading/types.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbG9hZGluZy90eXBlcy50cyIsIm1hcHBpbmdzIjoiO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb3RyZWUvLi9zcmMvbG9hZGluZy90eXBlcy50cz9iNWNiIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB7fTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/loading/types.ts\n");

/***/ }),

/***/ "./src/loading2/index.ts":
/*!*******************************!*\
  !*** ./src/loading2/index.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   loadOctree: () => (/* reexport safe */ _load_octree__WEBPACK_IMPORTED_MODULE_0__.loadOctree)\n/* harmony export */ });\n/* harmony import */ var _load_octree__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./load-octree */ \"./src/loading2/load-octree.ts\");\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbG9hZGluZzIvaW5kZXgudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL3BvdHJlZS8uL3NyYy9sb2FkaW5nMi9pbmRleC50cz8wZWVhIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCAqIGZyb20gJy4vbG9hZC1vY3RyZWUnO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/loading2/index.ts\n");

/***/ }),

/***/ "./src/loading2/load-octree.ts":
/*!*************************************!*\
  !*** ./src/loading2/load-octree.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   loadOctree: () => (/* binding */ loadOctree)\n/* harmony export */ });\n/* harmony import */ var _octree_loader__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./octree-loader */ \"./src/loading2/octree-loader.ts\");\n\nasync function loadOctree(url, getUrl, xhrRequest) {\n    const trueUrl = await getUrl(url);\n    const loader = new _octree_loader__WEBPACK_IMPORTED_MODULE_0__.OctreeLoader(getUrl, url);\n    const { geometry } = await loader.load(trueUrl, xhrRequest);\n    return geometry;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbG9hZGluZzIvbG9hZC1vY3RyZWUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3BvdHJlZS8uL3NyYy9sb2FkaW5nMi9sb2FkLW9jdHJlZS50cz80MzEwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE9jdHJlZUxvYWRlciB9IGZyb20gJy4vb2N0cmVlLWxvYWRlcic7XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbG9hZE9jdHJlZSh1cmwsIGdldFVybCwgeGhyUmVxdWVzdCkge1xuICAgIGNvbnN0IHRydWVVcmwgPSBhd2FpdCBnZXRVcmwodXJsKTtcbiAgICBjb25zdCBsb2FkZXIgPSBuZXcgT2N0cmVlTG9hZGVyKGdldFVybCwgdXJsKTtcbiAgICBjb25zdCB7IGdlb21ldHJ5IH0gPSBhd2FpdCBsb2FkZXIubG9hZCh0cnVlVXJsLCB4aHJSZXF1ZXN0KTtcbiAgICByZXR1cm4gZ2VvbWV0cnk7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/loading2/load-octree.ts\n");

/***/ }),

/***/ "./src/loading2/octree-geometry-node.ts":
/*!**********************************************!*\
  !*** ./src/loading2/octree-geometry-node.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OctreeGeometryNode: () => (/* binding */ OctreeGeometryNode)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"three\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(three__WEBPACK_IMPORTED_MODULE_0__);\n\nclass OctreeGeometryNode {\n    constructor(name, octreeGeometry, boundingBox) {\n        this.name = name;\n        this.octreeGeometry = octreeGeometry;\n        this.boundingBox = boundingBox;\n        this.loaded = false;\n        this.loading = false;\n        this.failed = false;\n        this.parent = null;\n        this.hasChildren = false;\n        this.isLeafNode = true;\n        this.isTreeNode = false;\n        this.isGeometryNode = true;\n        this.children = [\n            null,\n            null,\n            null,\n            null,\n            null,\n            null,\n            null,\n            null\n        ];\n        this.id = OctreeGeometryNode.IDCount++;\n        this.index = parseInt(name.charAt(name.length - 1));\n        this.boundingSphere = boundingBox.getBoundingSphere(new three__WEBPACK_IMPORTED_MODULE_0__.Sphere());\n        this.tightBoundingBox = boundingBox.clone();\n        this.numPoints = 0;\n        this.oneTimeDisposeHandlers = [];\n    }\n    getLevel() {\n        return this.level;\n    }\n    isLoaded() {\n        return this.loaded;\n    }\n    getBoundingSphere() {\n        return this.boundingSphere;\n    }\n    getBoundingBox() {\n        return this.boundingBox;\n    }\n    load() {\n        if (this.octreeGeometry.numNodesLoading >= this.octreeGeometry.maxNumNodesLoading) {\n            return Promise.resolve();\n        }\n        if (!this.octreeGeometry.loader) {\n            this.loading = false;\n            this.failed = true;\n            return Promise.reject(`Loader not initialized for ${this.name}`);\n        }\n        return this.octreeGeometry.loader.load(this);\n    }\n    getNumPoints() {\n        return this.numPoints;\n    }\n    dispose() {\n        if (this.geometry && this.parent != null) {\n            this.geometry.dispose();\n            this.geometry = undefined;\n            this.loaded = false;\n            for (let i = 0; i < this.oneTimeDisposeHandlers.length; i++) {\n                const handler = this.oneTimeDisposeHandlers[i];\n                handler();\n            }\n            this.oneTimeDisposeHandlers = [];\n        }\n    }\n    traverse(cb, includeSelf = true) {\n        const stack = includeSelf ? [this] : [];\n        let current;\n        while ((current = stack.pop()) !== undefined) {\n            cb(current);\n            for (const child of current.children) {\n                if (child !== null) {\n                    stack.push(child);\n                }\n            }\n        }\n    }\n}\nOctreeGeometryNode.IDCount = 0;\nOctreeGeometryNode.IDCount = 0;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbG9hZGluZzIvb2N0cmVlLWdlb21ldHJ5LW5vZGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcG90cmVlLy4vc3JjL2xvYWRpbmcyL29jdHJlZS1nZW9tZXRyeS1ub2RlLnRzPzM5YzAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU3BoZXJlIH0gZnJvbSAndGhyZWUnO1xuZXhwb3J0IGNsYXNzIE9jdHJlZUdlb21ldHJ5Tm9kZSB7XG4gICAgY29uc3RydWN0b3IobmFtZSwgb2N0cmVlR2VvbWV0cnksIGJvdW5kaW5nQm94KSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMub2N0cmVlR2VvbWV0cnkgPSBvY3RyZWVHZW9tZXRyeTtcbiAgICAgICAgdGhpcy5ib3VuZGluZ0JveCA9IGJvdW5kaW5nQm94O1xuICAgICAgICB0aGlzLmxvYWRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5mYWlsZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgICAgICB0aGlzLmhhc0NoaWxkcmVuID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaXNMZWFmTm9kZSA9IHRydWU7XG4gICAgICAgIHRoaXMuaXNUcmVlTm9kZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmlzR2VvbWV0cnlOb2RlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IFtcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBudWxsXG4gICAgICAgIF07XG4gICAgICAgIHRoaXMuaWQgPSBPY3RyZWVHZW9tZXRyeU5vZGUuSURDb3VudCsrO1xuICAgICAgICB0aGlzLmluZGV4ID0gcGFyc2VJbnQobmFtZS5jaGFyQXQobmFtZS5sZW5ndGggLSAxKSk7XG4gICAgICAgIHRoaXMuYm91bmRpbmdTcGhlcmUgPSBib3VuZGluZ0JveC5nZXRCb3VuZGluZ1NwaGVyZShuZXcgU3BoZXJlKCkpO1xuICAgICAgICB0aGlzLnRpZ2h0Qm91bmRpbmdCb3ggPSBib3VuZGluZ0JveC5jbG9uZSgpO1xuICAgICAgICB0aGlzLm51bVBvaW50cyA9IDA7XG4gICAgICAgIHRoaXMub25lVGltZURpc3Bvc2VIYW5kbGVycyA9IFtdO1xuICAgIH1cbiAgICBnZXRMZXZlbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGV2ZWw7XG4gICAgfVxuICAgIGlzTG9hZGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2FkZWQ7XG4gICAgfVxuICAgIGdldEJvdW5kaW5nU3BoZXJlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ib3VuZGluZ1NwaGVyZTtcbiAgICB9XG4gICAgZ2V0Qm91bmRpbmdCb3goKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJvdW5kaW5nQm94O1xuICAgIH1cbiAgICBsb2FkKCkge1xuICAgICAgICBpZiAodGhpcy5vY3RyZWVHZW9tZXRyeS5udW1Ob2Rlc0xvYWRpbmcgPj0gdGhpcy5vY3RyZWVHZW9tZXRyeS5tYXhOdW1Ob2Rlc0xvYWRpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMub2N0cmVlR2VvbWV0cnkubG9hZGVyKSB7XG4gICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuZmFpbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgTG9hZGVyIG5vdCBpbml0aWFsaXplZCBmb3IgJHt0aGlzLm5hbWV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMub2N0cmVlR2VvbWV0cnkubG9hZGVyLmxvYWQodGhpcyk7XG4gICAgfVxuICAgIGdldE51bVBvaW50cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubnVtUG9pbnRzO1xuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBpZiAodGhpcy5nZW9tZXRyeSAmJiB0aGlzLnBhcmVudCAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmdlb21ldHJ5LmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIHRoaXMuZ2VvbWV0cnkgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGlzLmxvYWRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm9uZVRpbWVEaXNwb3NlSGFuZGxlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBoYW5kbGVyID0gdGhpcy5vbmVUaW1lRGlzcG9zZUhhbmRsZXJzW2ldO1xuICAgICAgICAgICAgICAgIGhhbmRsZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMub25lVGltZURpc3Bvc2VIYW5kbGVycyA9IFtdO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRyYXZlcnNlKGNiLCBpbmNsdWRlU2VsZiA9IHRydWUpIHtcbiAgICAgICAgY29uc3Qgc3RhY2sgPSBpbmNsdWRlU2VsZiA/IFt0aGlzXSA6IFtdO1xuICAgICAgICBsZXQgY3VycmVudDtcbiAgICAgICAgd2hpbGUgKChjdXJyZW50ID0gc3RhY2sucG9wKCkpICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNiKGN1cnJlbnQpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiBjdXJyZW50LmNoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YWNrLnB1c2goY2hpbGQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbk9jdHJlZUdlb21ldHJ5Tm9kZS5JRENvdW50ID0gMDtcbk9jdHJlZUdlb21ldHJ5Tm9kZS5JRENvdW50ID0gMDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/loading2/octree-geometry-node.ts\n");

/***/ }),

/***/ "./src/loading2/octree-geometry.ts":
/*!*****************************************!*\
  !*** ./src/loading2/octree-geometry.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OctreeGeometry: () => (/* binding */ OctreeGeometry)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"three\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(three__WEBPACK_IMPORTED_MODULE_0__);\n\nclass OctreeGeometry {\n    constructor(loader, boundingBox) {\n        this.loader = loader;\n        this.boundingBox = boundingBox;\n        this.maxNumNodesLoading = 3;\n        this.numNodesLoading = 0;\n        this.needsUpdate = true;\n        this.disposed = false;\n        this.pointAttributes = null;\n        this.spacing = 0;\n        this.url = null;\n        this.tightBoundingBox = this.boundingBox.clone();\n        this.boundingSphere = this.boundingBox.getBoundingSphere(new three__WEBPACK_IMPORTED_MODULE_0__.Sphere());\n        this.tightBoundingSphere = this.boundingSphere.clone();\n    }\n    dispose() {\n        this.root.traverse((node) => node.dispose());\n        this.disposed = true;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbG9hZGluZzIvb2N0cmVlLWdlb21ldHJ5LnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3BvdHJlZS8uL3NyYy9sb2FkaW5nMi9vY3RyZWUtZ2VvbWV0cnkudHM/MmE1NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTcGhlcmUgfSBmcm9tICd0aHJlZSc7XG5leHBvcnQgY2xhc3MgT2N0cmVlR2VvbWV0cnkge1xuICAgIGNvbnN0cnVjdG9yKGxvYWRlciwgYm91bmRpbmdCb3gpIHtcbiAgICAgICAgdGhpcy5sb2FkZXIgPSBsb2FkZXI7XG4gICAgICAgIHRoaXMuYm91bmRpbmdCb3ggPSBib3VuZGluZ0JveDtcbiAgICAgICAgdGhpcy5tYXhOdW1Ob2Rlc0xvYWRpbmcgPSAzO1xuICAgICAgICB0aGlzLm51bU5vZGVzTG9hZGluZyA9IDA7XG4gICAgICAgIHRoaXMubmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgICAgICB0aGlzLmRpc3Bvc2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMucG9pbnRBdHRyaWJ1dGVzID0gbnVsbDtcbiAgICAgICAgdGhpcy5zcGFjaW5nID0gMDtcbiAgICAgICAgdGhpcy51cmwgPSBudWxsO1xuICAgICAgICB0aGlzLnRpZ2h0Qm91bmRpbmdCb3ggPSB0aGlzLmJvdW5kaW5nQm94LmNsb25lKCk7XG4gICAgICAgIHRoaXMuYm91bmRpbmdTcGhlcmUgPSB0aGlzLmJvdW5kaW5nQm94LmdldEJvdW5kaW5nU3BoZXJlKG5ldyBTcGhlcmUoKSk7XG4gICAgICAgIHRoaXMudGlnaHRCb3VuZGluZ1NwaGVyZSA9IHRoaXMuYm91bmRpbmdTcGhlcmUuY2xvbmUoKTtcbiAgICB9XG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgdGhpcy5yb290LnRyYXZlcnNlKChub2RlKSA9PiBub2RlLmRpc3Bvc2UoKSk7XG4gICAgICAgIHRoaXMuZGlzcG9zZWQgPSB0cnVlO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/loading2/octree-geometry.ts\n");

/***/ }),

/***/ "./src/loading2/octree-loader.ts":
/*!***************************************!*\
  !*** ./src/loading2/octree-loader.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GLTF_COLORS_FILE: () => (/* binding */ GLTF_COLORS_FILE),\n/* harmony export */   GLTF_POSITIONS_FILE: () => (/* binding */ GLTF_POSITIONS_FILE),\n/* harmony export */   HIERARCHY_FILE: () => (/* binding */ HIERARCHY_FILE),\n/* harmony export */   NodeLoader: () => (/* binding */ NodeLoader),\n/* harmony export */   OCTREE_FILE: () => (/* binding */ OCTREE_FILE),\n/* harmony export */   OctreeLoader: () => (/* binding */ OctreeLoader)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"three\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(three__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _octree_geometry__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./octree-geometry */ \"./src/loading2/octree-geometry.ts\");\n/* harmony import */ var _octree_geometry_node__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./octree-geometry-node */ \"./src/loading2/octree-geometry-node.ts\");\n/* harmony import */ var _point_attributes__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./point-attributes */ \"./src/loading2/point-attributes.ts\");\n/* harmony import */ var _worker_pool__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./worker-pool */ \"./src/loading2/worker-pool.ts\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./utils */ \"./src/loading2/utils.ts\");\n\n\n\n\n\n\n\n// Buffer files for DEFAULT encoding\nconst HIERARCHY_FILE = 'hierarchy.bin';\nconst OCTREE_FILE = 'octree.bin';\n// Default buffer files for GLTF encoding\nconst GLTF_COLORS_FILE = 'colors.glbin';\nconst GLTF_POSITIONS_FILE = 'positions.glbin';\nclass NodeLoader {\n    constructor(getUrl, url, workerPool, metadata) {\n        this.getUrl = getUrl;\n        this.url = url;\n        this.workerPool = workerPool;\n        this.metadata = metadata;\n        this.hierarchyPath = '';\n        this.octreePath = '';\n        this.gltfColorsPath = '';\n        this.gltfPositionsPath = '';\n    }\n    async load(node) {\n        if (node.loaded || node.loading) {\n            return;\n        }\n        node.loading = true;\n        node.octreeGeometry.numNodesLoading++;\n        try {\n            if (node.nodeType === 2) {\n                await this.loadHierarchy(node);\n            }\n            const { byteOffset, byteSize } = node;\n            if (byteOffset === undefined || byteSize === undefined) {\n                throw new Error('byteOffset and byteSize are required');\n            }\n            let buffer;\n            if (this.metadata.encoding === \"GLTF\") {\n                const urlColors = await this.getUrl(this.gltfColorsPath);\n                const urlPositions = await this.getUrl(this.gltfPositionsPath);\n                if (byteSize === BigInt(0)) {\n                    buffer = new ArrayBuffer(0);\n                    console.warn(`loaded node with 0 bytes: ${node.name}`);\n                }\n                else {\n                    const firstPositions = byteOffset * 4n * 3n;\n                    const lastPositions = byteOffset * 4n * 3n + byteSize * 4n * 3n - 1n;\n                    const headersPositions = { Range: `bytes=${firstPositions}-${lastPositions}` };\n                    const responsePositions = await fetch(urlPositions, { headers: headersPositions });\n                    const bufferPositions = await responsePositions.arrayBuffer();\n                    const firstColors = byteOffset * 4n;\n                    const lastColors = byteOffset * 4n + byteSize * 4n - 1n;\n                    const headersColors = { Range: `bytes=${firstColors}-${lastColors}` };\n                    const responseColors = await fetch(urlColors, { headers: headersColors });\n                    const bufferColors = await responseColors.arrayBuffer();\n                    buffer = appendBuffer(bufferPositions, bufferColors);\n                }\n            }\n            else {\n                const urlOctree = await this.getUrl(this.octreePath);\n                const first = byteOffset;\n                const last = byteOffset + byteSize - BigInt(1);\n                if (byteSize === BigInt(0)) {\n                    buffer = new ArrayBuffer(0);\n                    console.warn(`loaded node with 0 bytes: ${node.name}`);\n                }\n                else {\n                    const headers = { Range: `bytes=${first}-${last}` };\n                    const response = await fetch(urlOctree, { headers });\n                    buffer = await response.arrayBuffer();\n                }\n            }\n            const workerType = this.metadata.encoding === 'GLTF' ? _worker_pool__WEBPACK_IMPORTED_MODULE_4__.WorkerType.DECODER_WORKER_GLTF : _worker_pool__WEBPACK_IMPORTED_MODULE_4__.WorkerType.DECODER_WORKER;\n            const worker = this.workerPool.getWorker(workerType);\n            worker.onmessage = (e) => {\n                const data = e.data;\n                const buffers = data.attributeBuffers;\n                this.workerPool.returnWorker(workerType, worker);\n                const geometry = new three__WEBPACK_IMPORTED_MODULE_0__.BufferGeometry();\n                for (const property in buffers) {\n                    const buffer = buffers[property].buffer;\n                    if (property === 'position') {\n                        geometry.setAttribute('position', new three__WEBPACK_IMPORTED_MODULE_0__.BufferAttribute(new Float32Array(buffer), 3));\n                    }\n                    else if (property === 'rgba') {\n                        geometry.setAttribute('rgba', new three__WEBPACK_IMPORTED_MODULE_0__.BufferAttribute(new Uint8Array(buffer), 4, true));\n                    }\n                    else if (property === 'NORMAL') {\n                        geometry.setAttribute('normal', new three__WEBPACK_IMPORTED_MODULE_0__.BufferAttribute(new Float32Array(buffer), 3));\n                    }\n                    else if (property === 'INDICES') {\n                        const bufferAttribute = new three__WEBPACK_IMPORTED_MODULE_0__.BufferAttribute(new Uint8Array(buffer), 4);\n                        bufferAttribute.normalized = true;\n                        geometry.setAttribute('indices', bufferAttribute);\n                    }\n                    else {\n                        const bufferAttribute = new three__WEBPACK_IMPORTED_MODULE_0__.BufferAttribute(new Float32Array(buffer), 1);\n                        const batchAttribute = buffers[property].attribute;\n                        bufferAttribute.potree = {\n                            offset: buffers[property].offset,\n                            scale: buffers[property].scale,\n                            preciseBuffer: buffers[property].preciseBuffer,\n                            range: batchAttribute.range\n                        };\n                        geometry.setAttribute(property, bufferAttribute);\n                    }\n                }\n                node.density = data.density;\n                node.geometry = geometry;\n                node.loaded = true;\n                node.loading = false;\n                node.octreeGeometry.numNodesLoading--;\n                node.octreeGeometry.needsUpdate = true;\n                node.tightBoundingBox = this.getTightBoundingBox(data.tightBoundingBox);\n            };\n            const pointAttributes = node.octreeGeometry.pointAttributes;\n            const scale = node.octreeGeometry.scale;\n            const box = node.boundingBox;\n            const min = node.octreeGeometry.offset.clone().add(box.min);\n            const size = box.max.clone().sub(box.min);\n            const max = min.clone().add(size);\n            const numPoints = node.numPoints;\n            const offset = node.octreeGeometry.loader.offset;\n            const message = {\n                name: node.name,\n                buffer: buffer,\n                pointAttributes: pointAttributes,\n                scale: scale,\n                min: min,\n                max: max,\n                size: size,\n                offset: offset,\n                numPoints: numPoints\n            };\n            worker.postMessage(message, [message.buffer]);\n        }\n        catch (e) {\n            node.loaded = false;\n            node.loading = false;\n            node.octreeGeometry.numNodesLoading--;\n        }\n    }\n    parseHierarchy(node, buffer) {\n        const view = new DataView(buffer);\n        const bytesPerNode = 22;\n        const numNodes = buffer.byteLength / bytesPerNode;\n        const octree = node.octreeGeometry;\n        const nodes = new Array(numNodes);\n        nodes[0] = node;\n        let nodePos = 1;\n        for (let i = 0; i < numNodes; i++) {\n            const current = nodes[i];\n            const type = view.getUint8(i * bytesPerNode + 0);\n            const childMask = view.getUint8(i * bytesPerNode + 1);\n            const numPoints = view.getUint32(i * bytesPerNode + 2, true);\n            const byteOffset = view.getBigInt64(i * bytesPerNode + 6, true);\n            const byteSize = view.getBigInt64(i * bytesPerNode + 14, true);\n            if (current.nodeType === 2) {\n                // replace proxy with real node\n                current.byteOffset = byteOffset;\n                current.byteSize = byteSize;\n                current.numPoints = numPoints;\n            }\n            else if (type === 2) {\n                // load proxy\n                current.hierarchyByteOffset = byteOffset;\n                current.hierarchyByteSize = byteSize;\n                current.numPoints = numPoints;\n            }\n            else {\n                // load real node\n                current.byteOffset = byteOffset;\n                current.byteSize = byteSize;\n                current.numPoints = numPoints;\n            }\n            current.nodeType = type;\n            if (current.nodeType === 2) {\n                continue;\n            }\n            for (let childIndex = 0; childIndex < 8; childIndex++) {\n                const childExists = (1 << childIndex & childMask) !== 0;\n                if (!childExists) {\n                    continue;\n                }\n                const childName = current.name + childIndex;\n                const childAABB = createChildAABB(current.boundingBox, childIndex);\n                const child = new _octree_geometry_node__WEBPACK_IMPORTED_MODULE_2__.OctreeGeometryNode(childName, octree, childAABB);\n                child.name = childName;\n                child.spacing = current.spacing / 2;\n                child.level = current.level + 1;\n                current.children[childIndex] = child;\n                child.parent = current;\n                nodes[nodePos] = child;\n                nodePos++;\n            }\n        }\n    }\n    async loadHierarchy(node) {\n        const { hierarchyByteOffset, hierarchyByteSize } = node;\n        if (hierarchyByteOffset === undefined || hierarchyByteSize === undefined) {\n            throw new Error(`hierarchyByteOffset and hierarchyByteSize are undefined for node ${node.name}`);\n        }\n        const hierarchyUrl = await this.getUrl(this.hierarchyPath);\n        const first = hierarchyByteOffset;\n        const last = first + hierarchyByteSize - BigInt(1);\n        const headers = { Range: `bytes=${first}-${last}` };\n        const response = await fetch(hierarchyUrl, { headers });\n        const buffer = await response.arrayBuffer();\n        this.parseHierarchy(node, buffer);\n    }\n    getTightBoundingBox({ min, max }) {\n        const box = new three__WEBPACK_IMPORTED_MODULE_0__.Box3(new three__WEBPACK_IMPORTED_MODULE_0__.Vector3().fromArray(min), new three__WEBPACK_IMPORTED_MODULE_0__.Vector3().fromArray(max));\n        box.max.sub(box.min);\n        box.min.set(0, 0, 0);\n        return box;\n    }\n}\nconst tmpVec3 = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\nfunction createChildAABB(aabb, index) {\n    const min = aabb.min.clone();\n    const max = aabb.max.clone();\n    const size = tmpVec3.subVectors(max, min);\n    if ((index & 0b0001) > 0) {\n        min.z += size.z / 2;\n    }\n    else {\n        max.z -= size.z / 2;\n    }\n    if ((index & 0b0010) > 0) {\n        min.y += size.y / 2;\n    }\n    else {\n        max.y -= size.y / 2;\n    }\n    if ((index & 0b0100) > 0) {\n        min.x += size.x / 2;\n    }\n    else {\n        max.x -= size.x / 2;\n    }\n    return new three__WEBPACK_IMPORTED_MODULE_0__.Box3(min, max);\n}\nfunction appendBuffer(buffer1, buffer2) {\n    var tmp = new Uint8Array(buffer1.byteLength + buffer2.byteLength);\n    tmp.set(new Uint8Array(buffer1), 0);\n    tmp.set(new Uint8Array(buffer2), buffer1.byteLength);\n    return tmp.buffer;\n}\nconst typenameTypeattributeMap = {\n    double: _point_attributes__WEBPACK_IMPORTED_MODULE_3__.PointAttributeTypes.DATA_TYPE_DOUBLE,\n    float: _point_attributes__WEBPACK_IMPORTED_MODULE_3__.PointAttributeTypes.DATA_TYPE_FLOAT,\n    int8: _point_attributes__WEBPACK_IMPORTED_MODULE_3__.PointAttributeTypes.DATA_TYPE_INT8,\n    uint8: _point_attributes__WEBPACK_IMPORTED_MODULE_3__.PointAttributeTypes.DATA_TYPE_UINT8,\n    int16: _point_attributes__WEBPACK_IMPORTED_MODULE_3__.PointAttributeTypes.DATA_TYPE_INT16,\n    uint16: _point_attributes__WEBPACK_IMPORTED_MODULE_3__.PointAttributeTypes.DATA_TYPE_UINT16,\n    int32: _point_attributes__WEBPACK_IMPORTED_MODULE_3__.PointAttributeTypes.DATA_TYPE_INT32,\n    uint32: _point_attributes__WEBPACK_IMPORTED_MODULE_3__.PointAttributeTypes.DATA_TYPE_UINT32,\n    int64: _point_attributes__WEBPACK_IMPORTED_MODULE_3__.PointAttributeTypes.DATA_TYPE_INT64,\n    uint64: _point_attributes__WEBPACK_IMPORTED_MODULE_3__.PointAttributeTypes.DATA_TYPE_UINT64\n};\nclass OctreeLoader {\n    constructor(getUrl, url) {\n        this.workerPool = new _worker_pool__WEBPACK_IMPORTED_MODULE_4__.WorkerPool();\n        this.basePath = '';\n        this.hierarchyPath = '';\n        this.octreePath = '';\n        this.gltfColorsPath = '';\n        this.gltfPositionsPath = '';\n        this.getUrl = getUrl;\n        this.basePath = (0,_utils__WEBPACK_IMPORTED_MODULE_5__.extractBasePath)(url);\n        this.hierarchyPath = (0,_utils__WEBPACK_IMPORTED_MODULE_5__.buildUrl)(this.basePath, HIERARCHY_FILE);\n        this.octreePath = (0,_utils__WEBPACK_IMPORTED_MODULE_5__.buildUrl)(this.basePath, OCTREE_FILE);\n        // We default to the known naming convention for glTF datasets\n        this.gltfColorsPath = (0,_utils__WEBPACK_IMPORTED_MODULE_5__.buildUrl)(this.basePath, GLTF_COLORS_FILE);\n        this.gltfPositionsPath = (0,_utils__WEBPACK_IMPORTED_MODULE_5__.buildUrl)(this.basePath, GLTF_POSITIONS_FILE);\n    }\n    static parseAttributes(jsonAttributes) {\n        const attributes = new _point_attributes__WEBPACK_IMPORTED_MODULE_3__.PointAttributes();\n        const replacements = { rgb: 'rgba' };\n        for (const jsonAttribute of jsonAttributes) {\n            const { name, numElements, min, max, bufferView } = jsonAttribute;\n            const type = typenameTypeattributeMap[jsonAttribute.type];\n            const potreeAttributeName = replacements[name] ? replacements[name] : name;\n            const attribute = new _point_attributes__WEBPACK_IMPORTED_MODULE_3__.PointAttribute(potreeAttributeName, type, numElements);\n            if (bufferView) {\n                attribute.uri = bufferView.uri;\n            }\n            if (numElements === 1 && min && max) {\n                attribute.range = [min[0], max[0]];\n            }\n            else {\n                attribute.range = [min, max];\n            }\n            if (name === 'gps-time') { // HACK: Guard against bad gpsTime range in metadata, see potree/potree#909\n                if (typeof attribute.range[0] === 'number' && attribute.range[0] === attribute.range[1]) {\n                    attribute.range[1] += 1;\n                }\n            }\n            attribute.initialRange = attribute.range;\n            attributes.add(attribute);\n        }\n        {\n            const hasNormals = attributes.attributes.find((a) => a.name === 'NormalX') !== undefined &&\n                attributes.attributes.find((a) => a.name === 'NormalY') !== undefined &&\n                attributes.attributes.find((a) => a.name === 'NormalZ') !== undefined;\n            if (hasNormals) {\n                const vector = {\n                    name: 'NORMAL',\n                    attributes: ['NormalX', 'NormalY', 'NormalZ']\n                };\n                attributes.addVector(vector);\n            }\n        }\n        return attributes;\n    }\n    async load(url, xhrRequest) {\n        const metadata = await this.fetchMetadata(url, xhrRequest);\n        const attributes = OctreeLoader.parseAttributes(metadata.attributes);\n        this.applyCustomBufferURI(metadata.encoding, attributes);\n        const loader = this.createLoader(url, metadata, attributes);\n        const boundingBox = this.createBoundingBox(metadata);\n        const offset = this.getOffset(boundingBox);\n        const octree = this.initializeOctree(loader, url, metadata, boundingBox, offset, attributes);\n        const root = this.initializeRootNode(octree, boundingBox, metadata);\n        octree.root = root;\n        loader.load(root);\n        return { geometry: octree };\n    }\n    async fetchMetadata(url, xhrRequest) {\n        const response = await xhrRequest(url);\n        return response.json();\n    }\n    applyCustomBufferURI(encoding, attributes) {\n        // Only datasets with GLTF encoding support custom buffer URIs -\n        // as opposed to datasets with DEFAULT encoding coming from PotreeConverter\n        if (encoding === 'GLTF') {\n            this.gltfPositionsPath = attributes.getAttribute(\"position\")?.uri ?? this.gltfPositionsPath;\n            this.gltfColorsPath = attributes.getAttribute(\"rgba\")?.uri ?? this.gltfColorsPath;\n        }\n    }\n    createLoader(url, metadata, attributes) {\n        const loader = new NodeLoader(this.getUrl, url, this.workerPool, metadata);\n        loader.attributes = attributes;\n        loader.scale = metadata.scale;\n        loader.offset = metadata.offset;\n        loader.hierarchyPath = this.hierarchyPath;\n        loader.octreePath = this.octreePath;\n        loader.gltfColorsPath = this.gltfColorsPath;\n        loader.gltfPositionsPath = this.gltfPositionsPath;\n        return loader;\n    }\n    createBoundingBox(metadata) {\n        const min = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3(...metadata.boundingBox.min);\n        const max = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3(...metadata.boundingBox.max);\n        const boundingBox = new three__WEBPACK_IMPORTED_MODULE_0__.Box3(min, max);\n        return boundingBox;\n    }\n    getOffset(boundingBox) {\n        const offset = boundingBox.min.clone();\n        boundingBox.min.sub(offset);\n        boundingBox.max.sub(offset);\n        return offset;\n    }\n    initializeOctree(loader, url, metadata, boundingBox, offset, attributes) {\n        const octree = new _octree_geometry__WEBPACK_IMPORTED_MODULE_1__.OctreeGeometry(loader, boundingBox);\n        octree.url = url;\n        octree.spacing = metadata.spacing;\n        octree.scale = metadata.scale;\n        octree.projection = metadata.projection;\n        octree.boundingBox = boundingBox;\n        octree.boundingSphere = boundingBox.getBoundingSphere(new three__WEBPACK_IMPORTED_MODULE_0__.Sphere());\n        octree.tightBoundingSphere = boundingBox.getBoundingSphere(new three__WEBPACK_IMPORTED_MODULE_0__.Sphere());\n        octree.tightBoundingBox = this.getTightBoundingBox(metadata);\n        octree.offset = offset;\n        octree.pointAttributes = attributes;\n        return octree;\n    }\n    initializeRootNode(octree, boundingBox, metadata) {\n        const root = new _octree_geometry_node__WEBPACK_IMPORTED_MODULE_2__.OctreeGeometryNode('r', octree, boundingBox);\n        root.level = 0;\n        root.nodeType = 2;\n        root.hierarchyByteOffset = BigInt(0);\n        root.hierarchyByteSize = BigInt(metadata.hierarchy.firstChunkSize);\n        root.spacing = octree.spacing;\n        root.byteOffset = BigInt(0);\n        return root;\n    }\n    getTightBoundingBox(metadata) {\n        const positionAttribute = metadata.attributes.find((attr) => attr.name === 'position');\n        if (!positionAttribute || !positionAttribute.min || !positionAttribute.max) {\n            console.warn('Position attribute (min, max) not found. Falling back to boundingBox for tightBoundingBox');\n            return new three__WEBPACK_IMPORTED_MODULE_0__.Box3(new three__WEBPACK_IMPORTED_MODULE_0__.Vector3(...metadata.boundingBox.min), new three__WEBPACK_IMPORTED_MODULE_0__.Vector3(...metadata.boundingBox.max));\n        }\n        const offset = metadata.boundingBox.min;\n        const tightBoundingBox = new three__WEBPACK_IMPORTED_MODULE_0__.Box3(new three__WEBPACK_IMPORTED_MODULE_0__.Vector3(positionAttribute.min[0] - offset[0], positionAttribute.min[1] - offset[1], positionAttribute.min[2] - offset[2]), new three__WEBPACK_IMPORTED_MODULE_0__.Vector3(positionAttribute.max[0] - offset[0], positionAttribute.max[1] - offset[1], positionAttribute.max[2] - offset[2]));\n        return tightBoundingBox;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbG9hZGluZzIvb2N0cmVlLWxvYWRlci50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb3RyZWUvLi9zcmMvbG9hZGluZzIvb2N0cmVlLWxvYWRlci50cz9mNjkwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJ1ZmZlckF0dHJpYnV0ZSwgQnVmZmVyR2VvbWV0cnksIFZlY3RvcjMgfSBmcm9tICd0aHJlZSc7XG5pbXBvcnQgeyBCb3gzLCBTcGhlcmUgfSBmcm9tICd0aHJlZSc7XG5pbXBvcnQgeyBPY3RyZWVHZW9tZXRyeSB9IGZyb20gJy4vb2N0cmVlLWdlb21ldHJ5JztcbmltcG9ydCB7IE9jdHJlZUdlb21ldHJ5Tm9kZSB9IGZyb20gJy4vb2N0cmVlLWdlb21ldHJ5LW5vZGUnO1xuaW1wb3J0IHsgUG9pbnRBdHRyaWJ1dGUsIFBvaW50QXR0cmlidXRlcywgUG9pbnRBdHRyaWJ1dGVUeXBlcyB9IGZyb20gJy4vcG9pbnQtYXR0cmlidXRlcyc7XG5pbXBvcnQgeyBXb3JrZXJQb29sLCBXb3JrZXJUeXBlIH0gZnJvbSAnLi93b3JrZXItcG9vbCc7XG5pbXBvcnQgeyBidWlsZFVybCwgZXh0cmFjdEJhc2VQYXRoIH0gZnJvbSAnLi91dGlscyc7XG4vLyBCdWZmZXIgZmlsZXMgZm9yIERFRkFVTFQgZW5jb2RpbmdcbmV4cG9ydCBjb25zdCBISUVSQVJDSFlfRklMRSA9ICdoaWVyYXJjaHkuYmluJztcbmV4cG9ydCBjb25zdCBPQ1RSRUVfRklMRSA9ICdvY3RyZWUuYmluJztcbi8vIERlZmF1bHQgYnVmZmVyIGZpbGVzIGZvciBHTFRGIGVuY29kaW5nXG5leHBvcnQgY29uc3QgR0xURl9DT0xPUlNfRklMRSA9ICdjb2xvcnMuZ2xiaW4nO1xuZXhwb3J0IGNvbnN0IEdMVEZfUE9TSVRJT05TX0ZJTEUgPSAncG9zaXRpb25zLmdsYmluJztcbmV4cG9ydCBjbGFzcyBOb2RlTG9hZGVyIHtcbiAgICBjb25zdHJ1Y3RvcihnZXRVcmwsIHVybCwgd29ya2VyUG9vbCwgbWV0YWRhdGEpIHtcbiAgICAgICAgdGhpcy5nZXRVcmwgPSBnZXRVcmw7XG4gICAgICAgIHRoaXMudXJsID0gdXJsO1xuICAgICAgICB0aGlzLndvcmtlclBvb2wgPSB3b3JrZXJQb29sO1xuICAgICAgICB0aGlzLm1ldGFkYXRhID0gbWV0YWRhdGE7XG4gICAgICAgIHRoaXMuaGllcmFyY2h5UGF0aCA9ICcnO1xuICAgICAgICB0aGlzLm9jdHJlZVBhdGggPSAnJztcbiAgICAgICAgdGhpcy5nbHRmQ29sb3JzUGF0aCA9ICcnO1xuICAgICAgICB0aGlzLmdsdGZQb3NpdGlvbnNQYXRoID0gJyc7XG4gICAgfVxuICAgIGFzeW5jIGxvYWQobm9kZSkge1xuICAgICAgICBpZiAobm9kZS5sb2FkZWQgfHwgbm9kZS5sb2FkaW5nKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbm9kZS5sb2FkaW5nID0gdHJ1ZTtcbiAgICAgICAgbm9kZS5vY3RyZWVHZW9tZXRyeS5udW1Ob2Rlc0xvYWRpbmcrKztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSAyKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5sb2FkSGllcmFyY2h5KG5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgeyBieXRlT2Zmc2V0LCBieXRlU2l6ZSB9ID0gbm9kZTtcbiAgICAgICAgICAgIGlmIChieXRlT2Zmc2V0ID09PSB1bmRlZmluZWQgfHwgYnl0ZVNpemUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignYnl0ZU9mZnNldCBhbmQgYnl0ZVNpemUgYXJlIHJlcXVpcmVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgYnVmZmVyO1xuICAgICAgICAgICAgaWYgKHRoaXMubWV0YWRhdGEuZW5jb2RpbmcgPT09IFwiR0xURlwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdXJsQ29sb3JzID0gYXdhaXQgdGhpcy5nZXRVcmwodGhpcy5nbHRmQ29sb3JzUGF0aCk7XG4gICAgICAgICAgICAgICAgY29uc3QgdXJsUG9zaXRpb25zID0gYXdhaXQgdGhpcy5nZXRVcmwodGhpcy5nbHRmUG9zaXRpb25zUGF0aCk7XG4gICAgICAgICAgICAgICAgaWYgKGJ5dGVTaXplID09PSBCaWdJbnQoMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgYnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKDApO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYGxvYWRlZCBub2RlIHdpdGggMCBieXRlczogJHtub2RlLm5hbWV9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmaXJzdFBvc2l0aW9ucyA9IGJ5dGVPZmZzZXQgKiA0biAqIDNuO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXN0UG9zaXRpb25zID0gYnl0ZU9mZnNldCAqIDRuICogM24gKyBieXRlU2l6ZSAqIDRuICogM24gLSAxbjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaGVhZGVyc1Bvc2l0aW9ucyA9IHsgUmFuZ2U6IGBieXRlcz0ke2ZpcnN0UG9zaXRpb25zfS0ke2xhc3RQb3NpdGlvbnN9YCB9O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZVBvc2l0aW9ucyA9IGF3YWl0IGZldGNoKHVybFBvc2l0aW9ucywgeyBoZWFkZXJzOiBoZWFkZXJzUG9zaXRpb25zIH0pO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBidWZmZXJQb3NpdGlvbnMgPSBhd2FpdCByZXNwb25zZVBvc2l0aW9ucy5hcnJheUJ1ZmZlcigpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmaXJzdENvbG9ycyA9IGJ5dGVPZmZzZXQgKiA0bjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFzdENvbG9ycyA9IGJ5dGVPZmZzZXQgKiA0biArIGJ5dGVTaXplICogNG4gLSAxbjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaGVhZGVyc0NvbG9ycyA9IHsgUmFuZ2U6IGBieXRlcz0ke2ZpcnN0Q29sb3JzfS0ke2xhc3RDb2xvcnN9YCB9O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZUNvbG9ycyA9IGF3YWl0IGZldGNoKHVybENvbG9ycywgeyBoZWFkZXJzOiBoZWFkZXJzQ29sb3JzIH0pO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBidWZmZXJDb2xvcnMgPSBhd2FpdCByZXNwb25zZUNvbG9ycy5hcnJheUJ1ZmZlcigpO1xuICAgICAgICAgICAgICAgICAgICBidWZmZXIgPSBhcHBlbmRCdWZmZXIoYnVmZmVyUG9zaXRpb25zLCBidWZmZXJDb2xvcnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVybE9jdHJlZSA9IGF3YWl0IHRoaXMuZ2V0VXJsKHRoaXMub2N0cmVlUGF0aCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZmlyc3QgPSBieXRlT2Zmc2V0O1xuICAgICAgICAgICAgICAgIGNvbnN0IGxhc3QgPSBieXRlT2Zmc2V0ICsgYnl0ZVNpemUgLSBCaWdJbnQoMSk7XG4gICAgICAgICAgICAgICAgaWYgKGJ5dGVTaXplID09PSBCaWdJbnQoMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgYnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKDApO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYGxvYWRlZCBub2RlIHdpdGggMCBieXRlczogJHtub2RlLm5hbWV9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBoZWFkZXJzID0geyBSYW5nZTogYGJ5dGVzPSR7Zmlyc3R9LSR7bGFzdH1gIH07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsT2N0cmVlLCB7IGhlYWRlcnMgfSk7XG4gICAgICAgICAgICAgICAgICAgIGJ1ZmZlciA9IGF3YWl0IHJlc3BvbnNlLmFycmF5QnVmZmVyKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgd29ya2VyVHlwZSA9IHRoaXMubWV0YWRhdGEuZW5jb2RpbmcgPT09ICdHTFRGJyA/IFdvcmtlclR5cGUuREVDT0RFUl9XT1JLRVJfR0xURiA6IFdvcmtlclR5cGUuREVDT0RFUl9XT1JLRVI7XG4gICAgICAgICAgICBjb25zdCB3b3JrZXIgPSB0aGlzLndvcmtlclBvb2wuZ2V0V29ya2VyKHdvcmtlclR5cGUpO1xuICAgICAgICAgICAgd29ya2VyLm9ubWVzc2FnZSA9IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IGUuZGF0YTtcbiAgICAgICAgICAgICAgICBjb25zdCBidWZmZXJzID0gZGF0YS5hdHRyaWJ1dGVCdWZmZXJzO1xuICAgICAgICAgICAgICAgIHRoaXMud29ya2VyUG9vbC5yZXR1cm5Xb3JrZXIod29ya2VyVHlwZSwgd29ya2VyKTtcbiAgICAgICAgICAgICAgICBjb25zdCBnZW9tZXRyeSA9IG5ldyBCdWZmZXJHZW9tZXRyeSgpO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcHJvcGVydHkgaW4gYnVmZmVycykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBidWZmZXIgPSBidWZmZXJzW3Byb3BlcnR5XS5idWZmZXI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0eSA9PT0gJ3Bvc2l0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2VvbWV0cnkuc2V0QXR0cmlidXRlKCdwb3NpdGlvbicsIG5ldyBCdWZmZXJBdHRyaWJ1dGUobmV3IEZsb2F0MzJBcnJheShidWZmZXIpLCAzKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocHJvcGVydHkgPT09ICdyZ2JhJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2VvbWV0cnkuc2V0QXR0cmlidXRlKCdyZ2JhJywgbmV3IEJ1ZmZlckF0dHJpYnV0ZShuZXcgVWludDhBcnJheShidWZmZXIpLCA0LCB0cnVlKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocHJvcGVydHkgPT09ICdOT1JNQUwnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBnZW9tZXRyeS5zZXRBdHRyaWJ1dGUoJ25vcm1hbCcsIG5ldyBCdWZmZXJBdHRyaWJ1dGUobmV3IEZsb2F0MzJBcnJheShidWZmZXIpLCAzKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocHJvcGVydHkgPT09ICdJTkRJQ0VTJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYnVmZmVyQXR0cmlidXRlID0gbmV3IEJ1ZmZlckF0dHJpYnV0ZShuZXcgVWludDhBcnJheShidWZmZXIpLCA0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1ZmZlckF0dHJpYnV0ZS5ub3JtYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdlb21ldHJ5LnNldEF0dHJpYnV0ZSgnaW5kaWNlcycsIGJ1ZmZlckF0dHJpYnV0ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBidWZmZXJBdHRyaWJ1dGUgPSBuZXcgQnVmZmVyQXR0cmlidXRlKG5ldyBGbG9hdDMyQXJyYXkoYnVmZmVyKSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBiYXRjaEF0dHJpYnV0ZSA9IGJ1ZmZlcnNbcHJvcGVydHldLmF0dHJpYnV0ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1ZmZlckF0dHJpYnV0ZS5wb3RyZWUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiBidWZmZXJzW3Byb3BlcnR5XS5vZmZzZXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NhbGU6IGJ1ZmZlcnNbcHJvcGVydHldLnNjYWxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZWNpc2VCdWZmZXI6IGJ1ZmZlcnNbcHJvcGVydHldLnByZWNpc2VCdWZmZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2U6IGJhdGNoQXR0cmlidXRlLnJhbmdlXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2VvbWV0cnkuc2V0QXR0cmlidXRlKHByb3BlcnR5LCBidWZmZXJBdHRyaWJ1dGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG5vZGUuZGVuc2l0eSA9IGRhdGEuZGVuc2l0eTtcbiAgICAgICAgICAgICAgICBub2RlLmdlb21ldHJ5ID0gZ2VvbWV0cnk7XG4gICAgICAgICAgICAgICAgbm9kZS5sb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIG5vZGUubG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIG5vZGUub2N0cmVlR2VvbWV0cnkubnVtTm9kZXNMb2FkaW5nLS07XG4gICAgICAgICAgICAgICAgbm9kZS5vY3RyZWVHZW9tZXRyeS5uZWVkc1VwZGF0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgbm9kZS50aWdodEJvdW5kaW5nQm94ID0gdGhpcy5nZXRUaWdodEJvdW5kaW5nQm94KGRhdGEudGlnaHRCb3VuZGluZ0JveCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcG9pbnRBdHRyaWJ1dGVzID0gbm9kZS5vY3RyZWVHZW9tZXRyeS5wb2ludEF0dHJpYnV0ZXM7XG4gICAgICAgICAgICBjb25zdCBzY2FsZSA9IG5vZGUub2N0cmVlR2VvbWV0cnkuc2NhbGU7XG4gICAgICAgICAgICBjb25zdCBib3ggPSBub2RlLmJvdW5kaW5nQm94O1xuICAgICAgICAgICAgY29uc3QgbWluID0gbm9kZS5vY3RyZWVHZW9tZXRyeS5vZmZzZXQuY2xvbmUoKS5hZGQoYm94Lm1pbik7XG4gICAgICAgICAgICBjb25zdCBzaXplID0gYm94Lm1heC5jbG9uZSgpLnN1Yihib3gubWluKTtcbiAgICAgICAgICAgIGNvbnN0IG1heCA9IG1pbi5jbG9uZSgpLmFkZChzaXplKTtcbiAgICAgICAgICAgIGNvbnN0IG51bVBvaW50cyA9IG5vZGUubnVtUG9pbnRzO1xuICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gbm9kZS5vY3RyZWVHZW9tZXRyeS5sb2FkZXIub2Zmc2V0O1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IHtcbiAgICAgICAgICAgICAgICBuYW1lOiBub2RlLm5hbWUsXG4gICAgICAgICAgICAgICAgYnVmZmVyOiBidWZmZXIsXG4gICAgICAgICAgICAgICAgcG9pbnRBdHRyaWJ1dGVzOiBwb2ludEF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgc2NhbGU6IHNjYWxlLFxuICAgICAgICAgICAgICAgIG1pbjogbWluLFxuICAgICAgICAgICAgICAgIG1heDogbWF4LFxuICAgICAgICAgICAgICAgIHNpemU6IHNpemUsXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiBvZmZzZXQsXG4gICAgICAgICAgICAgICAgbnVtUG9pbnRzOiBudW1Qb2ludHNcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB3b3JrZXIucG9zdE1lc3NhZ2UobWVzc2FnZSwgW21lc3NhZ2UuYnVmZmVyXSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIG5vZGUubG9hZGVkID0gZmFsc2U7XG4gICAgICAgICAgICBub2RlLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIG5vZGUub2N0cmVlR2VvbWV0cnkubnVtTm9kZXNMb2FkaW5nLS07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcGFyc2VIaWVyYXJjaHkobm9kZSwgYnVmZmVyKSB7XG4gICAgICAgIGNvbnN0IHZpZXcgPSBuZXcgRGF0YVZpZXcoYnVmZmVyKTtcbiAgICAgICAgY29uc3QgYnl0ZXNQZXJOb2RlID0gMjI7XG4gICAgICAgIGNvbnN0IG51bU5vZGVzID0gYnVmZmVyLmJ5dGVMZW5ndGggLyBieXRlc1Blck5vZGU7XG4gICAgICAgIGNvbnN0IG9jdHJlZSA9IG5vZGUub2N0cmVlR2VvbWV0cnk7XG4gICAgICAgIGNvbnN0IG5vZGVzID0gbmV3IEFycmF5KG51bU5vZGVzKTtcbiAgICAgICAgbm9kZXNbMF0gPSBub2RlO1xuICAgICAgICBsZXQgbm9kZVBvcyA9IDE7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtTm9kZXM7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudCA9IG5vZGVzW2ldO1xuICAgICAgICAgICAgY29uc3QgdHlwZSA9IHZpZXcuZ2V0VWludDgoaSAqIGJ5dGVzUGVyTm9kZSArIDApO1xuICAgICAgICAgICAgY29uc3QgY2hpbGRNYXNrID0gdmlldy5nZXRVaW50OChpICogYnl0ZXNQZXJOb2RlICsgMSk7XG4gICAgICAgICAgICBjb25zdCBudW1Qb2ludHMgPSB2aWV3LmdldFVpbnQzMihpICogYnl0ZXNQZXJOb2RlICsgMiwgdHJ1ZSk7XG4gICAgICAgICAgICBjb25zdCBieXRlT2Zmc2V0ID0gdmlldy5nZXRCaWdJbnQ2NChpICogYnl0ZXNQZXJOb2RlICsgNiwgdHJ1ZSk7XG4gICAgICAgICAgICBjb25zdCBieXRlU2l6ZSA9IHZpZXcuZ2V0QmlnSW50NjQoaSAqIGJ5dGVzUGVyTm9kZSArIDE0LCB0cnVlKTtcbiAgICAgICAgICAgIGlmIChjdXJyZW50Lm5vZGVUeXBlID09PSAyKSB7XG4gICAgICAgICAgICAgICAgLy8gcmVwbGFjZSBwcm94eSB3aXRoIHJlYWwgbm9kZVxuICAgICAgICAgICAgICAgIGN1cnJlbnQuYnl0ZU9mZnNldCA9IGJ5dGVPZmZzZXQ7XG4gICAgICAgICAgICAgICAgY3VycmVudC5ieXRlU2l6ZSA9IGJ5dGVTaXplO1xuICAgICAgICAgICAgICAgIGN1cnJlbnQubnVtUG9pbnRzID0gbnVtUG9pbnRzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gMikge1xuICAgICAgICAgICAgICAgIC8vIGxvYWQgcHJveHlcbiAgICAgICAgICAgICAgICBjdXJyZW50LmhpZXJhcmNoeUJ5dGVPZmZzZXQgPSBieXRlT2Zmc2V0O1xuICAgICAgICAgICAgICAgIGN1cnJlbnQuaGllcmFyY2h5Qnl0ZVNpemUgPSBieXRlU2l6ZTtcbiAgICAgICAgICAgICAgICBjdXJyZW50Lm51bVBvaW50cyA9IG51bVBvaW50cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGxvYWQgcmVhbCBub2RlXG4gICAgICAgICAgICAgICAgY3VycmVudC5ieXRlT2Zmc2V0ID0gYnl0ZU9mZnNldDtcbiAgICAgICAgICAgICAgICBjdXJyZW50LmJ5dGVTaXplID0gYnl0ZVNpemU7XG4gICAgICAgICAgICAgICAgY3VycmVudC5udW1Qb2ludHMgPSBudW1Qb2ludHM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJyZW50Lm5vZGVUeXBlID0gdHlwZTtcbiAgICAgICAgICAgIGlmIChjdXJyZW50Lm5vZGVUeXBlID09PSAyKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCBjaGlsZEluZGV4ID0gMDsgY2hpbGRJbmRleCA8IDg7IGNoaWxkSW5kZXgrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkRXhpc3RzID0gKDEgPDwgY2hpbGRJbmRleCAmIGNoaWxkTWFzaykgIT09IDA7XG4gICAgICAgICAgICAgICAgaWYgKCFjaGlsZEV4aXN0cykge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgY2hpbGROYW1lID0gY3VycmVudC5uYW1lICsgY2hpbGRJbmRleDtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZEFBQkIgPSBjcmVhdGVDaGlsZEFBQkIoY3VycmVudC5ib3VuZGluZ0JveCwgY2hpbGRJbmRleCk7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hpbGQgPSBuZXcgT2N0cmVlR2VvbWV0cnlOb2RlKGNoaWxkTmFtZSwgb2N0cmVlLCBjaGlsZEFBQkIpO1xuICAgICAgICAgICAgICAgIGNoaWxkLm5hbWUgPSBjaGlsZE5hbWU7XG4gICAgICAgICAgICAgICAgY2hpbGQuc3BhY2luZyA9IGN1cnJlbnQuc3BhY2luZyAvIDI7XG4gICAgICAgICAgICAgICAgY2hpbGQubGV2ZWwgPSBjdXJyZW50LmxldmVsICsgMTtcbiAgICAgICAgICAgICAgICBjdXJyZW50LmNoaWxkcmVuW2NoaWxkSW5kZXhdID0gY2hpbGQ7XG4gICAgICAgICAgICAgICAgY2hpbGQucGFyZW50ID0gY3VycmVudDtcbiAgICAgICAgICAgICAgICBub2Rlc1tub2RlUG9zXSA9IGNoaWxkO1xuICAgICAgICAgICAgICAgIG5vZGVQb3MrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBsb2FkSGllcmFyY2h5KG5vZGUpIHtcbiAgICAgICAgY29uc3QgeyBoaWVyYXJjaHlCeXRlT2Zmc2V0LCBoaWVyYXJjaHlCeXRlU2l6ZSB9ID0gbm9kZTtcbiAgICAgICAgaWYgKGhpZXJhcmNoeUJ5dGVPZmZzZXQgPT09IHVuZGVmaW5lZCB8fCBoaWVyYXJjaHlCeXRlU2l6ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGhpZXJhcmNoeUJ5dGVPZmZzZXQgYW5kIGhpZXJhcmNoeUJ5dGVTaXplIGFyZSB1bmRlZmluZWQgZm9yIG5vZGUgJHtub2RlLm5hbWV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaGllcmFyY2h5VXJsID0gYXdhaXQgdGhpcy5nZXRVcmwodGhpcy5oaWVyYXJjaHlQYXRoKTtcbiAgICAgICAgY29uc3QgZmlyc3QgPSBoaWVyYXJjaHlCeXRlT2Zmc2V0O1xuICAgICAgICBjb25zdCBsYXN0ID0gZmlyc3QgKyBoaWVyYXJjaHlCeXRlU2l6ZSAtIEJpZ0ludCgxKTtcbiAgICAgICAgY29uc3QgaGVhZGVycyA9IHsgUmFuZ2U6IGBieXRlcz0ke2ZpcnN0fS0ke2xhc3R9YCB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGhpZXJhcmNoeVVybCwgeyBoZWFkZXJzIH0pO1xuICAgICAgICBjb25zdCBidWZmZXIgPSBhd2FpdCByZXNwb25zZS5hcnJheUJ1ZmZlcigpO1xuICAgICAgICB0aGlzLnBhcnNlSGllcmFyY2h5KG5vZGUsIGJ1ZmZlcik7XG4gICAgfVxuICAgIGdldFRpZ2h0Qm91bmRpbmdCb3goeyBtaW4sIG1heCB9KSB7XG4gICAgICAgIGNvbnN0IGJveCA9IG5ldyBCb3gzKG5ldyBWZWN0b3IzKCkuZnJvbUFycmF5KG1pbiksIG5ldyBWZWN0b3IzKCkuZnJvbUFycmF5KG1heCkpO1xuICAgICAgICBib3gubWF4LnN1Yihib3gubWluKTtcbiAgICAgICAgYm94Lm1pbi5zZXQoMCwgMCwgMCk7XG4gICAgICAgIHJldHVybiBib3g7XG4gICAgfVxufVxuY29uc3QgdG1wVmVjMyA9IG5ldyBWZWN0b3IzKCk7XG5mdW5jdGlvbiBjcmVhdGVDaGlsZEFBQkIoYWFiYiwgaW5kZXgpIHtcbiAgICBjb25zdCBtaW4gPSBhYWJiLm1pbi5jbG9uZSgpO1xuICAgIGNvbnN0IG1heCA9IGFhYmIubWF4LmNsb25lKCk7XG4gICAgY29uc3Qgc2l6ZSA9IHRtcFZlYzMuc3ViVmVjdG9ycyhtYXgsIG1pbik7XG4gICAgaWYgKChpbmRleCAmIDBiMDAwMSkgPiAwKSB7XG4gICAgICAgIG1pbi56ICs9IHNpemUueiAvIDI7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBtYXgueiAtPSBzaXplLnogLyAyO1xuICAgIH1cbiAgICBpZiAoKGluZGV4ICYgMGIwMDEwKSA+IDApIHtcbiAgICAgICAgbWluLnkgKz0gc2l6ZS55IC8gMjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIG1heC55IC09IHNpemUueSAvIDI7XG4gICAgfVxuICAgIGlmICgoaW5kZXggJiAwYjAxMDApID4gMCkge1xuICAgICAgICBtaW4ueCArPSBzaXplLnggLyAyO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbWF4LnggLT0gc2l6ZS54IC8gMjtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBCb3gzKG1pbiwgbWF4KTtcbn1cbmZ1bmN0aW9uIGFwcGVuZEJ1ZmZlcihidWZmZXIxLCBidWZmZXIyKSB7XG4gICAgdmFyIHRtcCA9IG5ldyBVaW50OEFycmF5KGJ1ZmZlcjEuYnl0ZUxlbmd0aCArIGJ1ZmZlcjIuYnl0ZUxlbmd0aCk7XG4gICAgdG1wLnNldChuZXcgVWludDhBcnJheShidWZmZXIxKSwgMCk7XG4gICAgdG1wLnNldChuZXcgVWludDhBcnJheShidWZmZXIyKSwgYnVmZmVyMS5ieXRlTGVuZ3RoKTtcbiAgICByZXR1cm4gdG1wLmJ1ZmZlcjtcbn1cbmNvbnN0IHR5cGVuYW1lVHlwZWF0dHJpYnV0ZU1hcCA9IHtcbiAgICBkb3VibGU6IFBvaW50QXR0cmlidXRlVHlwZXMuREFUQV9UWVBFX0RPVUJMRSxcbiAgICBmbG9hdDogUG9pbnRBdHRyaWJ1dGVUeXBlcy5EQVRBX1RZUEVfRkxPQVQsXG4gICAgaW50ODogUG9pbnRBdHRyaWJ1dGVUeXBlcy5EQVRBX1RZUEVfSU5UOCxcbiAgICB1aW50ODogUG9pbnRBdHRyaWJ1dGVUeXBlcy5EQVRBX1RZUEVfVUlOVDgsXG4gICAgaW50MTY6IFBvaW50QXR0cmlidXRlVHlwZXMuREFUQV9UWVBFX0lOVDE2LFxuICAgIHVpbnQxNjogUG9pbnRBdHRyaWJ1dGVUeXBlcy5EQVRBX1RZUEVfVUlOVDE2LFxuICAgIGludDMyOiBQb2ludEF0dHJpYnV0ZVR5cGVzLkRBVEFfVFlQRV9JTlQzMixcbiAgICB1aW50MzI6IFBvaW50QXR0cmlidXRlVHlwZXMuREFUQV9UWVBFX1VJTlQzMixcbiAgICBpbnQ2NDogUG9pbnRBdHRyaWJ1dGVUeXBlcy5EQVRBX1RZUEVfSU5UNjQsXG4gICAgdWludDY0OiBQb2ludEF0dHJpYnV0ZVR5cGVzLkRBVEFfVFlQRV9VSU5UNjRcbn07XG5leHBvcnQgY2xhc3MgT2N0cmVlTG9hZGVyIHtcbiAgICBjb25zdHJ1Y3RvcihnZXRVcmwsIHVybCkge1xuICAgICAgICB0aGlzLndvcmtlclBvb2wgPSBuZXcgV29ya2VyUG9vbCgpO1xuICAgICAgICB0aGlzLmJhc2VQYXRoID0gJyc7XG4gICAgICAgIHRoaXMuaGllcmFyY2h5UGF0aCA9ICcnO1xuICAgICAgICB0aGlzLm9jdHJlZVBhdGggPSAnJztcbiAgICAgICAgdGhpcy5nbHRmQ29sb3JzUGF0aCA9ICcnO1xuICAgICAgICB0aGlzLmdsdGZQb3NpdGlvbnNQYXRoID0gJyc7XG4gICAgICAgIHRoaXMuZ2V0VXJsID0gZ2V0VXJsO1xuICAgICAgICB0aGlzLmJhc2VQYXRoID0gZXh0cmFjdEJhc2VQYXRoKHVybCk7XG4gICAgICAgIHRoaXMuaGllcmFyY2h5UGF0aCA9IGJ1aWxkVXJsKHRoaXMuYmFzZVBhdGgsIEhJRVJBUkNIWV9GSUxFKTtcbiAgICAgICAgdGhpcy5vY3RyZWVQYXRoID0gYnVpbGRVcmwodGhpcy5iYXNlUGF0aCwgT0NUUkVFX0ZJTEUpO1xuICAgICAgICAvLyBXZSBkZWZhdWx0IHRvIHRoZSBrbm93biBuYW1pbmcgY29udmVudGlvbiBmb3IgZ2xURiBkYXRhc2V0c1xuICAgICAgICB0aGlzLmdsdGZDb2xvcnNQYXRoID0gYnVpbGRVcmwodGhpcy5iYXNlUGF0aCwgR0xURl9DT0xPUlNfRklMRSk7XG4gICAgICAgIHRoaXMuZ2x0ZlBvc2l0aW9uc1BhdGggPSBidWlsZFVybCh0aGlzLmJhc2VQYXRoLCBHTFRGX1BPU0lUSU9OU19GSUxFKTtcbiAgICB9XG4gICAgc3RhdGljIHBhcnNlQXR0cmlidXRlcyhqc29uQXR0cmlidXRlcykge1xuICAgICAgICBjb25zdCBhdHRyaWJ1dGVzID0gbmV3IFBvaW50QXR0cmlidXRlcygpO1xuICAgICAgICBjb25zdCByZXBsYWNlbWVudHMgPSB7IHJnYjogJ3JnYmEnIH07XG4gICAgICAgIGZvciAoY29uc3QganNvbkF0dHJpYnV0ZSBvZiBqc29uQXR0cmlidXRlcykge1xuICAgICAgICAgICAgY29uc3QgeyBuYW1lLCBudW1FbGVtZW50cywgbWluLCBtYXgsIGJ1ZmZlclZpZXcgfSA9IGpzb25BdHRyaWJ1dGU7XG4gICAgICAgICAgICBjb25zdCB0eXBlID0gdHlwZW5hbWVUeXBlYXR0cmlidXRlTWFwW2pzb25BdHRyaWJ1dGUudHlwZV07XG4gICAgICAgICAgICBjb25zdCBwb3RyZWVBdHRyaWJ1dGVOYW1lID0gcmVwbGFjZW1lbnRzW25hbWVdID8gcmVwbGFjZW1lbnRzW25hbWVdIDogbmFtZTtcbiAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZSA9IG5ldyBQb2ludEF0dHJpYnV0ZShwb3RyZWVBdHRyaWJ1dGVOYW1lLCB0eXBlLCBudW1FbGVtZW50cyk7XG4gICAgICAgICAgICBpZiAoYnVmZmVyVmlldykge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZS51cmkgPSBidWZmZXJWaWV3LnVyaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChudW1FbGVtZW50cyA9PT0gMSAmJiBtaW4gJiYgbWF4KSB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlLnJhbmdlID0gW21pblswXSwgbWF4WzBdXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZS5yYW5nZSA9IFttaW4sIG1heF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobmFtZSA9PT0gJ2dwcy10aW1lJykgeyAvLyBIQUNLOiBHdWFyZCBhZ2FpbnN0IGJhZCBncHNUaW1lIHJhbmdlIGluIG1ldGFkYXRhLCBzZWUgcG90cmVlL3BvdHJlZSM5MDlcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGF0dHJpYnV0ZS5yYW5nZVswXSA9PT0gJ251bWJlcicgJiYgYXR0cmlidXRlLnJhbmdlWzBdID09PSBhdHRyaWJ1dGUucmFuZ2VbMV0pIHtcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlLnJhbmdlWzFdICs9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXR0cmlidXRlLmluaXRpYWxSYW5nZSA9IGF0dHJpYnV0ZS5yYW5nZTtcbiAgICAgICAgICAgIGF0dHJpYnV0ZXMuYWRkKGF0dHJpYnV0ZSk7XG4gICAgICAgIH1cbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgaGFzTm9ybWFscyA9IGF0dHJpYnV0ZXMuYXR0cmlidXRlcy5maW5kKChhKSA9PiBhLm5hbWUgPT09ICdOb3JtYWxYJykgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMuYXR0cmlidXRlcy5maW5kKChhKSA9PiBhLm5hbWUgPT09ICdOb3JtYWxZJykgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMuYXR0cmlidXRlcy5maW5kKChhKSA9PiBhLm5hbWUgPT09ICdOb3JtYWxaJykgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmIChoYXNOb3JtYWxzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmVjdG9yID0ge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnTk9STUFMJyxcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlczogWydOb3JtYWxYJywgJ05vcm1hbFknLCAnTm9ybWFsWiddXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzLmFkZFZlY3Rvcih2ZWN0b3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhdHRyaWJ1dGVzO1xuICAgIH1cbiAgICBhc3luYyBsb2FkKHVybCwgeGhyUmVxdWVzdCkge1xuICAgICAgICBjb25zdCBtZXRhZGF0YSA9IGF3YWl0IHRoaXMuZmV0Y2hNZXRhZGF0YSh1cmwsIHhoclJlcXVlc3QpO1xuICAgICAgICBjb25zdCBhdHRyaWJ1dGVzID0gT2N0cmVlTG9hZGVyLnBhcnNlQXR0cmlidXRlcyhtZXRhZGF0YS5hdHRyaWJ1dGVzKTtcbiAgICAgICAgdGhpcy5hcHBseUN1c3RvbUJ1ZmZlclVSSShtZXRhZGF0YS5lbmNvZGluZywgYXR0cmlidXRlcyk7XG4gICAgICAgIGNvbnN0IGxvYWRlciA9IHRoaXMuY3JlYXRlTG9hZGVyKHVybCwgbWV0YWRhdGEsIGF0dHJpYnV0ZXMpO1xuICAgICAgICBjb25zdCBib3VuZGluZ0JveCA9IHRoaXMuY3JlYXRlQm91bmRpbmdCb3gobWV0YWRhdGEpO1xuICAgICAgICBjb25zdCBvZmZzZXQgPSB0aGlzLmdldE9mZnNldChib3VuZGluZ0JveCk7XG4gICAgICAgIGNvbnN0IG9jdHJlZSA9IHRoaXMuaW5pdGlhbGl6ZU9jdHJlZShsb2FkZXIsIHVybCwgbWV0YWRhdGEsIGJvdW5kaW5nQm94LCBvZmZzZXQsIGF0dHJpYnV0ZXMpO1xuICAgICAgICBjb25zdCByb290ID0gdGhpcy5pbml0aWFsaXplUm9vdE5vZGUob2N0cmVlLCBib3VuZGluZ0JveCwgbWV0YWRhdGEpO1xuICAgICAgICBvY3RyZWUucm9vdCA9IHJvb3Q7XG4gICAgICAgIGxvYWRlci5sb2FkKHJvb3QpO1xuICAgICAgICByZXR1cm4geyBnZW9tZXRyeTogb2N0cmVlIH07XG4gICAgfVxuICAgIGFzeW5jIGZldGNoTWV0YWRhdGEodXJsLCB4aHJSZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgeGhyUmVxdWVzdCh1cmwpO1xuICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgIH1cbiAgICBhcHBseUN1c3RvbUJ1ZmZlclVSSShlbmNvZGluZywgYXR0cmlidXRlcykge1xuICAgICAgICAvLyBPbmx5IGRhdGFzZXRzIHdpdGggR0xURiBlbmNvZGluZyBzdXBwb3J0IGN1c3RvbSBidWZmZXIgVVJJcyAtXG4gICAgICAgIC8vIGFzIG9wcG9zZWQgdG8gZGF0YXNldHMgd2l0aCBERUZBVUxUIGVuY29kaW5nIGNvbWluZyBmcm9tIFBvdHJlZUNvbnZlcnRlclxuICAgICAgICBpZiAoZW5jb2RpbmcgPT09ICdHTFRGJykge1xuICAgICAgICAgICAgdGhpcy5nbHRmUG9zaXRpb25zUGF0aCA9IGF0dHJpYnV0ZXMuZ2V0QXR0cmlidXRlKFwicG9zaXRpb25cIik/LnVyaSA/PyB0aGlzLmdsdGZQb3NpdGlvbnNQYXRoO1xuICAgICAgICAgICAgdGhpcy5nbHRmQ29sb3JzUGF0aCA9IGF0dHJpYnV0ZXMuZ2V0QXR0cmlidXRlKFwicmdiYVwiKT8udXJpID8/IHRoaXMuZ2x0ZkNvbG9yc1BhdGg7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY3JlYXRlTG9hZGVyKHVybCwgbWV0YWRhdGEsIGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgY29uc3QgbG9hZGVyID0gbmV3IE5vZGVMb2FkZXIodGhpcy5nZXRVcmwsIHVybCwgdGhpcy53b3JrZXJQb29sLCBtZXRhZGF0YSk7XG4gICAgICAgIGxvYWRlci5hdHRyaWJ1dGVzID0gYXR0cmlidXRlcztcbiAgICAgICAgbG9hZGVyLnNjYWxlID0gbWV0YWRhdGEuc2NhbGU7XG4gICAgICAgIGxvYWRlci5vZmZzZXQgPSBtZXRhZGF0YS5vZmZzZXQ7XG4gICAgICAgIGxvYWRlci5oaWVyYXJjaHlQYXRoID0gdGhpcy5oaWVyYXJjaHlQYXRoO1xuICAgICAgICBsb2FkZXIub2N0cmVlUGF0aCA9IHRoaXMub2N0cmVlUGF0aDtcbiAgICAgICAgbG9hZGVyLmdsdGZDb2xvcnNQYXRoID0gdGhpcy5nbHRmQ29sb3JzUGF0aDtcbiAgICAgICAgbG9hZGVyLmdsdGZQb3NpdGlvbnNQYXRoID0gdGhpcy5nbHRmUG9zaXRpb25zUGF0aDtcbiAgICAgICAgcmV0dXJuIGxvYWRlcjtcbiAgICB9XG4gICAgY3JlYXRlQm91bmRpbmdCb3gobWV0YWRhdGEpIHtcbiAgICAgICAgY29uc3QgbWluID0gbmV3IFZlY3RvcjMoLi4ubWV0YWRhdGEuYm91bmRpbmdCb3gubWluKTtcbiAgICAgICAgY29uc3QgbWF4ID0gbmV3IFZlY3RvcjMoLi4ubWV0YWRhdGEuYm91bmRpbmdCb3gubWF4KTtcbiAgICAgICAgY29uc3QgYm91bmRpbmdCb3ggPSBuZXcgQm94MyhtaW4sIG1heCk7XG4gICAgICAgIHJldHVybiBib3VuZGluZ0JveDtcbiAgICB9XG4gICAgZ2V0T2Zmc2V0KGJvdW5kaW5nQm94KSB7XG4gICAgICAgIGNvbnN0IG9mZnNldCA9IGJvdW5kaW5nQm94Lm1pbi5jbG9uZSgpO1xuICAgICAgICBib3VuZGluZ0JveC5taW4uc3ViKG9mZnNldCk7XG4gICAgICAgIGJvdW5kaW5nQm94Lm1heC5zdWIob2Zmc2V0KTtcbiAgICAgICAgcmV0dXJuIG9mZnNldDtcbiAgICB9XG4gICAgaW5pdGlhbGl6ZU9jdHJlZShsb2FkZXIsIHVybCwgbWV0YWRhdGEsIGJvdW5kaW5nQm94LCBvZmZzZXQsIGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgY29uc3Qgb2N0cmVlID0gbmV3IE9jdHJlZUdlb21ldHJ5KGxvYWRlciwgYm91bmRpbmdCb3gpO1xuICAgICAgICBvY3RyZWUudXJsID0gdXJsO1xuICAgICAgICBvY3RyZWUuc3BhY2luZyA9IG1ldGFkYXRhLnNwYWNpbmc7XG4gICAgICAgIG9jdHJlZS5zY2FsZSA9IG1ldGFkYXRhLnNjYWxlO1xuICAgICAgICBvY3RyZWUucHJvamVjdGlvbiA9IG1ldGFkYXRhLnByb2plY3Rpb247XG4gICAgICAgIG9jdHJlZS5ib3VuZGluZ0JveCA9IGJvdW5kaW5nQm94O1xuICAgICAgICBvY3RyZWUuYm91bmRpbmdTcGhlcmUgPSBib3VuZGluZ0JveC5nZXRCb3VuZGluZ1NwaGVyZShuZXcgU3BoZXJlKCkpO1xuICAgICAgICBvY3RyZWUudGlnaHRCb3VuZGluZ1NwaGVyZSA9IGJvdW5kaW5nQm94LmdldEJvdW5kaW5nU3BoZXJlKG5ldyBTcGhlcmUoKSk7XG4gICAgICAgIG9jdHJlZS50aWdodEJvdW5kaW5nQm94ID0gdGhpcy5nZXRUaWdodEJvdW5kaW5nQm94KG1ldGFkYXRhKTtcbiAgICAgICAgb2N0cmVlLm9mZnNldCA9IG9mZnNldDtcbiAgICAgICAgb2N0cmVlLnBvaW50QXR0cmlidXRlcyA9IGF0dHJpYnV0ZXM7XG4gICAgICAgIHJldHVybiBvY3RyZWU7XG4gICAgfVxuICAgIGluaXRpYWxpemVSb290Tm9kZShvY3RyZWUsIGJvdW5kaW5nQm94LCBtZXRhZGF0YSkge1xuICAgICAgICBjb25zdCByb290ID0gbmV3IE9jdHJlZUdlb21ldHJ5Tm9kZSgncicsIG9jdHJlZSwgYm91bmRpbmdCb3gpO1xuICAgICAgICByb290LmxldmVsID0gMDtcbiAgICAgICAgcm9vdC5ub2RlVHlwZSA9IDI7XG4gICAgICAgIHJvb3QuaGllcmFyY2h5Qnl0ZU9mZnNldCA9IEJpZ0ludCgwKTtcbiAgICAgICAgcm9vdC5oaWVyYXJjaHlCeXRlU2l6ZSA9IEJpZ0ludChtZXRhZGF0YS5oaWVyYXJjaHkuZmlyc3RDaHVua1NpemUpO1xuICAgICAgICByb290LnNwYWNpbmcgPSBvY3RyZWUuc3BhY2luZztcbiAgICAgICAgcm9vdC5ieXRlT2Zmc2V0ID0gQmlnSW50KDApO1xuICAgICAgICByZXR1cm4gcm9vdDtcbiAgICB9XG4gICAgZ2V0VGlnaHRCb3VuZGluZ0JveChtZXRhZGF0YSkge1xuICAgICAgICBjb25zdCBwb3NpdGlvbkF0dHJpYnV0ZSA9IG1ldGFkYXRhLmF0dHJpYnV0ZXMuZmluZCgoYXR0cikgPT4gYXR0ci5uYW1lID09PSAncG9zaXRpb24nKTtcbiAgICAgICAgaWYgKCFwb3NpdGlvbkF0dHJpYnV0ZSB8fCAhcG9zaXRpb25BdHRyaWJ1dGUubWluIHx8ICFwb3NpdGlvbkF0dHJpYnV0ZS5tYXgpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignUG9zaXRpb24gYXR0cmlidXRlIChtaW4sIG1heCkgbm90IGZvdW5kLiBGYWxsaW5nIGJhY2sgdG8gYm91bmRpbmdCb3ggZm9yIHRpZ2h0Qm91bmRpbmdCb3gnKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQm94MyhuZXcgVmVjdG9yMyguLi5tZXRhZGF0YS5ib3VuZGluZ0JveC5taW4pLCBuZXcgVmVjdG9yMyguLi5tZXRhZGF0YS5ib3VuZGluZ0JveC5tYXgpKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvZmZzZXQgPSBtZXRhZGF0YS5ib3VuZGluZ0JveC5taW47XG4gICAgICAgIGNvbnN0IHRpZ2h0Qm91bmRpbmdCb3ggPSBuZXcgQm94MyhuZXcgVmVjdG9yMyhwb3NpdGlvbkF0dHJpYnV0ZS5taW5bMF0gLSBvZmZzZXRbMF0sIHBvc2l0aW9uQXR0cmlidXRlLm1pblsxXSAtIG9mZnNldFsxXSwgcG9zaXRpb25BdHRyaWJ1dGUubWluWzJdIC0gb2Zmc2V0WzJdKSwgbmV3IFZlY3RvcjMocG9zaXRpb25BdHRyaWJ1dGUubWF4WzBdIC0gb2Zmc2V0WzBdLCBwb3NpdGlvbkF0dHJpYnV0ZS5tYXhbMV0gLSBvZmZzZXRbMV0sIHBvc2l0aW9uQXR0cmlidXRlLm1heFsyXSAtIG9mZnNldFsyXSkpO1xuICAgICAgICByZXR1cm4gdGlnaHRCb3VuZGluZ0JveDtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/loading2/octree-loader.ts\n");

/***/ }),

/***/ "./src/loading2/point-attributes.ts":
/*!******************************************!*\
  !*** ./src/loading2/point-attributes.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POINT_ATTRIBUTES: () => (/* binding */ POINT_ATTRIBUTES),\n/* harmony export */   PointAttribute: () => (/* binding */ PointAttribute),\n/* harmony export */   PointAttributeTypes: () => (/* binding */ PointAttributeTypes),\n/* harmony export */   PointAttributes: () => (/* binding */ PointAttributes)\n/* harmony export */ });\n/**\n * Some types of possible point attribute data formats\n *\n * @class\n */\nconst PointAttributeTypes = {\n    DATA_TYPE_DOUBLE: { ordinal: 0, name: 'double', size: 8 },\n    DATA_TYPE_FLOAT: { ordinal: 1, name: 'float', size: 4 },\n    DATA_TYPE_INT8: { ordinal: 2, name: 'int8', size: 1 },\n    DATA_TYPE_UINT8: { ordinal: 3, name: 'uint8', size: 1 },\n    DATA_TYPE_INT16: { ordinal: 4, name: 'int16', size: 2 },\n    DATA_TYPE_UINT16: { ordinal: 5, name: 'uint16', size: 2 },\n    DATA_TYPE_INT32: { ordinal: 6, name: 'int32', size: 4 },\n    DATA_TYPE_UINT32: { ordinal: 7, name: 'uint32', size: 4 },\n    DATA_TYPE_INT64: { ordinal: 8, name: 'int64', size: 8 },\n    DATA_TYPE_UINT64: { ordinal: 9, name: 'uint64', size: 8 }\n};\nlet i = 0;\nfor (const obj in PointAttributeTypes) {\n    PointAttributeTypes[i] = PointAttributeTypes[obj];\n    i++;\n}\n\nclass PointAttribute {\n    constructor(name, type, numElements, range = [Infinity, -Infinity], uri = undefined) {\n        this.name = name;\n        this.type = type;\n        this.numElements = numElements;\n        this.range = range;\n        this.uri = uri;\n        this.byteSize = this.numElements * this.type.size;\n        this.description = '';\n    }\n}\n\nconst POINT_ATTRIBUTES = {\n    POSITION_CARTESIAN: new PointAttribute('POSITION_CARTESIAN', PointAttributeTypes.DATA_TYPE_FLOAT, 3),\n    RGBA_PACKED: new PointAttribute('COLOR_PACKED', PointAttributeTypes.DATA_TYPE_INT8, 4),\n    COLOR_PACKED: new PointAttribute('COLOR_PACKED', PointAttributeTypes.DATA_TYPE_INT8, 4),\n    RGB_PACKED: new PointAttribute('COLOR_PACKED', PointAttributeTypes.DATA_TYPE_INT8, 3),\n    NORMAL_FLOATS: new PointAttribute('NORMAL_FLOATS', PointAttributeTypes.DATA_TYPE_FLOAT, 3),\n    INTENSITY: new PointAttribute('INTENSITY', PointAttributeTypes.DATA_TYPE_UINT16, 1),\n    CLASSIFICATION: new PointAttribute('CLASSIFICATION', PointAttributeTypes.DATA_TYPE_UINT8, 1),\n    NORMAL_SPHEREMAPPED: new PointAttribute('NORMAL_SPHEREMAPPED', PointAttributeTypes.DATA_TYPE_UINT8, 2),\n    NORMAL_OCT16: new PointAttribute('NORMAL_OCT16', PointAttributeTypes.DATA_TYPE_UINT8, 2),\n    NORMAL: new PointAttribute('NORMAL', PointAttributeTypes.DATA_TYPE_FLOAT, 3),\n    RETURN_NUMBER: new PointAttribute('RETURN_NUMBER', PointAttributeTypes.DATA_TYPE_UINT8, 1),\n    NUMBER_OF_RETURNS: new PointAttribute('NUMBER_OF_RETURNS', PointAttributeTypes.DATA_TYPE_UINT8, 1),\n    SOURCE_ID: new PointAttribute('SOURCE_ID', PointAttributeTypes.DATA_TYPE_UINT16, 1),\n    INDICES: new PointAttribute('INDICES', PointAttributeTypes.DATA_TYPE_UINT32, 1),\n    SPACING: new PointAttribute('SPACING', PointAttributeTypes.DATA_TYPE_FLOAT, 1),\n    GPS_TIME: new PointAttribute('GPS_TIME', PointAttributeTypes.DATA_TYPE_DOUBLE, 1)\n};\nclass PointAttributes {\n    constructor(pointAttributes, attributes = [], byteSize = 0, size = 0, vectors = []) {\n        this.attributes = attributes;\n        this.byteSize = byteSize;\n        this.size = size;\n        this.vectors = vectors;\n        if (pointAttributes != null) {\n            for (let i = 0; i < pointAttributes.length; i++) {\n                const pointAttributeName = pointAttributes[i];\n                const pointAttribute = POINT_ATTRIBUTES[pointAttributeName];\n                this.attributes.push(pointAttribute);\n                this.byteSize += pointAttribute.byteSize;\n                this.size++;\n            }\n        }\n    }\n    add(pointAttribute) {\n        this.attributes.push(pointAttribute);\n        this.byteSize += pointAttribute.byteSize;\n        this.size++;\n    }\n    addVector(vector) {\n        this.vectors.push(vector);\n    }\n    hasNormals() {\n        for (const name in this.attributes) {\n            const pointAttribute = this.attributes[name];\n            if (pointAttribute === POINT_ATTRIBUTES.NORMAL_SPHEREMAPPED ||\n                pointAttribute === POINT_ATTRIBUTES.NORMAL_FLOATS ||\n                pointAttribute === POINT_ATTRIBUTES.NORMAL ||\n                pointAttribute === POINT_ATTRIBUTES.NORMAL_OCT16) {\n                return true;\n            }\n        }\n        return false;\n    }\n    getAttribute(attributeName) {\n        return this.attributes.find(attr => attr.name === attributeName);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbG9hZGluZzIvcG9pbnQtYXR0cmlidXRlcy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcG90cmVlLy4vc3JjL2xvYWRpbmcyL3BvaW50LWF0dHJpYnV0ZXMudHM/ZGNlMCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFNvbWUgdHlwZXMgb2YgcG9zc2libGUgcG9pbnQgYXR0cmlidXRlIGRhdGEgZm9ybWF0c1xuICpcbiAqIEBjbGFzc1xuICovXG5jb25zdCBQb2ludEF0dHJpYnV0ZVR5cGVzID0ge1xuICAgIERBVEFfVFlQRV9ET1VCTEU6IHsgb3JkaW5hbDogMCwgbmFtZTogJ2RvdWJsZScsIHNpemU6IDggfSxcbiAgICBEQVRBX1RZUEVfRkxPQVQ6IHsgb3JkaW5hbDogMSwgbmFtZTogJ2Zsb2F0Jywgc2l6ZTogNCB9LFxuICAgIERBVEFfVFlQRV9JTlQ4OiB7IG9yZGluYWw6IDIsIG5hbWU6ICdpbnQ4Jywgc2l6ZTogMSB9LFxuICAgIERBVEFfVFlQRV9VSU5UODogeyBvcmRpbmFsOiAzLCBuYW1lOiAndWludDgnLCBzaXplOiAxIH0sXG4gICAgREFUQV9UWVBFX0lOVDE2OiB7IG9yZGluYWw6IDQsIG5hbWU6ICdpbnQxNicsIHNpemU6IDIgfSxcbiAgICBEQVRBX1RZUEVfVUlOVDE2OiB7IG9yZGluYWw6IDUsIG5hbWU6ICd1aW50MTYnLCBzaXplOiAyIH0sXG4gICAgREFUQV9UWVBFX0lOVDMyOiB7IG9yZGluYWw6IDYsIG5hbWU6ICdpbnQzMicsIHNpemU6IDQgfSxcbiAgICBEQVRBX1RZUEVfVUlOVDMyOiB7IG9yZGluYWw6IDcsIG5hbWU6ICd1aW50MzInLCBzaXplOiA0IH0sXG4gICAgREFUQV9UWVBFX0lOVDY0OiB7IG9yZGluYWw6IDgsIG5hbWU6ICdpbnQ2NCcsIHNpemU6IDggfSxcbiAgICBEQVRBX1RZUEVfVUlOVDY0OiB7IG9yZGluYWw6IDksIG5hbWU6ICd1aW50NjQnLCBzaXplOiA4IH1cbn07XG5sZXQgaSA9IDA7XG5mb3IgKGNvbnN0IG9iaiBpbiBQb2ludEF0dHJpYnV0ZVR5cGVzKSB7XG4gICAgUG9pbnRBdHRyaWJ1dGVUeXBlc1tpXSA9IFBvaW50QXR0cmlidXRlVHlwZXNbb2JqXTtcbiAgICBpKys7XG59XG5leHBvcnQgeyBQb2ludEF0dHJpYnV0ZVR5cGVzIH07XG5jbGFzcyBQb2ludEF0dHJpYnV0ZSB7XG4gICAgY29uc3RydWN0b3IobmFtZSwgdHlwZSwgbnVtRWxlbWVudHMsIHJhbmdlID0gW0luZmluaXR5LCAtSW5maW5pdHldLCB1cmkgPSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICAgICAgdGhpcy5udW1FbGVtZW50cyA9IG51bUVsZW1lbnRzO1xuICAgICAgICB0aGlzLnJhbmdlID0gcmFuZ2U7XG4gICAgICAgIHRoaXMudXJpID0gdXJpO1xuICAgICAgICB0aGlzLmJ5dGVTaXplID0gdGhpcy5udW1FbGVtZW50cyAqIHRoaXMudHlwZS5zaXplO1xuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gJyc7XG4gICAgfVxufVxuZXhwb3J0IHsgUG9pbnRBdHRyaWJ1dGUgfTtcbmV4cG9ydCBjb25zdCBQT0lOVF9BVFRSSUJVVEVTID0ge1xuICAgIFBPU0lUSU9OX0NBUlRFU0lBTjogbmV3IFBvaW50QXR0cmlidXRlKCdQT1NJVElPTl9DQVJURVNJQU4nLCBQb2ludEF0dHJpYnV0ZVR5cGVzLkRBVEFfVFlQRV9GTE9BVCwgMyksXG4gICAgUkdCQV9QQUNLRUQ6IG5ldyBQb2ludEF0dHJpYnV0ZSgnQ09MT1JfUEFDS0VEJywgUG9pbnRBdHRyaWJ1dGVUeXBlcy5EQVRBX1RZUEVfSU5UOCwgNCksXG4gICAgQ09MT1JfUEFDS0VEOiBuZXcgUG9pbnRBdHRyaWJ1dGUoJ0NPTE9SX1BBQ0tFRCcsIFBvaW50QXR0cmlidXRlVHlwZXMuREFUQV9UWVBFX0lOVDgsIDQpLFxuICAgIFJHQl9QQUNLRUQ6IG5ldyBQb2ludEF0dHJpYnV0ZSgnQ09MT1JfUEFDS0VEJywgUG9pbnRBdHRyaWJ1dGVUeXBlcy5EQVRBX1RZUEVfSU5UOCwgMyksXG4gICAgTk9STUFMX0ZMT0FUUzogbmV3IFBvaW50QXR0cmlidXRlKCdOT1JNQUxfRkxPQVRTJywgUG9pbnRBdHRyaWJ1dGVUeXBlcy5EQVRBX1RZUEVfRkxPQVQsIDMpLFxuICAgIElOVEVOU0lUWTogbmV3IFBvaW50QXR0cmlidXRlKCdJTlRFTlNJVFknLCBQb2ludEF0dHJpYnV0ZVR5cGVzLkRBVEFfVFlQRV9VSU5UMTYsIDEpLFxuICAgIENMQVNTSUZJQ0FUSU9OOiBuZXcgUG9pbnRBdHRyaWJ1dGUoJ0NMQVNTSUZJQ0FUSU9OJywgUG9pbnRBdHRyaWJ1dGVUeXBlcy5EQVRBX1RZUEVfVUlOVDgsIDEpLFxuICAgIE5PUk1BTF9TUEhFUkVNQVBQRUQ6IG5ldyBQb2ludEF0dHJpYnV0ZSgnTk9STUFMX1NQSEVSRU1BUFBFRCcsIFBvaW50QXR0cmlidXRlVHlwZXMuREFUQV9UWVBFX1VJTlQ4LCAyKSxcbiAgICBOT1JNQUxfT0NUMTY6IG5ldyBQb2ludEF0dHJpYnV0ZSgnTk9STUFMX09DVDE2JywgUG9pbnRBdHRyaWJ1dGVUeXBlcy5EQVRBX1RZUEVfVUlOVDgsIDIpLFxuICAgIE5PUk1BTDogbmV3IFBvaW50QXR0cmlidXRlKCdOT1JNQUwnLCBQb2ludEF0dHJpYnV0ZVR5cGVzLkRBVEFfVFlQRV9GTE9BVCwgMyksXG4gICAgUkVUVVJOX05VTUJFUjogbmV3IFBvaW50QXR0cmlidXRlKCdSRVRVUk5fTlVNQkVSJywgUG9pbnRBdHRyaWJ1dGVUeXBlcy5EQVRBX1RZUEVfVUlOVDgsIDEpLFxuICAgIE5VTUJFUl9PRl9SRVRVUk5TOiBuZXcgUG9pbnRBdHRyaWJ1dGUoJ05VTUJFUl9PRl9SRVRVUk5TJywgUG9pbnRBdHRyaWJ1dGVUeXBlcy5EQVRBX1RZUEVfVUlOVDgsIDEpLFxuICAgIFNPVVJDRV9JRDogbmV3IFBvaW50QXR0cmlidXRlKCdTT1VSQ0VfSUQnLCBQb2ludEF0dHJpYnV0ZVR5cGVzLkRBVEFfVFlQRV9VSU5UMTYsIDEpLFxuICAgIElORElDRVM6IG5ldyBQb2ludEF0dHJpYnV0ZSgnSU5ESUNFUycsIFBvaW50QXR0cmlidXRlVHlwZXMuREFUQV9UWVBFX1VJTlQzMiwgMSksXG4gICAgU1BBQ0lORzogbmV3IFBvaW50QXR0cmlidXRlKCdTUEFDSU5HJywgUG9pbnRBdHRyaWJ1dGVUeXBlcy5EQVRBX1RZUEVfRkxPQVQsIDEpLFxuICAgIEdQU19USU1FOiBuZXcgUG9pbnRBdHRyaWJ1dGUoJ0dQU19USU1FJywgUG9pbnRBdHRyaWJ1dGVUeXBlcy5EQVRBX1RZUEVfRE9VQkxFLCAxKVxufTtcbmV4cG9ydCBjbGFzcyBQb2ludEF0dHJpYnV0ZXMge1xuICAgIGNvbnN0cnVjdG9yKHBvaW50QXR0cmlidXRlcywgYXR0cmlidXRlcyA9IFtdLCBieXRlU2l6ZSA9IDAsIHNpemUgPSAwLCB2ZWN0b3JzID0gW10pIHtcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVzID0gYXR0cmlidXRlcztcbiAgICAgICAgdGhpcy5ieXRlU2l6ZSA9IGJ5dGVTaXplO1xuICAgICAgICB0aGlzLnNpemUgPSBzaXplO1xuICAgICAgICB0aGlzLnZlY3RvcnMgPSB2ZWN0b3JzO1xuICAgICAgICBpZiAocG9pbnRBdHRyaWJ1dGVzICE9IG51bGwpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRBdHRyaWJ1dGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcG9pbnRBdHRyaWJ1dGVOYW1lID0gcG9pbnRBdHRyaWJ1dGVzW2ldO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBvaW50QXR0cmlidXRlID0gUE9JTlRfQVRUUklCVVRFU1twb2ludEF0dHJpYnV0ZU5hbWVdO1xuICAgICAgICAgICAgICAgIHRoaXMuYXR0cmlidXRlcy5wdXNoKHBvaW50QXR0cmlidXRlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmJ5dGVTaXplICs9IHBvaW50QXR0cmlidXRlLmJ5dGVTaXplO1xuICAgICAgICAgICAgICAgIHRoaXMuc2l6ZSsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGFkZChwb2ludEF0dHJpYnV0ZSkge1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZXMucHVzaChwb2ludEF0dHJpYnV0ZSk7XG4gICAgICAgIHRoaXMuYnl0ZVNpemUgKz0gcG9pbnRBdHRyaWJ1dGUuYnl0ZVNpemU7XG4gICAgICAgIHRoaXMuc2l6ZSsrO1xuICAgIH1cbiAgICBhZGRWZWN0b3IodmVjdG9yKSB7XG4gICAgICAgIHRoaXMudmVjdG9ycy5wdXNoKHZlY3Rvcik7XG4gICAgfVxuICAgIGhhc05vcm1hbHMoKSB7XG4gICAgICAgIGZvciAoY29uc3QgbmFtZSBpbiB0aGlzLmF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHBvaW50QXR0cmlidXRlID0gdGhpcy5hdHRyaWJ1dGVzW25hbWVdO1xuICAgICAgICAgICAgaWYgKHBvaW50QXR0cmlidXRlID09PSBQT0lOVF9BVFRSSUJVVEVTLk5PUk1BTF9TUEhFUkVNQVBQRUQgfHxcbiAgICAgICAgICAgICAgICBwb2ludEF0dHJpYnV0ZSA9PT0gUE9JTlRfQVRUUklCVVRFUy5OT1JNQUxfRkxPQVRTIHx8XG4gICAgICAgICAgICAgICAgcG9pbnRBdHRyaWJ1dGUgPT09IFBPSU5UX0FUVFJJQlVURVMuTk9STUFMIHx8XG4gICAgICAgICAgICAgICAgcG9pbnRBdHRyaWJ1dGUgPT09IFBPSU5UX0FUVFJJQlVURVMuTk9STUFMX09DVDE2KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBnZXRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5hdHRyaWJ1dGVzLmZpbmQoYXR0ciA9PiBhdHRyLm5hbWUgPT09IGF0dHJpYnV0ZU5hbWUpO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/loading2/point-attributes.ts\n");

/***/ }),

/***/ "./src/loading2/utils.ts":
/*!*******************************!*\
  !*** ./src/loading2/utils.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   buildUrl: () => (/* binding */ buildUrl),\n/* harmony export */   extractBasePath: () => (/* binding */ extractBasePath)\n/* harmony export */ });\nfunction extractBasePath(url) {\n    return url.substring(0, url.lastIndexOf('/') + 1);\n}\nfunction buildUrl(basePath, fileName) {\n    return `${basePath}${fileName}`;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbG9hZGluZzIvdXRpbHMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb3RyZWUvLi9zcmMvbG9hZGluZzIvdXRpbHMudHM/YmNlMSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gZXh0cmFjdEJhc2VQYXRoKHVybCkge1xuICAgIHJldHVybiB1cmwuc3Vic3RyaW5nKDAsIHVybC5sYXN0SW5kZXhPZignLycpICsgMSk7XG59XG5leHBvcnQgZnVuY3Rpb24gYnVpbGRVcmwoYmFzZVBhdGgsIGZpbGVOYW1lKSB7XG4gICAgcmV0dXJuIGAke2Jhc2VQYXRofSR7ZmlsZU5hbWV9YDtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/loading2/utils.ts\n");

/***/ }),

/***/ "./src/loading2/worker-pool.ts":
/*!*************************************!*\
  !*** ./src/loading2/worker-pool.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WorkerPool: () => (/* binding */ WorkerPool),\n/* harmony export */   WorkerType: () => (/* binding */ WorkerType)\n/* harmony export */ });\n// Create enums for different types of workers\nvar WorkerType;\n(function (WorkerType) {\n    WorkerType[\"DECODER_WORKER\"] = \"DECODER_WORKER\";\n    WorkerType[\"DECODER_WORKER_GLTF\"] = \"DECODER_WORKER_GLTF\";\n})(WorkerType || (WorkerType = {}));\n// Worker JS names: 'BinaryDecoderWorker.js', 'DEMWorker.js', 'EptBinaryDecoderWorker.js', 'EptLaszipDecoderWorker.js',\n// EptZstandardDecoder_preamble.js', 'EptZstandardDecoderWorker.js', 'LASDecoderWorker.js', 'LASLAZWorker.js', 'LazLoaderWorker.js'\nfunction createWorker(type) {\n    // console.log(type)\n    switch (type) {\n        case WorkerType.DECODER_WORKER: {\n            const DecoderWorker = (__webpack_require__(/*! ./decoder.worker.js */ \"./src/loading2/decoder.worker.js\")[\"default\"]);\n            return new DecoderWorker();\n        }\n        case WorkerType.DECODER_WORKER_GLTF: {\n            const DecoderWorker_GLTF = (__webpack_require__(/*! ./gltf-decoder.worker.js */ \"./src/loading2/gltf-decoder.worker.js\")[\"default\"]);\n            return new DecoderWorker_GLTF();\n        }\n        default:\n            throw new Error('Unknown worker type');\n    }\n}\nclass WorkerPool {\n    constructor() {\n        // Workers will be an object that has a key for each worker type and the value is an array of Workers that can be empty\n        this.workers = { DECODER_WORKER: [], DECODER_WORKER_GLTF: [] };\n    }\n    getWorker(workerType) {\n        // Throw error if workerType is not recognized\n        if (this.workers[workerType] === undefined) {\n            throw new Error('Unknown worker type');\n        }\n        // Given a worker URL, if URL does not exist in the worker object, create a new array with the URL as a key\n        if (this.workers[workerType].length === 0) {\n            const worker = createWorker(workerType);\n            this.workers[workerType].push(worker);\n        }\n        const worker = this.workers[workerType].pop();\n        if (worker === undefined) { // Typescript needs this\n            throw new Error('No workers available');\n        }\n        // Return the last worker in the array and remove it from the array\n        return worker;\n    }\n    returnWorker(workerType, worker) {\n        this.workers[workerType].push(worker);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbG9hZGluZzIvd29ya2VyLXBvb2wudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3BvdHJlZS8uL3NyYy9sb2FkaW5nMi93b3JrZXItcG9vbC50cz8wZmFmIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENyZWF0ZSBlbnVtcyBmb3IgZGlmZmVyZW50IHR5cGVzIG9mIHdvcmtlcnNcbmV4cG9ydCB2YXIgV29ya2VyVHlwZTtcbihmdW5jdGlvbiAoV29ya2VyVHlwZSkge1xuICAgIFdvcmtlclR5cGVbXCJERUNPREVSX1dPUktFUlwiXSA9IFwiREVDT0RFUl9XT1JLRVJcIjtcbiAgICBXb3JrZXJUeXBlW1wiREVDT0RFUl9XT1JLRVJfR0xURlwiXSA9IFwiREVDT0RFUl9XT1JLRVJfR0xURlwiO1xufSkoV29ya2VyVHlwZSB8fCAoV29ya2VyVHlwZSA9IHt9KSk7XG4vLyBXb3JrZXIgSlMgbmFtZXM6ICdCaW5hcnlEZWNvZGVyV29ya2VyLmpzJywgJ0RFTVdvcmtlci5qcycsICdFcHRCaW5hcnlEZWNvZGVyV29ya2VyLmpzJywgJ0VwdExhc3ppcERlY29kZXJXb3JrZXIuanMnLFxuLy8gRXB0WnN0YW5kYXJkRGVjb2Rlcl9wcmVhbWJsZS5qcycsICdFcHRac3RhbmRhcmREZWNvZGVyV29ya2VyLmpzJywgJ0xBU0RlY29kZXJXb3JrZXIuanMnLCAnTEFTTEFaV29ya2VyLmpzJywgJ0xhekxvYWRlcldvcmtlci5qcydcbmZ1bmN0aW9uIGNyZWF0ZVdvcmtlcih0eXBlKSB7XG4gICAgLy8gY29uc29sZS5sb2codHlwZSlcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBXb3JrZXJUeXBlLkRFQ09ERVJfV09SS0VSOiB7XG4gICAgICAgICAgICBjb25zdCBEZWNvZGVyV29ya2VyID0gcmVxdWlyZSgnLi9kZWNvZGVyLndvcmtlci5qcycpLmRlZmF1bHQ7XG4gICAgICAgICAgICByZXR1cm4gbmV3IERlY29kZXJXb3JrZXIoKTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFdvcmtlclR5cGUuREVDT0RFUl9XT1JLRVJfR0xURjoge1xuICAgICAgICAgICAgY29uc3QgRGVjb2Rlcldvcmtlcl9HTFRGID0gcmVxdWlyZSgnLi9nbHRmLWRlY29kZXIud29ya2VyLmpzJykuZGVmYXVsdDtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRGVjb2Rlcldvcmtlcl9HTFRGKCk7XG4gICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5rbm93biB3b3JrZXIgdHlwZScpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBXb3JrZXJQb29sIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgLy8gV29ya2VycyB3aWxsIGJlIGFuIG9iamVjdCB0aGF0IGhhcyBhIGtleSBmb3IgZWFjaCB3b3JrZXIgdHlwZSBhbmQgdGhlIHZhbHVlIGlzIGFuIGFycmF5IG9mIFdvcmtlcnMgdGhhdCBjYW4gYmUgZW1wdHlcbiAgICAgICAgdGhpcy53b3JrZXJzID0geyBERUNPREVSX1dPUktFUjogW10sIERFQ09ERVJfV09SS0VSX0dMVEY6IFtdIH07XG4gICAgfVxuICAgIGdldFdvcmtlcih3b3JrZXJUeXBlKSB7XG4gICAgICAgIC8vIFRocm93IGVycm9yIGlmIHdvcmtlclR5cGUgaXMgbm90IHJlY29nbml6ZWRcbiAgICAgICAgaWYgKHRoaXMud29ya2Vyc1t3b3JrZXJUeXBlXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gd29ya2VyIHR5cGUnKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBHaXZlbiBhIHdvcmtlciBVUkwsIGlmIFVSTCBkb2VzIG5vdCBleGlzdCBpbiB0aGUgd29ya2VyIG9iamVjdCwgY3JlYXRlIGEgbmV3IGFycmF5IHdpdGggdGhlIFVSTCBhcyBhIGtleVxuICAgICAgICBpZiAodGhpcy53b3JrZXJzW3dvcmtlclR5cGVdLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgY29uc3Qgd29ya2VyID0gY3JlYXRlV29ya2VyKHdvcmtlclR5cGUpO1xuICAgICAgICAgICAgdGhpcy53b3JrZXJzW3dvcmtlclR5cGVdLnB1c2god29ya2VyKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB3b3JrZXIgPSB0aGlzLndvcmtlcnNbd29ya2VyVHlwZV0ucG9wKCk7XG4gICAgICAgIGlmICh3b3JrZXIgPT09IHVuZGVmaW5lZCkgeyAvLyBUeXBlc2NyaXB0IG5lZWRzIHRoaXNcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gd29ya2VycyBhdmFpbGFibGUnKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZXR1cm4gdGhlIGxhc3Qgd29ya2VyIGluIHRoZSBhcnJheSBhbmQgcmVtb3ZlIGl0IGZyb20gdGhlIGFycmF5XG4gICAgICAgIHJldHVybiB3b3JrZXI7XG4gICAgfVxuICAgIHJldHVybldvcmtlcih3b3JrZXJUeXBlLCB3b3JrZXIpIHtcbiAgICAgICAgdGhpcy53b3JrZXJzW3dvcmtlclR5cGVdLnB1c2god29ya2VyKTtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/loading2/worker-pool.ts\n");

/***/ }),

/***/ "./src/materials/blur-material.ts":
/*!****************************************!*\
  !*** ./src/materials/blur-material.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BlurMaterial: () => (/* binding */ BlurMaterial)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"three\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(three__WEBPACK_IMPORTED_MODULE_0__);\n\nclass BlurMaterial extends three__WEBPACK_IMPORTED_MODULE_0__.ShaderMaterial {\n    constructor() {\n        super(...arguments);\n        this.vertexShader = __webpack_require__(/*! ./shaders/blur.vert */ \"./src/materials/shaders/blur.vert\");\n        this.fragmentShader = __webpack_require__(/*! ./shaders/blur.frag */ \"./src/materials/shaders/blur.frag\");\n        this.uniforms = {\n            screenWidth: { type: 'f', value: 0 },\n            screenHeight: { type: 'f', value: 0 },\n            map: { type: 't', value: null },\n        };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWF0ZXJpYWxzL2JsdXItbWF0ZXJpYWwudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb3RyZWUvLi9zcmMvbWF0ZXJpYWxzL2JsdXItbWF0ZXJpYWwudHM/NTczOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTaGFkZXJNYXRlcmlhbCB9IGZyb20gJ3RocmVlJztcbmV4cG9ydCBjbGFzcyBCbHVyTWF0ZXJpYWwgZXh0ZW5kcyBTaGFkZXJNYXRlcmlhbCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMudmVydGV4U2hhZGVyID0gcmVxdWlyZSgnLi9zaGFkZXJzL2JsdXIudmVydCcpO1xuICAgICAgICB0aGlzLmZyYWdtZW50U2hhZGVyID0gcmVxdWlyZSgnLi9zaGFkZXJzL2JsdXIuZnJhZycpO1xuICAgICAgICB0aGlzLnVuaWZvcm1zID0ge1xuICAgICAgICAgICAgc2NyZWVuV2lkdGg6IHsgdHlwZTogJ2YnLCB2YWx1ZTogMCB9LFxuICAgICAgICAgICAgc2NyZWVuSGVpZ2h0OiB7IHR5cGU6ICdmJywgdmFsdWU6IDAgfSxcbiAgICAgICAgICAgIG1hcDogeyB0eXBlOiAndCcsIHZhbHVlOiBudWxsIH0sXG4gICAgICAgIH07XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/materials/blur-material.ts\n");

/***/ }),

/***/ "./src/materials/classification.ts":
/*!*****************************************!*\
  !*** ./src/materials/classification.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_CLASSIFICATION: () => (/* binding */ DEFAULT_CLASSIFICATION)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"three\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(three__WEBPACK_IMPORTED_MODULE_0__);\n\nconst DEFAULT_CLASSIFICATION = {\n    0: new three__WEBPACK_IMPORTED_MODULE_0__.Vector4(0.5, 0.5, 0.5, 1.0),\n    1: new three__WEBPACK_IMPORTED_MODULE_0__.Vector4(0.5, 0.5, 0.5, 1.0),\n    2: new three__WEBPACK_IMPORTED_MODULE_0__.Vector4(0.63, 0.32, 0.18, 1.0),\n    3: new three__WEBPACK_IMPORTED_MODULE_0__.Vector4(0.0, 1.0, 0.0, 1.0),\n    4: new three__WEBPACK_IMPORTED_MODULE_0__.Vector4(0.0, 0.8, 0.0, 1.0),\n    5: new three__WEBPACK_IMPORTED_MODULE_0__.Vector4(0.0, 0.6, 0.0, 1.0),\n    6: new three__WEBPACK_IMPORTED_MODULE_0__.Vector4(1.0, 0.66, 0.0, 1.0),\n    7: new three__WEBPACK_IMPORTED_MODULE_0__.Vector4(1.0, 0, 1.0, 1.0),\n    8: new three__WEBPACK_IMPORTED_MODULE_0__.Vector4(1.0, 0, 0.0, 1.0),\n    9: new three__WEBPACK_IMPORTED_MODULE_0__.Vector4(0.0, 0.0, 1.0, 1.0),\n    12: new three__WEBPACK_IMPORTED_MODULE_0__.Vector4(1.0, 1.0, 0.0, 1.0),\n    DEFAULT: new three__WEBPACK_IMPORTED_MODULE_0__.Vector4(0.3, 0.6, 0.6, 0.5),\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWF0ZXJpYWxzL2NsYXNzaWZpY2F0aW9uLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3BvdHJlZS8uL3NyYy9tYXRlcmlhbHMvY2xhc3NpZmljYXRpb24udHM/ZmEzYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBWZWN0b3I0IH0gZnJvbSAndGhyZWUnO1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfQ0xBU1NJRklDQVRJT04gPSB7XG4gICAgMDogbmV3IFZlY3RvcjQoMC41LCAwLjUsIDAuNSwgMS4wKSxcbiAgICAxOiBuZXcgVmVjdG9yNCgwLjUsIDAuNSwgMC41LCAxLjApLFxuICAgIDI6IG5ldyBWZWN0b3I0KDAuNjMsIDAuMzIsIDAuMTgsIDEuMCksXG4gICAgMzogbmV3IFZlY3RvcjQoMC4wLCAxLjAsIDAuMCwgMS4wKSxcbiAgICA0OiBuZXcgVmVjdG9yNCgwLjAsIDAuOCwgMC4wLCAxLjApLFxuICAgIDU6IG5ldyBWZWN0b3I0KDAuMCwgMC42LCAwLjAsIDEuMCksXG4gICAgNjogbmV3IFZlY3RvcjQoMS4wLCAwLjY2LCAwLjAsIDEuMCksXG4gICAgNzogbmV3IFZlY3RvcjQoMS4wLCAwLCAxLjAsIDEuMCksXG4gICAgODogbmV3IFZlY3RvcjQoMS4wLCAwLCAwLjAsIDEuMCksXG4gICAgOTogbmV3IFZlY3RvcjQoMC4wLCAwLjAsIDEuMCwgMS4wKSxcbiAgICAxMjogbmV3IFZlY3RvcjQoMS4wLCAxLjAsIDAuMCwgMS4wKSxcbiAgICBERUZBVUxUOiBuZXcgVmVjdG9yNCgwLjMsIDAuNiwgMC42LCAwLjUpLFxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/materials/classification.ts\n");

/***/ }),

/***/ "./src/materials/clipping.ts":
/*!***********************************!*\
  !*** ./src/materials/clipping.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ClipMode: () => (/* binding */ ClipMode)\n/* harmony export */ });\nvar ClipMode;\n(function (ClipMode) {\n    ClipMode[ClipMode[\"DISABLED\"] = 0] = \"DISABLED\";\n    ClipMode[ClipMode[\"CLIP_OUTSIDE\"] = 1] = \"CLIP_OUTSIDE\";\n    ClipMode[ClipMode[\"HIGHLIGHT_INSIDE\"] = 2] = \"HIGHLIGHT_INSIDE\";\n    ClipMode[ClipMode[\"CLIP_HORIZONTALLY\"] = 3] = \"CLIP_HORIZONTALLY\";\n    ClipMode[ClipMode[\"CLIP_VERTICALLY\"] = 4] = \"CLIP_VERTICALLY\";\n})(ClipMode || (ClipMode = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWF0ZXJpYWxzL2NsaXBwaW5nLnRzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcG90cmVlLy4vc3JjL21hdGVyaWFscy9jbGlwcGluZy50cz8xZjk2Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB2YXIgQ2xpcE1vZGU7XG4oZnVuY3Rpb24gKENsaXBNb2RlKSB7XG4gICAgQ2xpcE1vZGVbQ2xpcE1vZGVbXCJESVNBQkxFRFwiXSA9IDBdID0gXCJESVNBQkxFRFwiO1xuICAgIENsaXBNb2RlW0NsaXBNb2RlW1wiQ0xJUF9PVVRTSURFXCJdID0gMV0gPSBcIkNMSVBfT1VUU0lERVwiO1xuICAgIENsaXBNb2RlW0NsaXBNb2RlW1wiSElHSExJR0hUX0lOU0lERVwiXSA9IDJdID0gXCJISUdITElHSFRfSU5TSURFXCI7XG4gICAgQ2xpcE1vZGVbQ2xpcE1vZGVbXCJDTElQX0hPUklaT05UQUxMWVwiXSA9IDNdID0gXCJDTElQX0hPUklaT05UQUxMWVwiO1xuICAgIENsaXBNb2RlW0NsaXBNb2RlW1wiQ0xJUF9WRVJUSUNBTExZXCJdID0gNF0gPSBcIkNMSVBfVkVSVElDQUxMWVwiO1xufSkoQ2xpcE1vZGUgfHwgKENsaXBNb2RlID0ge30pKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/materials/clipping.ts\n");

/***/ }),

/***/ "./src/materials/enums.ts":
/*!********************************!*\
  !*** ./src/materials/enums.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NormalFilteringMode: () => (/* binding */ NormalFilteringMode),\n/* harmony export */   PointCloudMixingMode: () => (/* binding */ PointCloudMixingMode),\n/* harmony export */   PointColorType: () => (/* binding */ PointColorType),\n/* harmony export */   PointOpacityType: () => (/* binding */ PointOpacityType),\n/* harmony export */   PointShape: () => (/* binding */ PointShape),\n/* harmony export */   PointSizeType: () => (/* binding */ PointSizeType),\n/* harmony export */   TreeType: () => (/* binding */ TreeType)\n/* harmony export */ });\nvar PointSizeType;\n(function (PointSizeType) {\n    PointSizeType[PointSizeType[\"FIXED\"] = 0] = \"FIXED\";\n    PointSizeType[PointSizeType[\"ATTENUATED\"] = 1] = \"ATTENUATED\";\n    PointSizeType[PointSizeType[\"ADAPTIVE\"] = 2] = \"ADAPTIVE\";\n})(PointSizeType || (PointSizeType = {}));\nvar PointShape;\n(function (PointShape) {\n    PointShape[PointShape[\"SQUARE\"] = 0] = \"SQUARE\";\n    PointShape[PointShape[\"CIRCLE\"] = 1] = \"CIRCLE\";\n    PointShape[PointShape[\"PARABOLOID\"] = 2] = \"PARABOLOID\";\n})(PointShape || (PointShape = {}));\nvar TreeType;\n(function (TreeType) {\n    TreeType[TreeType[\"OCTREE\"] = 0] = \"OCTREE\";\n    TreeType[TreeType[\"KDTREE\"] = 1] = \"KDTREE\";\n})(TreeType || (TreeType = {}));\nvar PointOpacityType;\n(function (PointOpacityType) {\n    PointOpacityType[PointOpacityType[\"FIXED\"] = 0] = \"FIXED\";\n    PointOpacityType[PointOpacityType[\"ATTENUATED\"] = 1] = \"ATTENUATED\";\n})(PointOpacityType || (PointOpacityType = {}));\nvar PointColorType;\n(function (PointColorType) {\n    PointColorType[PointColorType[\"RGB\"] = 0] = \"RGB\";\n    PointColorType[PointColorType[\"COLOR\"] = 1] = \"COLOR\";\n    PointColorType[PointColorType[\"DEPTH\"] = 2] = \"DEPTH\";\n    PointColorType[PointColorType[\"HEIGHT\"] = 3] = \"HEIGHT\";\n    PointColorType[PointColorType[\"ELEVATION\"] = 3] = \"ELEVATION\";\n    PointColorType[PointColorType[\"INTENSITY\"] = 4] = \"INTENSITY\";\n    PointColorType[PointColorType[\"INTENSITY_GRADIENT\"] = 5] = \"INTENSITY_GRADIENT\";\n    PointColorType[PointColorType[\"LOD\"] = 6] = \"LOD\";\n    PointColorType[PointColorType[\"LEVEL_OF_DETAIL\"] = 6] = \"LEVEL_OF_DETAIL\";\n    PointColorType[PointColorType[\"POINT_INDEX\"] = 7] = \"POINT_INDEX\";\n    PointColorType[PointColorType[\"CLASSIFICATION\"] = 8] = \"CLASSIFICATION\";\n    PointColorType[PointColorType[\"RETURN_NUMBER\"] = 9] = \"RETURN_NUMBER\";\n    PointColorType[PointColorType[\"SOURCE\"] = 10] = \"SOURCE\";\n    PointColorType[PointColorType[\"NORMAL\"] = 11] = \"NORMAL\";\n    PointColorType[PointColorType[\"PHONG\"] = 12] = \"PHONG\";\n    PointColorType[PointColorType[\"RGB_HEIGHT\"] = 13] = \"RGB_HEIGHT\";\n    PointColorType[PointColorType[\"COMPOSITE\"] = 50] = \"COMPOSITE\";\n})(PointColorType || (PointColorType = {}));\nvar NormalFilteringMode;\n(function (NormalFilteringMode) {\n    NormalFilteringMode[NormalFilteringMode[\"ABSOLUTE_NORMAL_FILTERING_MODE\"] = 1] = \"ABSOLUTE_NORMAL_FILTERING_MODE\";\n    NormalFilteringMode[NormalFilteringMode[\"LESS_EQUAL_NORMAL_FILTERING_MODE\"] = 2] = \"LESS_EQUAL_NORMAL_FILTERING_MODE\";\n    NormalFilteringMode[NormalFilteringMode[\"GREATER_NORMAL_FILTERING_MODE\"] = 3] = \"GREATER_NORMAL_FILTERING_MODE\";\n})(NormalFilteringMode || (NormalFilteringMode = {}));\nvar PointCloudMixingMode;\n(function (PointCloudMixingMode) {\n    PointCloudMixingMode[PointCloudMixingMode[\"CHECKBOARD\"] = 1] = \"CHECKBOARD\";\n    PointCloudMixingMode[PointCloudMixingMode[\"STRIPES\"] = 2] = \"STRIPES\";\n})(PointCloudMixingMode || (PointCloudMixingMode = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWF0ZXJpYWxzL2VudW1zLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcG90cmVlLy4vc3JjL21hdGVyaWFscy9lbnVtcy50cz85NjQyIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB2YXIgUG9pbnRTaXplVHlwZTtcbihmdW5jdGlvbiAoUG9pbnRTaXplVHlwZSkge1xuICAgIFBvaW50U2l6ZVR5cGVbUG9pbnRTaXplVHlwZVtcIkZJWEVEXCJdID0gMF0gPSBcIkZJWEVEXCI7XG4gICAgUG9pbnRTaXplVHlwZVtQb2ludFNpemVUeXBlW1wiQVRURU5VQVRFRFwiXSA9IDFdID0gXCJBVFRFTlVBVEVEXCI7XG4gICAgUG9pbnRTaXplVHlwZVtQb2ludFNpemVUeXBlW1wiQURBUFRJVkVcIl0gPSAyXSA9IFwiQURBUFRJVkVcIjtcbn0pKFBvaW50U2l6ZVR5cGUgfHwgKFBvaW50U2l6ZVR5cGUgPSB7fSkpO1xuZXhwb3J0IHZhciBQb2ludFNoYXBlO1xuKGZ1bmN0aW9uIChQb2ludFNoYXBlKSB7XG4gICAgUG9pbnRTaGFwZVtQb2ludFNoYXBlW1wiU1FVQVJFXCJdID0gMF0gPSBcIlNRVUFSRVwiO1xuICAgIFBvaW50U2hhcGVbUG9pbnRTaGFwZVtcIkNJUkNMRVwiXSA9IDFdID0gXCJDSVJDTEVcIjtcbiAgICBQb2ludFNoYXBlW1BvaW50U2hhcGVbXCJQQVJBQk9MT0lEXCJdID0gMl0gPSBcIlBBUkFCT0xPSURcIjtcbn0pKFBvaW50U2hhcGUgfHwgKFBvaW50U2hhcGUgPSB7fSkpO1xuZXhwb3J0IHZhciBUcmVlVHlwZTtcbihmdW5jdGlvbiAoVHJlZVR5cGUpIHtcbiAgICBUcmVlVHlwZVtUcmVlVHlwZVtcIk9DVFJFRVwiXSA9IDBdID0gXCJPQ1RSRUVcIjtcbiAgICBUcmVlVHlwZVtUcmVlVHlwZVtcIktEVFJFRVwiXSA9IDFdID0gXCJLRFRSRUVcIjtcbn0pKFRyZWVUeXBlIHx8IChUcmVlVHlwZSA9IHt9KSk7XG5leHBvcnQgdmFyIFBvaW50T3BhY2l0eVR5cGU7XG4oZnVuY3Rpb24gKFBvaW50T3BhY2l0eVR5cGUpIHtcbiAgICBQb2ludE9wYWNpdHlUeXBlW1BvaW50T3BhY2l0eVR5cGVbXCJGSVhFRFwiXSA9IDBdID0gXCJGSVhFRFwiO1xuICAgIFBvaW50T3BhY2l0eVR5cGVbUG9pbnRPcGFjaXR5VHlwZVtcIkFUVEVOVUFURURcIl0gPSAxXSA9IFwiQVRURU5VQVRFRFwiO1xufSkoUG9pbnRPcGFjaXR5VHlwZSB8fCAoUG9pbnRPcGFjaXR5VHlwZSA9IHt9KSk7XG5leHBvcnQgdmFyIFBvaW50Q29sb3JUeXBlO1xuKGZ1bmN0aW9uIChQb2ludENvbG9yVHlwZSkge1xuICAgIFBvaW50Q29sb3JUeXBlW1BvaW50Q29sb3JUeXBlW1wiUkdCXCJdID0gMF0gPSBcIlJHQlwiO1xuICAgIFBvaW50Q29sb3JUeXBlW1BvaW50Q29sb3JUeXBlW1wiQ09MT1JcIl0gPSAxXSA9IFwiQ09MT1JcIjtcbiAgICBQb2ludENvbG9yVHlwZVtQb2ludENvbG9yVHlwZVtcIkRFUFRIXCJdID0gMl0gPSBcIkRFUFRIXCI7XG4gICAgUG9pbnRDb2xvclR5cGVbUG9pbnRDb2xvclR5cGVbXCJIRUlHSFRcIl0gPSAzXSA9IFwiSEVJR0hUXCI7XG4gICAgUG9pbnRDb2xvclR5cGVbUG9pbnRDb2xvclR5cGVbXCJFTEVWQVRJT05cIl0gPSAzXSA9IFwiRUxFVkFUSU9OXCI7XG4gICAgUG9pbnRDb2xvclR5cGVbUG9pbnRDb2xvclR5cGVbXCJJTlRFTlNJVFlcIl0gPSA0XSA9IFwiSU5URU5TSVRZXCI7XG4gICAgUG9pbnRDb2xvclR5cGVbUG9pbnRDb2xvclR5cGVbXCJJTlRFTlNJVFlfR1JBRElFTlRcIl0gPSA1XSA9IFwiSU5URU5TSVRZX0dSQURJRU5UXCI7XG4gICAgUG9pbnRDb2xvclR5cGVbUG9pbnRDb2xvclR5cGVbXCJMT0RcIl0gPSA2XSA9IFwiTE9EXCI7XG4gICAgUG9pbnRDb2xvclR5cGVbUG9pbnRDb2xvclR5cGVbXCJMRVZFTF9PRl9ERVRBSUxcIl0gPSA2XSA9IFwiTEVWRUxfT0ZfREVUQUlMXCI7XG4gICAgUG9pbnRDb2xvclR5cGVbUG9pbnRDb2xvclR5cGVbXCJQT0lOVF9JTkRFWFwiXSA9IDddID0gXCJQT0lOVF9JTkRFWFwiO1xuICAgIFBvaW50Q29sb3JUeXBlW1BvaW50Q29sb3JUeXBlW1wiQ0xBU1NJRklDQVRJT05cIl0gPSA4XSA9IFwiQ0xBU1NJRklDQVRJT05cIjtcbiAgICBQb2ludENvbG9yVHlwZVtQb2ludENvbG9yVHlwZVtcIlJFVFVSTl9OVU1CRVJcIl0gPSA5XSA9IFwiUkVUVVJOX05VTUJFUlwiO1xuICAgIFBvaW50Q29sb3JUeXBlW1BvaW50Q29sb3JUeXBlW1wiU09VUkNFXCJdID0gMTBdID0gXCJTT1VSQ0VcIjtcbiAgICBQb2ludENvbG9yVHlwZVtQb2ludENvbG9yVHlwZVtcIk5PUk1BTFwiXSA9IDExXSA9IFwiTk9STUFMXCI7XG4gICAgUG9pbnRDb2xvclR5cGVbUG9pbnRDb2xvclR5cGVbXCJQSE9OR1wiXSA9IDEyXSA9IFwiUEhPTkdcIjtcbiAgICBQb2ludENvbG9yVHlwZVtQb2ludENvbG9yVHlwZVtcIlJHQl9IRUlHSFRcIl0gPSAxM10gPSBcIlJHQl9IRUlHSFRcIjtcbiAgICBQb2ludENvbG9yVHlwZVtQb2ludENvbG9yVHlwZVtcIkNPTVBPU0lURVwiXSA9IDUwXSA9IFwiQ09NUE9TSVRFXCI7XG59KShQb2ludENvbG9yVHlwZSB8fCAoUG9pbnRDb2xvclR5cGUgPSB7fSkpO1xuZXhwb3J0IHZhciBOb3JtYWxGaWx0ZXJpbmdNb2RlO1xuKGZ1bmN0aW9uIChOb3JtYWxGaWx0ZXJpbmdNb2RlKSB7XG4gICAgTm9ybWFsRmlsdGVyaW5nTW9kZVtOb3JtYWxGaWx0ZXJpbmdNb2RlW1wiQUJTT0xVVEVfTk9STUFMX0ZJTFRFUklOR19NT0RFXCJdID0gMV0gPSBcIkFCU09MVVRFX05PUk1BTF9GSUxURVJJTkdfTU9ERVwiO1xuICAgIE5vcm1hbEZpbHRlcmluZ01vZGVbTm9ybWFsRmlsdGVyaW5nTW9kZVtcIkxFU1NfRVFVQUxfTk9STUFMX0ZJTFRFUklOR19NT0RFXCJdID0gMl0gPSBcIkxFU1NfRVFVQUxfTk9STUFMX0ZJTFRFUklOR19NT0RFXCI7XG4gICAgTm9ybWFsRmlsdGVyaW5nTW9kZVtOb3JtYWxGaWx0ZXJpbmdNb2RlW1wiR1JFQVRFUl9OT1JNQUxfRklMVEVSSU5HX01PREVcIl0gPSAzXSA9IFwiR1JFQVRFUl9OT1JNQUxfRklMVEVSSU5HX01PREVcIjtcbn0pKE5vcm1hbEZpbHRlcmluZ01vZGUgfHwgKE5vcm1hbEZpbHRlcmluZ01vZGUgPSB7fSkpO1xuZXhwb3J0IHZhciBQb2ludENsb3VkTWl4aW5nTW9kZTtcbihmdW5jdGlvbiAoUG9pbnRDbG91ZE1peGluZ01vZGUpIHtcbiAgICBQb2ludENsb3VkTWl4aW5nTW9kZVtQb2ludENsb3VkTWl4aW5nTW9kZVtcIkNIRUNLQk9BUkRcIl0gPSAxXSA9IFwiQ0hFQ0tCT0FSRFwiO1xuICAgIFBvaW50Q2xvdWRNaXhpbmdNb2RlW1BvaW50Q2xvdWRNaXhpbmdNb2RlW1wiU1RSSVBFU1wiXSA9IDJdID0gXCJTVFJJUEVTXCI7XG59KShQb2ludENsb3VkTWl4aW5nTW9kZSB8fCAoUG9pbnRDbG91ZE1peGluZ01vZGUgPSB7fSkpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/materials/enums.ts\n");

/***/ }),

/***/ "./src/materials/gradients/grayscale.ts":
/*!**********************************************!*\
  !*** ./src/materials/gradients/grayscale.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GRAYSCALE: () => (/* binding */ GRAYSCALE)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"three\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(three__WEBPACK_IMPORTED_MODULE_0__);\n\nconst GRAYSCALE = [\n    [0, new three__WEBPACK_IMPORTED_MODULE_0__.Color(0, 0, 0)],\n    [1, new three__WEBPACK_IMPORTED_MODULE_0__.Color(1, 1, 1)],\n];\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWF0ZXJpYWxzL2dyYWRpZW50cy9ncmF5c2NhbGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3BvdHJlZS8uL3NyYy9tYXRlcmlhbHMvZ3JhZGllbnRzL2dyYXlzY2FsZS50cz85MmQ4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbG9yIH0gZnJvbSAndGhyZWUnO1xuZXhwb3J0IGNvbnN0IEdSQVlTQ0FMRSA9IFtcbiAgICBbMCwgbmV3IENvbG9yKDAsIDAsIDApXSxcbiAgICBbMSwgbmV3IENvbG9yKDEsIDEsIDEpXSxcbl07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/materials/gradients/grayscale.ts\n");

/***/ }),

/***/ "./src/materials/gradients/index.ts":
/*!******************************************!*\
  !*** ./src/materials/gradients/index.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GRAYSCALE: () => (/* reexport safe */ _grayscale__WEBPACK_IMPORTED_MODULE_0__.GRAYSCALE),\n/* harmony export */   INFERNO: () => (/* reexport safe */ _inferno__WEBPACK_IMPORTED_MODULE_1__.INFERNO),\n/* harmony export */   PLASMA: () => (/* reexport safe */ _plasma__WEBPACK_IMPORTED_MODULE_2__.PLASMA),\n/* harmony export */   RAINBOW: () => (/* reexport safe */ _rainbow__WEBPACK_IMPORTED_MODULE_3__.RAINBOW),\n/* harmony export */   SPECTRAL: () => (/* reexport safe */ _spectral__WEBPACK_IMPORTED_MODULE_4__.SPECTRAL),\n/* harmony export */   VIRIDIS: () => (/* reexport safe */ _vidris__WEBPACK_IMPORTED_MODULE_5__.VIRIDIS),\n/* harmony export */   YELLOW_GREEN: () => (/* reexport safe */ _yellow_green__WEBPACK_IMPORTED_MODULE_6__.YELLOW_GREEN)\n/* harmony export */ });\n/* harmony import */ var _grayscale__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./grayscale */ \"./src/materials/gradients/grayscale.ts\");\n/* harmony import */ var _inferno__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./inferno */ \"./src/materials/gradients/inferno.ts\");\n/* harmony import */ var _plasma__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./plasma */ \"./src/materials/gradients/plasma.ts\");\n/* harmony import */ var _rainbow__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./rainbow */ \"./src/materials/gradients/rainbow.ts\");\n/* harmony import */ var _spectral__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./spectral */ \"./src/materials/gradients/spectral.ts\");\n/* harmony import */ var _vidris__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./vidris */ \"./src/materials/gradients/vidris.ts\");\n/* harmony import */ var _yellow_green__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./yellow-green */ \"./src/materials/gradients/yellow-green.ts\");\n\n\n\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWF0ZXJpYWxzL2dyYWRpZW50cy9pbmRleC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcG90cmVlLy4vc3JjL21hdGVyaWFscy9ncmFkaWVudHMvaW5kZXgudHM/MmM4ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgKiBmcm9tICcuL2dyYXlzY2FsZSc7XG5leHBvcnQgKiBmcm9tICcuL2luZmVybm8nO1xuZXhwb3J0ICogZnJvbSAnLi9wbGFzbWEnO1xuZXhwb3J0ICogZnJvbSAnLi9yYWluYm93JztcbmV4cG9ydCAqIGZyb20gJy4vc3BlY3RyYWwnO1xuZXhwb3J0ICogZnJvbSAnLi92aWRyaXMnO1xuZXhwb3J0ICogZnJvbSAnLi95ZWxsb3ctZ3JlZW4nO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/materials/gradients/index.ts\n");

/***/ }),

/***/ "./src/materials/gradients/inferno.ts":
/*!********************************************!*\
  !*** ./src/materials/gradients/inferno.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   INFERNO: () => (/* binding */ INFERNO)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"three\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(three__WEBPACK_IMPORTED_MODULE_0__);\n\nconst INFERNO = [\n    [0.0, new three__WEBPACK_IMPORTED_MODULE_0__.Color(0.077, 0.042, 0.206)],\n    [0.1, new three__WEBPACK_IMPORTED_MODULE_0__.Color(0.225, 0.036, 0.388)],\n    [0.2, new three__WEBPACK_IMPORTED_MODULE_0__.Color(0.373, 0.074, 0.432)],\n    [0.3, new three__WEBPACK_IMPORTED_MODULE_0__.Color(0.522, 0.128, 0.42)],\n    [0.4, new three__WEBPACK_IMPORTED_MODULE_0__.Color(0.665, 0.182, 0.37)],\n    [0.5, new three__WEBPACK_IMPORTED_MODULE_0__.Color(0.797, 0.255, 0.287)],\n    [0.6, new three__WEBPACK_IMPORTED_MODULE_0__.Color(0.902, 0.364, 0.184)],\n    [0.7, new three__WEBPACK_IMPORTED_MODULE_0__.Color(0.969, 0.516, 0.063)],\n    [0.8, new three__WEBPACK_IMPORTED_MODULE_0__.Color(0.988, 0.683, 0.072)],\n    [0.9, new three__WEBPACK_IMPORTED_MODULE_0__.Color(0.961, 0.859, 0.298)],\n    [1.0, new three__WEBPACK_IMPORTED_MODULE_0__.Color(0.988, 0.998, 0.645)],\n];\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWF0ZXJpYWxzL2dyYWRpZW50cy9pbmZlcm5vLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb3RyZWUvLi9zcmMvbWF0ZXJpYWxzL2dyYWRpZW50cy9pbmZlcm5vLnRzPzkwMzMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29sb3IgfSBmcm9tICd0aHJlZSc7XG5leHBvcnQgY29uc3QgSU5GRVJOTyA9IFtcbiAgICBbMC4wLCBuZXcgQ29sb3IoMC4wNzcsIDAuMDQyLCAwLjIwNildLFxuICAgIFswLjEsIG5ldyBDb2xvcigwLjIyNSwgMC4wMzYsIDAuMzg4KV0sXG4gICAgWzAuMiwgbmV3IENvbG9yKDAuMzczLCAwLjA3NCwgMC40MzIpXSxcbiAgICBbMC4zLCBuZXcgQ29sb3IoMC41MjIsIDAuMTI4LCAwLjQyKV0sXG4gICAgWzAuNCwgbmV3IENvbG9yKDAuNjY1LCAwLjE4MiwgMC4zNyldLFxuICAgIFswLjUsIG5ldyBDb2xvcigwLjc5NywgMC4yNTUsIDAuMjg3KV0sXG4gICAgWzAuNiwgbmV3IENvbG9yKDAuOTAyLCAwLjM2NCwgMC4xODQpXSxcbiAgICBbMC43LCBuZXcgQ29sb3IoMC45NjksIDAuNTE2LCAwLjA2MyldLFxuICAgIFswLjgsIG5ldyBDb2xvcigwLjk4OCwgMC42ODMsIDAuMDcyKV0sXG4gICAgWzAuOSwgbmV3IENvbG9yKDAuOTYxLCAwLjg1OSwgMC4yOTgpXSxcbiAgICBbMS4wLCBuZXcgQ29sb3IoMC45ODgsIDAuOTk4LCAwLjY0NSldLFxuXTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/materials/gradients/inferno.ts\n");

/***/ }),

/***/ "./src/materials/gradients/plasma.ts":
/*!*******************************************!*\
  !*** ./src/materials/gradients/plasma.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PLASMA: () => (/* binding */ PLASMA)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"three\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(three__WEBPACK_IMPORTED_MODULE_0__);\n\nconst PLASMA = [\n    [0.0, new three__WEBPACK_IMPORTED_MODULE_0__.Color(0.241, 0.015, 0.61)],\n    [0.1, new three__WEBPACK_IMPORTED_MODULE_0__.Color(0.387, 0.001, 0.654)],\n    [0.2, new three__WEBPACK_IMPORTED_MODULE_0__.Color(0.524, 0.025, 0.653)],\n    [0.3, new three__WEBPACK_IMPORTED_MODULE_0__.Color(0.651, 0.125, 0.596)],\n    [0.4, new three__WEBPACK_IMPORTED_MODULE_0__.Color(0.752, 0.227, 0.513)],\n    [0.5, new three__WEBPACK_IMPORTED_MODULE_0__.Color(0.837, 0.329, 0.431)],\n    [0.6, new three__WEBPACK_IMPORTED_MODULE_0__.Color(0.907, 0.435, 0.353)],\n    [0.7, new three__WEBPACK_IMPORTED_MODULE_0__.Color(0.963, 0.554, 0.272)],\n    [0.8, new three__WEBPACK_IMPORTED_MODULE_0__.Color(0.992, 0.681, 0.195)],\n    [0.9, new three__WEBPACK_IMPORTED_MODULE_0__.Color(0.987, 0.822, 0.144)],\n    [1.0, new three__WEBPACK_IMPORTED_MODULE_0__.Color(0.94, 0.975, 0.131)],\n];\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWF0ZXJpYWxzL2dyYWRpZW50cy9wbGFzbWEudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3BvdHJlZS8uL3NyYy9tYXRlcmlhbHMvZ3JhZGllbnRzL3BsYXNtYS50cz9jZWJmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbG9yIH0gZnJvbSAndGhyZWUnO1xuZXhwb3J0IGNvbnN0IFBMQVNNQSA9IFtcbiAgICBbMC4wLCBuZXcgQ29sb3IoMC4yNDEsIDAuMDE1LCAwLjYxKV0sXG4gICAgWzAuMSwgbmV3IENvbG9yKDAuMzg3LCAwLjAwMSwgMC42NTQpXSxcbiAgICBbMC4yLCBuZXcgQ29sb3IoMC41MjQsIDAuMDI1LCAwLjY1MyldLFxuICAgIFswLjMsIG5ldyBDb2xvcigwLjY1MSwgMC4xMjUsIDAuNTk2KV0sXG4gICAgWzAuNCwgbmV3IENvbG9yKDAuNzUyLCAwLjIyNywgMC41MTMpXSxcbiAgICBbMC41LCBuZXcgQ29sb3IoMC44MzcsIDAuMzI5LCAwLjQzMSldLFxuICAgIFswLjYsIG5ldyBDb2xvcigwLjkwNywgMC40MzUsIDAuMzUzKV0sXG4gICAgWzAuNywgbmV3IENvbG9yKDAuOTYzLCAwLjU1NCwgMC4yNzIpXSxcbiAgICBbMC44LCBuZXcgQ29sb3IoMC45OTIsIDAuNjgxLCAwLjE5NSldLFxuICAgIFswLjksIG5ldyBDb2xvcigwLjk4NywgMC44MjIsIDAuMTQ0KV0sXG4gICAgWzEuMCwgbmV3IENvbG9yKDAuOTQsIDAuOTc1LCAwLjEzMSldLFxuXTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/materials/gradients/plasma.ts\n");

/***/ }),

/***/ "./src/materials/gradients/rainbow.ts":
/*!********************************************!*\
  !*** ./src/materials/gradients/rainbow.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RAINBOW: () => (/* binding */ RAINBOW)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"three\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(three__WEBPACK_IMPORTED_MODULE_0__);\n\nconst RAINBOW = [\n    [0, new three__WEBPACK_IMPORTED_MODULE_0__.Color(0.278, 0, 0.714)],\n    [1 / 6, new three__WEBPACK_IMPORTED_MODULE_0__.Color(0, 0, 1)],\n    [2 / 6, new three__WEBPACK_IMPORTED_MODULE_0__.Color(0, 1, 1)],\n    [3 / 6, new three__WEBPACK_IMPORTED_MODULE_0__.Color(0, 1, 0)],\n    [4 / 6, new three__WEBPACK_IMPORTED_MODULE_0__.Color(1, 1, 0)],\n    [5 / 6, new three__WEBPACK_IMPORTED_MODULE_0__.Color(1, 0.64, 0)],\n    [1, new three__WEBPACK_IMPORTED_MODULE_0__.Color(1, 0, 0)],\n];\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWF0ZXJpYWxzL2dyYWRpZW50cy9yYWluYm93LnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcG90cmVlLy4vc3JjL21hdGVyaWFscy9ncmFkaWVudHMvcmFpbmJvdy50cz9iMTJhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbG9yIH0gZnJvbSAndGhyZWUnO1xuZXhwb3J0IGNvbnN0IFJBSU5CT1cgPSBbXG4gICAgWzAsIG5ldyBDb2xvcigwLjI3OCwgMCwgMC43MTQpXSxcbiAgICBbMSAvIDYsIG5ldyBDb2xvcigwLCAwLCAxKV0sXG4gICAgWzIgLyA2LCBuZXcgQ29sb3IoMCwgMSwgMSldLFxuICAgIFszIC8gNiwgbmV3IENvbG9yKDAsIDEsIDApXSxcbiAgICBbNCAvIDYsIG5ldyBDb2xvcigxLCAxLCAwKV0sXG4gICAgWzUgLyA2LCBuZXcgQ29sb3IoMSwgMC42NCwgMCldLFxuICAgIFsxLCBuZXcgQ29sb3IoMSwgMCwgMCldLFxuXTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/materials/gradients/rainbow.ts\n");

/***/ }),

/***/ "./src/materials/gradients/spectral.ts":
/*!*********************************************!*\
  !*** ./src/materials/gradients/spectral.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SPECTRAL: () => (/* binding */ SPECTRAL)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"three\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(three__WEBPACK_IMPORTED_MODULE_0__);\n\n// From chroma spectral http://gka.github.io/chroma.js/\nconst SPECTRAL = [\n    [0, new three__WEBPACK_IMPORTED_MODULE_0__.Color(0.3686, 0.3098, 0.6353)],\n    [0.1, new three__WEBPACK_IMPORTED_MODULE_0__.Color(0.1961, 0.5333, 0.7412)],\n    [0.2, new three__WEBPACK_IMPORTED_MODULE_0__.Color(0.4, 0.7608, 0.6471)],\n    [0.3, new three__WEBPACK_IMPORTED_MODULE_0__.Color(0.6706, 0.8667, 0.6431)],\n    [0.4, new three__WEBPACK_IMPORTED_MODULE_0__.Color(0.902, 0.9608, 0.5961)],\n    [0.5, new three__WEBPACK_IMPORTED_MODULE_0__.Color(1.0, 1.0, 0.749)],\n    [0.6, new three__WEBPACK_IMPORTED_MODULE_0__.Color(0.9961, 0.8784, 0.5451)],\n    [0.7, new three__WEBPACK_IMPORTED_MODULE_0__.Color(0.9922, 0.6824, 0.3804)],\n    [0.8, new three__WEBPACK_IMPORTED_MODULE_0__.Color(0.9569, 0.4275, 0.2627)],\n    [0.9, new three__WEBPACK_IMPORTED_MODULE_0__.Color(0.8353, 0.2431, 0.3098)],\n    [1, new three__WEBPACK_IMPORTED_MODULE_0__.Color(0.6196, 0.0039, 0.2588)],\n];\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWF0ZXJpYWxzL2dyYWRpZW50cy9zcGVjdHJhbC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb3RyZWUvLi9zcmMvbWF0ZXJpYWxzL2dyYWRpZW50cy9zcGVjdHJhbC50cz9iMGEyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbG9yIH0gZnJvbSAndGhyZWUnO1xuLy8gRnJvbSBjaHJvbWEgc3BlY3RyYWwgaHR0cDovL2drYS5naXRodWIuaW8vY2hyb21hLmpzL1xuZXhwb3J0IGNvbnN0IFNQRUNUUkFMID0gW1xuICAgIFswLCBuZXcgQ29sb3IoMC4zNjg2LCAwLjMwOTgsIDAuNjM1MyldLFxuICAgIFswLjEsIG5ldyBDb2xvcigwLjE5NjEsIDAuNTMzMywgMC43NDEyKV0sXG4gICAgWzAuMiwgbmV3IENvbG9yKDAuNCwgMC43NjA4LCAwLjY0NzEpXSxcbiAgICBbMC4zLCBuZXcgQ29sb3IoMC42NzA2LCAwLjg2NjcsIDAuNjQzMSldLFxuICAgIFswLjQsIG5ldyBDb2xvcigwLjkwMiwgMC45NjA4LCAwLjU5NjEpXSxcbiAgICBbMC41LCBuZXcgQ29sb3IoMS4wLCAxLjAsIDAuNzQ5KV0sXG4gICAgWzAuNiwgbmV3IENvbG9yKDAuOTk2MSwgMC44Nzg0LCAwLjU0NTEpXSxcbiAgICBbMC43LCBuZXcgQ29sb3IoMC45OTIyLCAwLjY4MjQsIDAuMzgwNCldLFxuICAgIFswLjgsIG5ldyBDb2xvcigwLjk1NjksIDAuNDI3NSwgMC4yNjI3KV0sXG4gICAgWzAuOSwgbmV3IENvbG9yKDAuODM1MywgMC4yNDMxLCAwLjMwOTgpXSxcbiAgICBbMSwgbmV3IENvbG9yKDAuNjE5NiwgMC4wMDM5LCAwLjI1ODgpXSxcbl07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/materials/gradients/spectral.ts\n");

/***/ }),

/***/ "./src/materials/gradients/vidris.ts":
/*!*******************************************!*\
  !*** ./src/materials/gradients/vidris.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   VIRIDIS: () => (/* binding */ VIRIDIS)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"three\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(three__WEBPACK_IMPORTED_MODULE_0__);\n\nconst VIRIDIS = [\n    [0.0, new three__WEBPACK_IMPORTED_MODULE_0__.Color(0.267, 0.005, 0.329)],\n    [0.1, new three__WEBPACK_IMPORTED_MODULE_0__.Color(0.283, 0.141, 0.458)],\n    [0.2, new three__WEBPACK_IMPORTED_MODULE_0__.Color(0.254, 0.265, 0.53)],\n    [0.3, new three__WEBPACK_IMPORTED_MODULE_0__.Color(0.207, 0.372, 0.553)],\n    [0.4, new three__WEBPACK_IMPORTED_MODULE_0__.Color(0.164, 0.471, 0.558)],\n    [0.5, new three__WEBPACK_IMPORTED_MODULE_0__.Color(0.128, 0.567, 0.551)],\n    [0.6, new three__WEBPACK_IMPORTED_MODULE_0__.Color(0.135, 0.659, 0.518)],\n    [0.7, new three__WEBPACK_IMPORTED_MODULE_0__.Color(0.267, 0.749, 0.441)],\n    [0.8, new three__WEBPACK_IMPORTED_MODULE_0__.Color(0.478, 0.821, 0.318)],\n    [0.9, new three__WEBPACK_IMPORTED_MODULE_0__.Color(0.741, 0.873, 0.15)],\n    [1.0, new three__WEBPACK_IMPORTED_MODULE_0__.Color(0.993, 0.906, 0.144)],\n];\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWF0ZXJpYWxzL2dyYWRpZW50cy92aWRyaXMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3BvdHJlZS8uL3NyYy9tYXRlcmlhbHMvZ3JhZGllbnRzL3ZpZHJpcy50cz83Y2ZkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbG9yIH0gZnJvbSAndGhyZWUnO1xuZXhwb3J0IGNvbnN0IFZJUklESVMgPSBbXG4gICAgWzAuMCwgbmV3IENvbG9yKDAuMjY3LCAwLjAwNSwgMC4zMjkpXSxcbiAgICBbMC4xLCBuZXcgQ29sb3IoMC4yODMsIDAuMTQxLCAwLjQ1OCldLFxuICAgIFswLjIsIG5ldyBDb2xvcigwLjI1NCwgMC4yNjUsIDAuNTMpXSxcbiAgICBbMC4zLCBuZXcgQ29sb3IoMC4yMDcsIDAuMzcyLCAwLjU1MyldLFxuICAgIFswLjQsIG5ldyBDb2xvcigwLjE2NCwgMC40NzEsIDAuNTU4KV0sXG4gICAgWzAuNSwgbmV3IENvbG9yKDAuMTI4LCAwLjU2NywgMC41NTEpXSxcbiAgICBbMC42LCBuZXcgQ29sb3IoMC4xMzUsIDAuNjU5LCAwLjUxOCldLFxuICAgIFswLjcsIG5ldyBDb2xvcigwLjI2NywgMC43NDksIDAuNDQxKV0sXG4gICAgWzAuOCwgbmV3IENvbG9yKDAuNDc4LCAwLjgyMSwgMC4zMTgpXSxcbiAgICBbMC45LCBuZXcgQ29sb3IoMC43NDEsIDAuODczLCAwLjE1KV0sXG4gICAgWzEuMCwgbmV3IENvbG9yKDAuOTkzLCAwLjkwNiwgMC4xNDQpXSxcbl07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/materials/gradients/vidris.ts\n");

/***/ }),

/***/ "./src/materials/gradients/yellow-green.ts":
/*!*************************************************!*\
  !*** ./src/materials/gradients/yellow-green.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   YELLOW_GREEN: () => (/* binding */ YELLOW_GREEN)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"three\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(three__WEBPACK_IMPORTED_MODULE_0__);\n\nconst YELLOW_GREEN = [\n    [0, new three__WEBPACK_IMPORTED_MODULE_0__.Color(0.1647, 0.2824, 0.3451)],\n    [0.1, new three__WEBPACK_IMPORTED_MODULE_0__.Color(0.1338, 0.3555, 0.4227)],\n    [0.2, new three__WEBPACK_IMPORTED_MODULE_0__.Color(0.061, 0.4319, 0.4864)],\n    [0.3, new three__WEBPACK_IMPORTED_MODULE_0__.Color(0.0, 0.5099, 0.5319)],\n    [0.4, new three__WEBPACK_IMPORTED_MODULE_0__.Color(0.0, 0.5881, 0.5569)],\n    [0.5, new three__WEBPACK_IMPORTED_MODULE_0__.Color(0.137, 0.665, 0.5614)],\n    [0.6, new three__WEBPACK_IMPORTED_MODULE_0__.Color(0.2906, 0.7395, 0.5477)],\n    [0.7, new three__WEBPACK_IMPORTED_MODULE_0__.Color(0.4453, 0.8099, 0.5201)],\n    [0.8, new three__WEBPACK_IMPORTED_MODULE_0__.Color(0.6102, 0.8748, 0.485)],\n    [0.9, new three__WEBPACK_IMPORTED_MODULE_0__.Color(0.7883, 0.9323, 0.4514)],\n    [1, new three__WEBPACK_IMPORTED_MODULE_0__.Color(0.9804, 0.9804, 0.4314)],\n];\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWF0ZXJpYWxzL2dyYWRpZW50cy95ZWxsb3ctZ3JlZW4udHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3BvdHJlZS8uL3NyYy9tYXRlcmlhbHMvZ3JhZGllbnRzL3llbGxvdy1ncmVlbi50cz9kMjA3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbG9yIH0gZnJvbSAndGhyZWUnO1xuZXhwb3J0IGNvbnN0IFlFTExPV19HUkVFTiA9IFtcbiAgICBbMCwgbmV3IENvbG9yKDAuMTY0NywgMC4yODI0LCAwLjM0NTEpXSxcbiAgICBbMC4xLCBuZXcgQ29sb3IoMC4xMzM4LCAwLjM1NTUsIDAuNDIyNyldLFxuICAgIFswLjIsIG5ldyBDb2xvcigwLjA2MSwgMC40MzE5LCAwLjQ4NjQpXSxcbiAgICBbMC4zLCBuZXcgQ29sb3IoMC4wLCAwLjUwOTksIDAuNTMxOSldLFxuICAgIFswLjQsIG5ldyBDb2xvcigwLjAsIDAuNTg4MSwgMC41NTY5KV0sXG4gICAgWzAuNSwgbmV3IENvbG9yKDAuMTM3LCAwLjY2NSwgMC41NjE0KV0sXG4gICAgWzAuNiwgbmV3IENvbG9yKDAuMjkwNiwgMC43Mzk1LCAwLjU0NzcpXSxcbiAgICBbMC43LCBuZXcgQ29sb3IoMC40NDUzLCAwLjgwOTksIDAuNTIwMSldLFxuICAgIFswLjgsIG5ldyBDb2xvcigwLjYxMDIsIDAuODc0OCwgMC40ODUpXSxcbiAgICBbMC45LCBuZXcgQ29sb3IoMC43ODgzLCAwLjkzMjMsIDAuNDUxNCldLFxuICAgIFsxLCBuZXcgQ29sb3IoMC45ODA0LCAwLjk4MDQsIDAuNDMxNCldLFxuXTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/materials/gradients/yellow-green.ts\n");

/***/ }),

/***/ "./src/materials/index.ts":
/*!********************************!*\
  !*** ./src/materials/index.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BlurMaterial: () => (/* reexport safe */ _blur_material__WEBPACK_IMPORTED_MODULE_0__.BlurMaterial),\n/* harmony export */   ClipMode: () => (/* reexport safe */ _clipping__WEBPACK_IMPORTED_MODULE_1__.ClipMode),\n/* harmony export */   GRAYSCALE: () => (/* reexport safe */ _gradients__WEBPACK_IMPORTED_MODULE_6__.GRAYSCALE),\n/* harmony export */   INFERNO: () => (/* reexport safe */ _gradients__WEBPACK_IMPORTED_MODULE_6__.INFERNO),\n/* harmony export */   NormalFilteringMode: () => (/* reexport safe */ _enums__WEBPACK_IMPORTED_MODULE_2__.NormalFilteringMode),\n/* harmony export */   PLASMA: () => (/* reexport safe */ _gradients__WEBPACK_IMPORTED_MODULE_6__.PLASMA),\n/* harmony export */   PointCloudMaterial: () => (/* reexport safe */ _point_cloud_material__WEBPACK_IMPORTED_MODULE_3__.PointCloudMaterial),\n/* harmony export */   PointCloudMixingMode: () => (/* reexport safe */ _enums__WEBPACK_IMPORTED_MODULE_2__.PointCloudMixingMode),\n/* harmony export */   PointColorType: () => (/* reexport safe */ _enums__WEBPACK_IMPORTED_MODULE_2__.PointColorType),\n/* harmony export */   PointOpacityType: () => (/* reexport safe */ _enums__WEBPACK_IMPORTED_MODULE_2__.PointOpacityType),\n/* harmony export */   PointShape: () => (/* reexport safe */ _enums__WEBPACK_IMPORTED_MODULE_2__.PointShape),\n/* harmony export */   PointSizeType: () => (/* reexport safe */ _enums__WEBPACK_IMPORTED_MODULE_2__.PointSizeType),\n/* harmony export */   RAINBOW: () => (/* reexport safe */ _gradients__WEBPACK_IMPORTED_MODULE_6__.RAINBOW),\n/* harmony export */   SPECTRAL: () => (/* reexport safe */ _gradients__WEBPACK_IMPORTED_MODULE_6__.SPECTRAL),\n/* harmony export */   TreeType: () => (/* reexport safe */ _enums__WEBPACK_IMPORTED_MODULE_2__.TreeType),\n/* harmony export */   VIRIDIS: () => (/* reexport safe */ _gradients__WEBPACK_IMPORTED_MODULE_6__.VIRIDIS),\n/* harmony export */   YELLOW_GREEN: () => (/* reexport safe */ _gradients__WEBPACK_IMPORTED_MODULE_6__.YELLOW_GREEN),\n/* harmony export */   generateClassificationTexture: () => (/* reexport safe */ _texture_generation__WEBPACK_IMPORTED_MODULE_4__.generateClassificationTexture),\n/* harmony export */   generateDataTexture: () => (/* reexport safe */ _texture_generation__WEBPACK_IMPORTED_MODULE_4__.generateDataTexture),\n/* harmony export */   generateGradientTexture: () => (/* reexport safe */ _texture_generation__WEBPACK_IMPORTED_MODULE_4__.generateGradientTexture)\n/* harmony export */ });\n/* harmony import */ var _blur_material__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./blur-material */ \"./src/materials/blur-material.ts\");\n/* harmony import */ var _clipping__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./clipping */ \"./src/materials/clipping.ts\");\n/* harmony import */ var _enums__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./enums */ \"./src/materials/enums.ts\");\n/* harmony import */ var _point_cloud_material__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./point-cloud-material */ \"./src/materials/point-cloud-material.ts\");\n/* harmony import */ var _texture_generation__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./texture-generation */ \"./src/materials/texture-generation.ts\");\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./types */ \"./src/materials/types.ts\");\n/* harmony import */ var _gradients__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./gradients */ \"./src/materials/gradients/index.ts\");\n\n\n\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWF0ZXJpYWxzL2luZGV4LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcG90cmVlLy4vc3JjL21hdGVyaWFscy9pbmRleC50cz85MDI5Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCAqIGZyb20gJy4vYmx1ci1tYXRlcmlhbCc7XG5leHBvcnQgKiBmcm9tICcuL2NsaXBwaW5nJztcbmV4cG9ydCAqIGZyb20gJy4vZW51bXMnO1xuZXhwb3J0ICogZnJvbSAnLi9wb2ludC1jbG91ZC1tYXRlcmlhbCc7XG5leHBvcnQgKiBmcm9tICcuL3RleHR1cmUtZ2VuZXJhdGlvbic7XG5leHBvcnQgKiBmcm9tICcuL3R5cGVzJztcbmV4cG9ydCAqIGZyb20gJy4vZ3JhZGllbnRzJztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/materials/index.ts\n");

/***/ }),

/***/ "./src/materials/point-cloud-material.ts":
/*!***********************************************!*\
  !*** ./src/materials/point-cloud-material.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PointCloudMaterial: () => (/* binding */ PointCloudMaterial)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"three\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(three__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants */ \"./src/constants.ts\");\n/* harmony import */ var _utils_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/utils */ \"./src/utils/utils.ts\");\n/* harmony import */ var _classification__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./classification */ \"./src/materials/classification.ts\");\n/* harmony import */ var _clipping__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./clipping */ \"./src/materials/clipping.ts\");\n/* harmony import */ var _enums__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./enums */ \"./src/materials/enums.ts\");\n/* harmony import */ var _gradients__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./gradients */ \"./src/materials/gradients/index.ts\");\n/* harmony import */ var _texture_generation__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./texture-generation */ \"./src/materials/texture-generation.ts\");\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\n\n\n\n\n\n\n\nconst TREE_TYPE_DEFS = {\n    [_enums__WEBPACK_IMPORTED_MODULE_5__.TreeType.OCTREE]: 'tree_type_octree',\n    [_enums__WEBPACK_IMPORTED_MODULE_5__.TreeType.KDTREE]: 'tree_type_kdtree',\n};\nconst SIZE_TYPE_DEFS = {\n    [_enums__WEBPACK_IMPORTED_MODULE_5__.PointSizeType.FIXED]: 'fixed_point_size',\n    [_enums__WEBPACK_IMPORTED_MODULE_5__.PointSizeType.ATTENUATED]: 'attenuated_point_size',\n    [_enums__WEBPACK_IMPORTED_MODULE_5__.PointSizeType.ADAPTIVE]: 'adaptive_point_size',\n};\nconst OPACITY_DEFS = {\n    [_enums__WEBPACK_IMPORTED_MODULE_5__.PointOpacityType.ATTENUATED]: 'attenuated_opacity',\n    [_enums__WEBPACK_IMPORTED_MODULE_5__.PointOpacityType.FIXED]: 'fixed_opacity',\n};\nconst SHAPE_DEFS = {\n    [_enums__WEBPACK_IMPORTED_MODULE_5__.PointShape.SQUARE]: 'square_point_shape',\n    [_enums__WEBPACK_IMPORTED_MODULE_5__.PointShape.CIRCLE]: 'circle_point_shape',\n    [_enums__WEBPACK_IMPORTED_MODULE_5__.PointShape.PARABOLOID]: 'paraboloid_point_shape',\n};\nconst COLOR_DEFS = {\n    [_enums__WEBPACK_IMPORTED_MODULE_5__.PointColorType.RGB]: 'color_type_rgb',\n    [_enums__WEBPACK_IMPORTED_MODULE_5__.PointColorType.COLOR]: 'color_type_color',\n    [_enums__WEBPACK_IMPORTED_MODULE_5__.PointColorType.DEPTH]: 'color_type_depth',\n    [_enums__WEBPACK_IMPORTED_MODULE_5__.PointColorType.HEIGHT]: 'color_type_height',\n    [_enums__WEBPACK_IMPORTED_MODULE_5__.PointColorType.INTENSITY]: 'color_type_intensity',\n    [_enums__WEBPACK_IMPORTED_MODULE_5__.PointColorType.INTENSITY_GRADIENT]: 'color_type_intensity_gradient',\n    [_enums__WEBPACK_IMPORTED_MODULE_5__.PointColorType.LOD]: 'color_type_lod',\n    [_enums__WEBPACK_IMPORTED_MODULE_5__.PointColorType.POINT_INDEX]: 'color_type_point_index',\n    [_enums__WEBPACK_IMPORTED_MODULE_5__.PointColorType.CLASSIFICATION]: 'color_type_classification',\n    [_enums__WEBPACK_IMPORTED_MODULE_5__.PointColorType.RETURN_NUMBER]: 'color_type_return_number',\n    [_enums__WEBPACK_IMPORTED_MODULE_5__.PointColorType.SOURCE]: 'color_type_source',\n    [_enums__WEBPACK_IMPORTED_MODULE_5__.PointColorType.NORMAL]: 'color_type_normal',\n    [_enums__WEBPACK_IMPORTED_MODULE_5__.PointColorType.PHONG]: 'color_type_phong',\n    [_enums__WEBPACK_IMPORTED_MODULE_5__.PointColorType.RGB_HEIGHT]: 'color_type_rgb_height',\n    [_enums__WEBPACK_IMPORTED_MODULE_5__.PointColorType.COMPOSITE]: 'color_type_composite',\n};\nconst CLIP_MODE_DEFS = {\n    [_clipping__WEBPACK_IMPORTED_MODULE_4__.ClipMode.DISABLED]: 'clip_disabled',\n    [_clipping__WEBPACK_IMPORTED_MODULE_4__.ClipMode.CLIP_OUTSIDE]: 'clip_outside',\n    [_clipping__WEBPACK_IMPORTED_MODULE_4__.ClipMode.HIGHLIGHT_INSIDE]: 'clip_highlight_inside',\n    [_clipping__WEBPACK_IMPORTED_MODULE_4__.ClipMode.CLIP_HORIZONTALLY]: 'clip_horizontally',\n    [_clipping__WEBPACK_IMPORTED_MODULE_4__.ClipMode.CLIP_VERTICALLY]: 'clip_vertically',\n};\nclass PointCloudMaterial extends three__WEBPACK_IMPORTED_MODULE_0__.RawShaderMaterial {\n    constructor(parameters = {}) {\n        super();\n        /**\n         * Use the drawing buffer size instead of the dom client width and height when passing the screen height and screen width uniforms to the\n         * shader. This is useful if you have offscreen canvases (which in some browsers return 0 as client width and client height).\n         */\n        this.useDrawingBufferSize = false;\n        this.lights = false;\n        this.fog = false;\n        this.colorRgba = false;\n        this.numClipBoxes = 0;\n        this.clipBoxes = [];\n        this.visibleNodeTextureOffsets = new Map();\n        this._gradient = _gradients__WEBPACK_IMPORTED_MODULE_6__.SPECTRAL;\n        this.gradientTexture = (0,_texture_generation__WEBPACK_IMPORTED_MODULE_7__.generateGradientTexture)(this._gradient);\n        this._classification = _classification__WEBPACK_IMPORTED_MODULE_3__.DEFAULT_CLASSIFICATION;\n        this.classificationTexture = (0,_texture_generation__WEBPACK_IMPORTED_MODULE_7__.generateClassificationTexture)(this._classification);\n        this.uniforms = {\n            bbSize: makeUniform('fv', [0, 0, 0]),\n            blendDepthSupplement: makeUniform('f', 0.0),\n            blendHardness: makeUniform('f', 2.0),\n            classificationLUT: makeUniform('t', this.classificationTexture || new three__WEBPACK_IMPORTED_MODULE_0__.Texture()),\n            clipBoxCount: makeUniform('f', 0),\n            clipBoxes: makeUniform('Matrix4fv', []),\n            clipExtent: makeUniform('fv', [0.0, 0.0, 1.0, 1.0]),\n            depthMap: makeUniform('t', null),\n            diffuse: makeUniform('fv', [1, 1, 1]),\n            fov: makeUniform('f', 1.0),\n            gradient: makeUniform('t', this.gradientTexture || new three__WEBPACK_IMPORTED_MODULE_0__.Texture()),\n            heightMax: makeUniform('f', 1.0),\n            heightMin: makeUniform('f', 0.0),\n            intensityBrightness: makeUniform('f', 0),\n            intensityContrast: makeUniform('f', 0),\n            intensityGamma: makeUniform('f', 1),\n            intensityRange: makeUniform('fv', [0, 65000]),\n            isLeafNode: makeUniform('b', 0),\n            level: makeUniform('f', 0.0),\n            maxSize: makeUniform('f', _constants__WEBPACK_IMPORTED_MODULE_1__.DEFAULT_MAX_POINT_SIZE),\n            minSize: makeUniform('f', _constants__WEBPACK_IMPORTED_MODULE_1__.DEFAULT_MIN_POINT_SIZE),\n            octreeSize: makeUniform('f', 0),\n            opacity: makeUniform('f', 1.0),\n            pcIndex: makeUniform('f', 0),\n            rgbBrightness: makeUniform('f', _constants__WEBPACK_IMPORTED_MODULE_1__.DEFAULT_RGB_BRIGHTNESS),\n            rgbContrast: makeUniform('f', _constants__WEBPACK_IMPORTED_MODULE_1__.DEFAULT_RGB_CONTRAST),\n            rgbGamma: makeUniform('f', _constants__WEBPACK_IMPORTED_MODULE_1__.DEFAULT_RGB_GAMMA),\n            screenHeight: makeUniform('f', 1.0),\n            screenWidth: makeUniform('f', 1.0),\n            size: makeUniform('f', 1),\n            spacing: makeUniform('f', 1.0),\n            toModel: makeUniform('Matrix4f', []),\n            transition: makeUniform('f', 0.5),\n            uColor: makeUniform('c', new three__WEBPACK_IMPORTED_MODULE_0__.Color(0xffffff)),\n            // @ts-ignore\n            visibleNodes: makeUniform('t', this.visibleNodesTexture || new three__WEBPACK_IMPORTED_MODULE_0__.Texture()),\n            vnStart: makeUniform('f', 0.0),\n            wClassification: makeUniform('f', 0),\n            wElevation: makeUniform('f', 0),\n            wIntensity: makeUniform('f', 0),\n            wReturnNumber: makeUniform('f', 0),\n            wRGB: makeUniform('f', 1),\n            wSourceID: makeUniform('f', 0),\n            opacityAttenuation: makeUniform('f', 1),\n            filterByNormalThreshold: makeUniform('f', 0),\n            highlightedPointCoordinate: makeUniform('fv', new three__WEBPACK_IMPORTED_MODULE_0__.Vector3()),\n            highlightedPointColor: makeUniform('fv', _constants__WEBPACK_IMPORTED_MODULE_1__.DEFAULT_HIGHLIGHT_COLOR.clone()),\n            enablePointHighlighting: makeUniform('b', true),\n            highlightedPointScale: makeUniform('f', 2.0),\n            backgroundMap: makeUniform('t', null),\n            normalFilteringMode: makeUniform('i', _enums__WEBPACK_IMPORTED_MODULE_5__.NormalFilteringMode.ABSOLUTE_NORMAL_FILTERING_MODE),\n            pointCloudID: makeUniform('f', 2),\n            pointCloudMixingMode: makeUniform('i', _enums__WEBPACK_IMPORTED_MODULE_5__.PointCloudMixingMode.CHECKBOARD),\n            stripeDistanceX: makeUniform('f', 5),\n            stripeDistanceY: makeUniform('f', 5),\n            stripeDivisorX: makeUniform('f', 2),\n            stripeDivisorY: makeUniform('f', 2),\n            pointCloudMixAngle: makeUniform('f', 31),\n        };\n        this.useClipBox = false;\n        this.weighted = false;\n        this.pointColorType = _enums__WEBPACK_IMPORTED_MODULE_5__.PointColorType.RGB;\n        this.pointSizeType = _enums__WEBPACK_IMPORTED_MODULE_5__.PointSizeType.ADAPTIVE;\n        this.clipMode = _clipping__WEBPACK_IMPORTED_MODULE_4__.ClipMode.DISABLED;\n        this.useEDL = false;\n        this.shape = _enums__WEBPACK_IMPORTED_MODULE_5__.PointShape.SQUARE;\n        this.treeType = _enums__WEBPACK_IMPORTED_MODULE_5__.TreeType.OCTREE;\n        this.pointOpacityType = _enums__WEBPACK_IMPORTED_MODULE_5__.PointOpacityType.FIXED;\n        this.useFilterByNormal = false;\n        this.useTextureBlending = false;\n        this.usePointCloudMixing = false;\n        this.highlightPoint = false;\n        this.attributes = {\n            position: { type: 'fv', value: [] },\n            color: { type: 'fv', value: [] },\n            normal: { type: 'fv', value: [] },\n            intensity: { type: 'f', value: [] },\n            classification: { type: 'f', value: [] },\n            returnNumber: { type: 'f', value: [] },\n            numberOfReturns: { type: 'f', value: [] },\n            pointSourceID: { type: 'f', value: [] },\n            indices: { type: 'fv', value: [] },\n        };\n        const tex = (this.visibleNodesTexture = (0,_texture_generation__WEBPACK_IMPORTED_MODULE_7__.generateDataTexture)(2048, 1, new three__WEBPACK_IMPORTED_MODULE_0__.Color(0xffffff)));\n        tex.minFilter = three__WEBPACK_IMPORTED_MODULE_0__.NearestFilter;\n        tex.magFilter = three__WEBPACK_IMPORTED_MODULE_0__.NearestFilter;\n        this.setUniform('visibleNodes', tex);\n        this.treeType = getValid(parameters.treeType, _enums__WEBPACK_IMPORTED_MODULE_5__.TreeType.OCTREE);\n        this.size = getValid(parameters.size, 1.0);\n        this.minSize = getValid(parameters.minSize, 2.0);\n        this.maxSize = getValid(parameters.maxSize, 50.0);\n        this.colorRgba = Boolean(parameters.colorRgba);\n        this.classification = _classification__WEBPACK_IMPORTED_MODULE_3__.DEFAULT_CLASSIFICATION;\n        this.defaultAttributeValues.normal = [0, 0, 0];\n        this.defaultAttributeValues.classification = [0, 0, 0];\n        this.defaultAttributeValues.indices = [0, 0, 0, 0];\n        this.vertexColors = true;\n        this.updateShaderSource();\n    }\n    dispose() {\n        super.dispose();\n        if (this.gradientTexture) {\n            this.gradientTexture.dispose();\n            this.gradientTexture = undefined;\n        }\n        if (this.visibleNodesTexture) {\n            this.visibleNodesTexture.dispose();\n            this.visibleNodesTexture = undefined;\n        }\n        this.clearVisibleNodeTextureOffsets();\n        if (this.classificationTexture) {\n            this.classificationTexture.dispose();\n            this.classificationTexture = undefined;\n        }\n        if (this.depthMap) {\n            this.depthMap.dispose();\n            this.depthMap = undefined;\n        }\n        if (this.backgroundMap) {\n            this.backgroundMap.dispose();\n            this.backgroundMap = undefined;\n        }\n    }\n    clearVisibleNodeTextureOffsets() {\n        this.visibleNodeTextureOffsets.clear();\n    }\n    updateShaderSource() {\n        this.vertexShader = this.applyDefines((__webpack_require__(/*! ./shaders/pointcloud.vert */ \"./src/materials/shaders/pointcloud.vert\")[\"default\"]));\n        this.fragmentShader = this.applyDefines((__webpack_require__(/*! ./shaders/pointcloud.frag */ \"./src/materials/shaders/pointcloud.frag\")[\"default\"]));\n        if (this.opacity === 1.0) {\n            this.blending = three__WEBPACK_IMPORTED_MODULE_0__.NoBlending;\n            this.transparent = false;\n            this.depthTest = true;\n            this.depthWrite = true;\n            this.depthFunc = three__WEBPACK_IMPORTED_MODULE_0__.LessEqualDepth;\n        }\n        else if (this.opacity < 1.0 && !this.useEDL) {\n            this.blending = three__WEBPACK_IMPORTED_MODULE_0__.AdditiveBlending;\n            this.transparent = true;\n            this.depthTest = false;\n            this.depthWrite = true;\n        }\n        if (this.weighted) {\n            this.blending = three__WEBPACK_IMPORTED_MODULE_0__.AdditiveBlending;\n            this.transparent = true;\n            this.depthTest = true;\n            this.depthWrite = false;\n            this.depthFunc = three__WEBPACK_IMPORTED_MODULE_0__.LessEqualDepth;\n        }\n        this.needsUpdate = true;\n    }\n    applyDefines(shaderSrc) {\n        const parts = [];\n        function define(value) {\n            if (value) {\n                parts.push(`#define ${value}`);\n            }\n        }\n        define(TREE_TYPE_DEFS[this.treeType]);\n        define(SIZE_TYPE_DEFS[this.pointSizeType]);\n        define(SHAPE_DEFS[this.shape]);\n        define(COLOR_DEFS[this.pointColorType]);\n        define(CLIP_MODE_DEFS[this.clipMode]);\n        define(OPACITY_DEFS[this.pointOpacityType]);\n        // We only perform gamma and brightness/contrast calculations per point if values are specified.\n        if (this.rgbGamma !== _constants__WEBPACK_IMPORTED_MODULE_1__.DEFAULT_RGB_GAMMA ||\n            this.rgbBrightness !== _constants__WEBPACK_IMPORTED_MODULE_1__.DEFAULT_RGB_BRIGHTNESS ||\n            this.rgbContrast !== _constants__WEBPACK_IMPORTED_MODULE_1__.DEFAULT_RGB_CONTRAST) {\n            define('use_rgb_gamma_contrast_brightness');\n        }\n        if (this.useFilterByNormal) {\n            define('use_filter_by_normal');\n        }\n        if (this.useEDL) {\n            define('use_edl');\n        }\n        if (this.weighted) {\n            define('weighted_splats');\n        }\n        if (this.numClipBoxes > 0) {\n            define('use_clip_box');\n        }\n        if (this.highlightPoint) {\n            define('highlight_point');\n        }\n        if (this.useTextureBlending) {\n            define('use_texture_blending');\n        }\n        if (this.usePointCloudMixing) {\n            define('use_point_cloud_mixing');\n        }\n        if (this.colorRgba) {\n            define('color_rgba');\n        }\n        define('MAX_POINT_LIGHTS 0');\n        define('MAX_DIR_LIGHTS 0');\n        parts.push(shaderSrc);\n        return parts.join('\\n');\n    }\n    setPointCloudMixingMode(mode) {\n        this.pointCloudMixingMode = mode;\n    }\n    getPointCloudMixingMode() {\n        if (this.pointCloudMixingMode === _enums__WEBPACK_IMPORTED_MODULE_5__.PointCloudMixingMode.STRIPES) {\n            return _enums__WEBPACK_IMPORTED_MODULE_5__.PointCloudMixingMode.STRIPES;\n        }\n        return _enums__WEBPACK_IMPORTED_MODULE_5__.PointCloudMixingMode.CHECKBOARD;\n    }\n    setClipBoxes(clipBoxes) {\n        if (!clipBoxes) {\n            return;\n        }\n        this.clipBoxes = clipBoxes;\n        const doUpdate = this.numClipBoxes !== clipBoxes.length && (clipBoxes.length === 0 || this.numClipBoxes === 0);\n        this.numClipBoxes = clipBoxes.length;\n        this.setUniform('clipBoxCount', this.numClipBoxes);\n        if (doUpdate) {\n            this.updateShaderSource();\n        }\n        const clipBoxesLength = this.numClipBoxes * 16;\n        const clipBoxesArray = new Float32Array(clipBoxesLength);\n        for (let i = 0; i < this.numClipBoxes; i++) {\n            clipBoxesArray.set(clipBoxes[i].inverse.elements, 16 * i);\n        }\n        for (let i = 0; i < clipBoxesLength; i++) {\n            if (isNaN(clipBoxesArray[i])) {\n                clipBoxesArray[i] = Infinity;\n            }\n        }\n        this.setUniform('clipBoxes', clipBoxesArray);\n    }\n    get gradient() {\n        return this._gradient;\n    }\n    set gradient(value) {\n        if (this._gradient !== value) {\n            this._gradient = value;\n            this.gradientTexture = (0,_texture_generation__WEBPACK_IMPORTED_MODULE_7__.generateGradientTexture)(this._gradient);\n            this.setUniform('gradient', this.gradientTexture);\n        }\n    }\n    get classification() {\n        return this._classification;\n    }\n    set classification(value) {\n        const copy = {};\n        for (const key of Object.keys(value)) {\n            copy[key] = value[key].clone();\n        }\n        let isEqual = false;\n        if (this._classification === undefined) {\n            isEqual = false;\n        }\n        else {\n            isEqual = Object.keys(copy).length === Object.keys(this._classification).length;\n            for (const key of Object.keys(copy)) {\n                isEqual = isEqual && this._classification[key] !== undefined;\n                isEqual = isEqual && copy[key].equals(this._classification[key]);\n            }\n        }\n        if (!isEqual) {\n            this._classification = copy;\n            this.recomputeClassification();\n        }\n    }\n    recomputeClassification() {\n        this.classificationTexture = (0,_texture_generation__WEBPACK_IMPORTED_MODULE_7__.generateClassificationTexture)(this._classification);\n        this.setUniform('classificationLUT', this.classificationTexture);\n    }\n    get elevationRange() {\n        return [this.heightMin, this.heightMax];\n    }\n    set elevationRange(value) {\n        this.heightMin = value[0];\n        this.heightMax = value[1];\n    }\n    getUniform(name) {\n        return this.uniforms === undefined ? undefined : this.uniforms[name].value;\n    }\n    setUniform(name, value) {\n        if (this.uniforms === undefined) {\n            return;\n        }\n        const uObj = this.uniforms[name];\n        if (uObj.type === 'c') {\n            uObj.value.copy(value);\n        }\n        else if (value !== uObj.value) {\n            uObj.value = value;\n        }\n    }\n    updateMaterial(octree, visibleNodes, camera, renderer) {\n        const pixelRatio = renderer.getPixelRatio();\n        if (camera.type === _constants__WEBPACK_IMPORTED_MODULE_1__.PERSPECTIVE_CAMERA) {\n            this.fov = camera.fov * (Math.PI / 180);\n        }\n        else {\n            this.fov = Math.PI / 2; // will result in slope = 1 in the shader\n        }\n        const renderTarget = renderer.getRenderTarget();\n        if (renderTarget !== null) {\n            this.screenWidth = renderTarget.width;\n            this.screenHeight = renderTarget.height;\n        }\n        else {\n            this.screenWidth = renderer.domElement.clientWidth * pixelRatio;\n            this.screenHeight = renderer.domElement.clientHeight * pixelRatio;\n        }\n        if (this.useDrawingBufferSize) {\n            renderer.getDrawingBufferSize(PointCloudMaterial.helperVec2);\n            this.screenWidth = PointCloudMaterial.helperVec2.width;\n            this.screenHeight = PointCloudMaterial.helperVec2.height;\n        }\n        const maxScale = Math.max(octree.scale.x, octree.scale.y, octree.scale.z);\n        this.spacing = octree.pcoGeometry.spacing * maxScale;\n        this.octreeSize = octree.pcoGeometry.boundingBox.getSize(PointCloudMaterial.helperVec3).x;\n        if (this.pointSizeType === _enums__WEBPACK_IMPORTED_MODULE_5__.PointSizeType.ADAPTIVE ||\n            this.pointColorType === _enums__WEBPACK_IMPORTED_MODULE_5__.PointColorType.LOD) {\n            this.updateVisibilityTextureData(visibleNodes);\n        }\n    }\n    updateVisibilityTextureData(nodes) {\n        nodes.sort(_utils_utils__WEBPACK_IMPORTED_MODULE_2__.byLevelAndIndex);\n        const data = new Uint8Array(nodes.length * 4);\n        const offsetsToChild = new Array(nodes.length).fill(Infinity);\n        this.visibleNodeTextureOffsets.clear();\n        for (let i = 0; i < nodes.length; i++) {\n            const node = nodes[i];\n            this.visibleNodeTextureOffsets.set(node.name, i);\n            if (i > 0) {\n                const parentName = node.name.slice(0, -1);\n                const parentOffset = this.visibleNodeTextureOffsets.get(parentName);\n                const parentOffsetToChild = i - parentOffset;\n                offsetsToChild[parentOffset] = Math.min(offsetsToChild[parentOffset], parentOffsetToChild);\n                // tslint:disable:no-bitwise\n                const offset = parentOffset * 4;\n                data[offset] = data[offset] | (1 << node.index);\n                data[offset + 1] = offsetsToChild[parentOffset] >> 8;\n                data[offset + 2] = offsetsToChild[parentOffset] % 256;\n                // tslint:enable:no-bitwise\n            }\n            data[i * 4 + 3] = node.name.length;\n        }\n        const texture = this.visibleNodesTexture;\n        if (texture) {\n            texture.image.data.set(data);\n            texture.needsUpdate = true;\n        }\n    }\n    static makeOnBeforeRender(octree, node, pcIndex) {\n        return (_renderer, _scene, _camera, _geometry, material) => {\n            const pointCloudMaterial = material;\n            const materialUniforms = pointCloudMaterial.uniforms;\n            materialUniforms.level.value = node.level;\n            materialUniforms.isLeafNode.value = node.isLeafNode;\n            const vnStart = pointCloudMaterial.visibleNodeTextureOffsets.get(node.name);\n            if (vnStart !== undefined) {\n                materialUniforms.vnStart.value = vnStart;\n            }\n            materialUniforms.pcIndex.value =\n                pcIndex !== undefined ? pcIndex : octree.visibleNodes.indexOf(node);\n            // Note: when changing uniforms in onBeforeRender, the flag uniformsNeedUpdate has to be\n            // set to true to instruct ThreeJS to upload them. See also\n            // https://github.com/mrdoob/three.js/issues/9870#issuecomment-368750182.\n            // Remove the cast to any after updating to Three.JS >= r113\n            material /*ShaderMaterial*/.uniformsNeedUpdate = true;\n        };\n    }\n}\nPointCloudMaterial.helperVec3 = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\nPointCloudMaterial.helperVec2 = new three__WEBPACK_IMPORTED_MODULE_0__.Vector2();\n__decorate([\n    uniform('bbSize')\n], PointCloudMaterial.prototype, \"bbSize\", void 0);\n__decorate([\n    uniform('clipExtent')\n], PointCloudMaterial.prototype, \"clipExtent\", void 0);\n__decorate([\n    uniform('depthMap')\n], PointCloudMaterial.prototype, \"depthMap\", void 0);\n__decorate([\n    uniform('fov')\n], PointCloudMaterial.prototype, \"fov\", void 0);\n__decorate([\n    uniform('heightMax')\n], PointCloudMaterial.prototype, \"heightMax\", void 0);\n__decorate([\n    uniform('heightMin')\n], PointCloudMaterial.prototype, \"heightMin\", void 0);\n__decorate([\n    uniform('intensityBrightness')\n], PointCloudMaterial.prototype, \"intensityBrightness\", void 0);\n__decorate([\n    uniform('intensityContrast')\n], PointCloudMaterial.prototype, \"intensityContrast\", void 0);\n__decorate([\n    uniform('intensityGamma')\n], PointCloudMaterial.prototype, \"intensityGamma\", void 0);\n__decorate([\n    uniform('intensityRange')\n], PointCloudMaterial.prototype, \"intensityRange\", void 0);\n__decorate([\n    uniform('maxSize')\n], PointCloudMaterial.prototype, \"maxSize\", void 0);\n__decorate([\n    uniform('minSize')\n], PointCloudMaterial.prototype, \"minSize\", void 0);\n__decorate([\n    uniform('octreeSize')\n], PointCloudMaterial.prototype, \"octreeSize\", void 0);\n__decorate([\n    uniform('opacity', true)\n], PointCloudMaterial.prototype, \"opacity\", void 0);\n__decorate([\n    uniform('rgbBrightness', true)\n], PointCloudMaterial.prototype, \"rgbBrightness\", void 0);\n__decorate([\n    uniform('rgbContrast', true)\n], PointCloudMaterial.prototype, \"rgbContrast\", void 0);\n__decorate([\n    uniform('rgbGamma', true)\n], PointCloudMaterial.prototype, \"rgbGamma\", void 0);\n__decorate([\n    uniform('screenHeight')\n], PointCloudMaterial.prototype, \"screenHeight\", void 0);\n__decorate([\n    uniform('screenWidth')\n], PointCloudMaterial.prototype, \"screenWidth\", void 0);\n__decorate([\n    uniform('size')\n], PointCloudMaterial.prototype, \"size\", void 0);\n__decorate([\n    uniform('spacing')\n], PointCloudMaterial.prototype, \"spacing\", void 0);\n__decorate([\n    uniform('transition')\n], PointCloudMaterial.prototype, \"transition\", void 0);\n__decorate([\n    uniform('uColor')\n], PointCloudMaterial.prototype, \"color\", void 0);\n__decorate([\n    uniform('wClassification')\n], PointCloudMaterial.prototype, \"weightClassification\", void 0);\n__decorate([\n    uniform('wElevation')\n], PointCloudMaterial.prototype, \"weightElevation\", void 0);\n__decorate([\n    uniform('wIntensity')\n], PointCloudMaterial.prototype, \"weightIntensity\", void 0);\n__decorate([\n    uniform('wReturnNumber')\n], PointCloudMaterial.prototype, \"weightReturnNumber\", void 0);\n__decorate([\n    uniform('wRGB')\n], PointCloudMaterial.prototype, \"weightRGB\", void 0);\n__decorate([\n    uniform('wSourceID')\n], PointCloudMaterial.prototype, \"weightSourceID\", void 0);\n__decorate([\n    uniform('opacityAttenuation')\n], PointCloudMaterial.prototype, \"opacityAttenuation\", void 0);\n__decorate([\n    uniform('filterByNormalThreshold')\n], PointCloudMaterial.prototype, \"filterByNormalThreshold\", void 0);\n__decorate([\n    uniform('highlightedPointCoordinate')\n], PointCloudMaterial.prototype, \"highlightedPointCoordinate\", void 0);\n__decorate([\n    uniform('highlightedPointColor')\n], PointCloudMaterial.prototype, \"highlightedPointColor\", void 0);\n__decorate([\n    uniform('enablePointHighlighting')\n], PointCloudMaterial.prototype, \"enablePointHighlighting\", void 0);\n__decorate([\n    uniform('highlightedPointScale')\n], PointCloudMaterial.prototype, \"highlightedPointScale\", void 0);\n__decorate([\n    uniform('normalFilteringMode')\n], PointCloudMaterial.prototype, \"normalFilteringMode\", void 0);\n__decorate([\n    uniform('backgroundMap')\n], PointCloudMaterial.prototype, \"backgroundMap\", void 0);\n__decorate([\n    uniform('pointCloudID')\n], PointCloudMaterial.prototype, \"pointCloudID\", void 0);\n__decorate([\n    uniform('pointCloudMixingMode')\n], PointCloudMaterial.prototype, \"pointCloudMixingMode\", void 0);\n__decorate([\n    uniform('stripeDistanceX')\n], PointCloudMaterial.prototype, \"stripeDistanceX\", void 0);\n__decorate([\n    uniform('stripeDistanceY')\n], PointCloudMaterial.prototype, \"stripeDistanceY\", void 0);\n__decorate([\n    uniform('stripeDivisorX')\n], PointCloudMaterial.prototype, \"stripeDivisorX\", void 0);\n__decorate([\n    uniform('stripeDivisorY')\n], PointCloudMaterial.prototype, \"stripeDivisorY\", void 0);\n__decorate([\n    uniform('pointCloudMixAngle')\n], PointCloudMaterial.prototype, \"pointCloudMixAngle\", void 0);\n__decorate([\n    requiresShaderUpdate()\n], PointCloudMaterial.prototype, \"useClipBox\", void 0);\n__decorate([\n    requiresShaderUpdate()\n], PointCloudMaterial.prototype, \"weighted\", void 0);\n__decorate([\n    requiresShaderUpdate()\n], PointCloudMaterial.prototype, \"pointColorType\", void 0);\n__decorate([\n    requiresShaderUpdate()\n], PointCloudMaterial.prototype, \"pointSizeType\", void 0);\n__decorate([\n    requiresShaderUpdate()\n], PointCloudMaterial.prototype, \"clipMode\", void 0);\n__decorate([\n    requiresShaderUpdate()\n], PointCloudMaterial.prototype, \"useEDL\", void 0);\n__decorate([\n    requiresShaderUpdate()\n], PointCloudMaterial.prototype, \"shape\", void 0);\n__decorate([\n    requiresShaderUpdate()\n], PointCloudMaterial.prototype, \"treeType\", void 0);\n__decorate([\n    requiresShaderUpdate()\n], PointCloudMaterial.prototype, \"pointOpacityType\", void 0);\n__decorate([\n    requiresShaderUpdate()\n], PointCloudMaterial.prototype, \"useFilterByNormal\", void 0);\n__decorate([\n    requiresShaderUpdate()\n], PointCloudMaterial.prototype, \"useTextureBlending\", void 0);\n__decorate([\n    requiresShaderUpdate()\n], PointCloudMaterial.prototype, \"usePointCloudMixing\", void 0);\n__decorate([\n    requiresShaderUpdate()\n], PointCloudMaterial.prototype, \"highlightPoint\", void 0);\nfunction makeUniform(type, value) {\n    return { type, value };\n}\nfunction getValid(a, b) {\n    return a === undefined ? b : a;\n}\n// tslint:disable:no-invalid-this\nfunction uniform(uniformName, requireSrcUpdate = false) {\n    return (target, propertyKey) => {\n        Object.defineProperty(target, propertyKey, {\n            get() {\n                return this.getUniform(uniformName);\n            },\n            set(value) {\n                if (value !== this.getUniform(uniformName)) {\n                    this.setUniform(uniformName, value);\n                    if (requireSrcUpdate) {\n                        this.updateShaderSource();\n                    }\n                }\n            },\n        });\n    };\n}\nfunction requiresShaderUpdate() {\n    return (target, propertyKey) => {\n        const fieldName = `_${propertyKey.toString()}`;\n        Object.defineProperty(target, propertyKey, {\n            get() {\n                return this[fieldName];\n            },\n            set(value) {\n                if (value !== this[fieldName]) {\n                    this[fieldName] = value;\n                    this.updateShaderSource();\n                }\n            },\n        });\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWF0ZXJpYWxzL3BvaW50LWNsb3VkLW1hdGVyaWFsLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb3RyZWUvLi9zcmMvbWF0ZXJpYWxzL3BvaW50LWNsb3VkLW1hdGVyaWFsLnRzPzk1NDAiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG59O1xuaW1wb3J0IHsgQWRkaXRpdmVCbGVuZGluZywgQ29sb3IsIExlc3NFcXVhbERlcHRoLCBOZWFyZXN0RmlsdGVyLCBOb0JsZW5kaW5nLCBSYXdTaGFkZXJNYXRlcmlhbCwgVGV4dHVyZSwgVmVjdG9yMiwgVmVjdG9yMywgfSBmcm9tICd0aHJlZSc7XG5pbXBvcnQgeyBERUZBVUxUX0hJR0hMSUdIVF9DT0xPUiwgREVGQVVMVF9NQVhfUE9JTlRfU0laRSwgREVGQVVMVF9NSU5fUE9JTlRfU0laRSwgREVGQVVMVF9SR0JfQlJJR0hUTkVTUywgREVGQVVMVF9SR0JfQ09OVFJBU1QsIERFRkFVTFRfUkdCX0dBTU1BLCBQRVJTUEVDVElWRV9DQU1FUkEsIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcbmltcG9ydCB7IGJ5TGV2ZWxBbmRJbmRleCB9IGZyb20gJy4uL3V0aWxzL3V0aWxzJztcbmltcG9ydCB7IERFRkFVTFRfQ0xBU1NJRklDQVRJT04gfSBmcm9tICcuL2NsYXNzaWZpY2F0aW9uJztcbmltcG9ydCB7IENsaXBNb2RlIH0gZnJvbSAnLi9jbGlwcGluZyc7XG5pbXBvcnQgeyBOb3JtYWxGaWx0ZXJpbmdNb2RlLCBQb2ludENsb3VkTWl4aW5nTW9kZSwgUG9pbnRDb2xvclR5cGUsIFBvaW50T3BhY2l0eVR5cGUsIFBvaW50U2hhcGUsIFBvaW50U2l6ZVR5cGUsIFRyZWVUeXBlLCB9IGZyb20gJy4vZW51bXMnO1xuaW1wb3J0IHsgU1BFQ1RSQUwgfSBmcm9tICcuL2dyYWRpZW50cyc7XG5pbXBvcnQgeyBnZW5lcmF0ZUNsYXNzaWZpY2F0aW9uVGV4dHVyZSwgZ2VuZXJhdGVEYXRhVGV4dHVyZSwgZ2VuZXJhdGVHcmFkaWVudFRleHR1cmUsIH0gZnJvbSAnLi90ZXh0dXJlLWdlbmVyYXRpb24nO1xuY29uc3QgVFJFRV9UWVBFX0RFRlMgPSB7XG4gICAgW1RyZWVUeXBlLk9DVFJFRV06ICd0cmVlX3R5cGVfb2N0cmVlJyxcbiAgICBbVHJlZVR5cGUuS0RUUkVFXTogJ3RyZWVfdHlwZV9rZHRyZWUnLFxufTtcbmNvbnN0IFNJWkVfVFlQRV9ERUZTID0ge1xuICAgIFtQb2ludFNpemVUeXBlLkZJWEVEXTogJ2ZpeGVkX3BvaW50X3NpemUnLFxuICAgIFtQb2ludFNpemVUeXBlLkFUVEVOVUFURURdOiAnYXR0ZW51YXRlZF9wb2ludF9zaXplJyxcbiAgICBbUG9pbnRTaXplVHlwZS5BREFQVElWRV06ICdhZGFwdGl2ZV9wb2ludF9zaXplJyxcbn07XG5jb25zdCBPUEFDSVRZX0RFRlMgPSB7XG4gICAgW1BvaW50T3BhY2l0eVR5cGUuQVRURU5VQVRFRF06ICdhdHRlbnVhdGVkX29wYWNpdHknLFxuICAgIFtQb2ludE9wYWNpdHlUeXBlLkZJWEVEXTogJ2ZpeGVkX29wYWNpdHknLFxufTtcbmNvbnN0IFNIQVBFX0RFRlMgPSB7XG4gICAgW1BvaW50U2hhcGUuU1FVQVJFXTogJ3NxdWFyZV9wb2ludF9zaGFwZScsXG4gICAgW1BvaW50U2hhcGUuQ0lSQ0xFXTogJ2NpcmNsZV9wb2ludF9zaGFwZScsXG4gICAgW1BvaW50U2hhcGUuUEFSQUJPTE9JRF06ICdwYXJhYm9sb2lkX3BvaW50X3NoYXBlJyxcbn07XG5jb25zdCBDT0xPUl9ERUZTID0ge1xuICAgIFtQb2ludENvbG9yVHlwZS5SR0JdOiAnY29sb3JfdHlwZV9yZ2InLFxuICAgIFtQb2ludENvbG9yVHlwZS5DT0xPUl06ICdjb2xvcl90eXBlX2NvbG9yJyxcbiAgICBbUG9pbnRDb2xvclR5cGUuREVQVEhdOiAnY29sb3JfdHlwZV9kZXB0aCcsXG4gICAgW1BvaW50Q29sb3JUeXBlLkhFSUdIVF06ICdjb2xvcl90eXBlX2hlaWdodCcsXG4gICAgW1BvaW50Q29sb3JUeXBlLklOVEVOU0lUWV06ICdjb2xvcl90eXBlX2ludGVuc2l0eScsXG4gICAgW1BvaW50Q29sb3JUeXBlLklOVEVOU0lUWV9HUkFESUVOVF06ICdjb2xvcl90eXBlX2ludGVuc2l0eV9ncmFkaWVudCcsXG4gICAgW1BvaW50Q29sb3JUeXBlLkxPRF06ICdjb2xvcl90eXBlX2xvZCcsXG4gICAgW1BvaW50Q29sb3JUeXBlLlBPSU5UX0lOREVYXTogJ2NvbG9yX3R5cGVfcG9pbnRfaW5kZXgnLFxuICAgIFtQb2ludENvbG9yVHlwZS5DTEFTU0lGSUNBVElPTl06ICdjb2xvcl90eXBlX2NsYXNzaWZpY2F0aW9uJyxcbiAgICBbUG9pbnRDb2xvclR5cGUuUkVUVVJOX05VTUJFUl06ICdjb2xvcl90eXBlX3JldHVybl9udW1iZXInLFxuICAgIFtQb2ludENvbG9yVHlwZS5TT1VSQ0VdOiAnY29sb3JfdHlwZV9zb3VyY2UnLFxuICAgIFtQb2ludENvbG9yVHlwZS5OT1JNQUxdOiAnY29sb3JfdHlwZV9ub3JtYWwnLFxuICAgIFtQb2ludENvbG9yVHlwZS5QSE9OR106ICdjb2xvcl90eXBlX3Bob25nJyxcbiAgICBbUG9pbnRDb2xvclR5cGUuUkdCX0hFSUdIVF06ICdjb2xvcl90eXBlX3JnYl9oZWlnaHQnLFxuICAgIFtQb2ludENvbG9yVHlwZS5DT01QT1NJVEVdOiAnY29sb3JfdHlwZV9jb21wb3NpdGUnLFxufTtcbmNvbnN0IENMSVBfTU9ERV9ERUZTID0ge1xuICAgIFtDbGlwTW9kZS5ESVNBQkxFRF06ICdjbGlwX2Rpc2FibGVkJyxcbiAgICBbQ2xpcE1vZGUuQ0xJUF9PVVRTSURFXTogJ2NsaXBfb3V0c2lkZScsXG4gICAgW0NsaXBNb2RlLkhJR0hMSUdIVF9JTlNJREVdOiAnY2xpcF9oaWdobGlnaHRfaW5zaWRlJyxcbiAgICBbQ2xpcE1vZGUuQ0xJUF9IT1JJWk9OVEFMTFldOiAnY2xpcF9ob3Jpem9udGFsbHknLFxuICAgIFtDbGlwTW9kZS5DTElQX1ZFUlRJQ0FMTFldOiAnY2xpcF92ZXJ0aWNhbGx5Jyxcbn07XG5leHBvcnQgY2xhc3MgUG9pbnRDbG91ZE1hdGVyaWFsIGV4dGVuZHMgUmF3U2hhZGVyTWF0ZXJpYWwge1xuICAgIGNvbnN0cnVjdG9yKHBhcmFtZXRlcnMgPSB7fSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVXNlIHRoZSBkcmF3aW5nIGJ1ZmZlciBzaXplIGluc3RlYWQgb2YgdGhlIGRvbSBjbGllbnQgd2lkdGggYW5kIGhlaWdodCB3aGVuIHBhc3NpbmcgdGhlIHNjcmVlbiBoZWlnaHQgYW5kIHNjcmVlbiB3aWR0aCB1bmlmb3JtcyB0byB0aGVcbiAgICAgICAgICogc2hhZGVyLiBUaGlzIGlzIHVzZWZ1bCBpZiB5b3UgaGF2ZSBvZmZzY3JlZW4gY2FudmFzZXMgKHdoaWNoIGluIHNvbWUgYnJvd3NlcnMgcmV0dXJuIDAgYXMgY2xpZW50IHdpZHRoIGFuZCBjbGllbnQgaGVpZ2h0KS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudXNlRHJhd2luZ0J1ZmZlclNpemUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5saWdodHMgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5mb2cgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jb2xvclJnYmEgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5udW1DbGlwQm94ZXMgPSAwO1xuICAgICAgICB0aGlzLmNsaXBCb3hlcyA9IFtdO1xuICAgICAgICB0aGlzLnZpc2libGVOb2RlVGV4dHVyZU9mZnNldHMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuX2dyYWRpZW50ID0gU1BFQ1RSQUw7XG4gICAgICAgIHRoaXMuZ3JhZGllbnRUZXh0dXJlID0gZ2VuZXJhdGVHcmFkaWVudFRleHR1cmUodGhpcy5fZ3JhZGllbnQpO1xuICAgICAgICB0aGlzLl9jbGFzc2lmaWNhdGlvbiA9IERFRkFVTFRfQ0xBU1NJRklDQVRJT047XG4gICAgICAgIHRoaXMuY2xhc3NpZmljYXRpb25UZXh0dXJlID0gZ2VuZXJhdGVDbGFzc2lmaWNhdGlvblRleHR1cmUodGhpcy5fY2xhc3NpZmljYXRpb24pO1xuICAgICAgICB0aGlzLnVuaWZvcm1zID0ge1xuICAgICAgICAgICAgYmJTaXplOiBtYWtlVW5pZm9ybSgnZnYnLCBbMCwgMCwgMF0pLFxuICAgICAgICAgICAgYmxlbmREZXB0aFN1cHBsZW1lbnQ6IG1ha2VVbmlmb3JtKCdmJywgMC4wKSxcbiAgICAgICAgICAgIGJsZW5kSGFyZG5lc3M6IG1ha2VVbmlmb3JtKCdmJywgMi4wKSxcbiAgICAgICAgICAgIGNsYXNzaWZpY2F0aW9uTFVUOiBtYWtlVW5pZm9ybSgndCcsIHRoaXMuY2xhc3NpZmljYXRpb25UZXh0dXJlIHx8IG5ldyBUZXh0dXJlKCkpLFxuICAgICAgICAgICAgY2xpcEJveENvdW50OiBtYWtlVW5pZm9ybSgnZicsIDApLFxuICAgICAgICAgICAgY2xpcEJveGVzOiBtYWtlVW5pZm9ybSgnTWF0cml4NGZ2JywgW10pLFxuICAgICAgICAgICAgY2xpcEV4dGVudDogbWFrZVVuaWZvcm0oJ2Z2JywgWzAuMCwgMC4wLCAxLjAsIDEuMF0pLFxuICAgICAgICAgICAgZGVwdGhNYXA6IG1ha2VVbmlmb3JtKCd0JywgbnVsbCksXG4gICAgICAgICAgICBkaWZmdXNlOiBtYWtlVW5pZm9ybSgnZnYnLCBbMSwgMSwgMV0pLFxuICAgICAgICAgICAgZm92OiBtYWtlVW5pZm9ybSgnZicsIDEuMCksXG4gICAgICAgICAgICBncmFkaWVudDogbWFrZVVuaWZvcm0oJ3QnLCB0aGlzLmdyYWRpZW50VGV4dHVyZSB8fCBuZXcgVGV4dHVyZSgpKSxcbiAgICAgICAgICAgIGhlaWdodE1heDogbWFrZVVuaWZvcm0oJ2YnLCAxLjApLFxuICAgICAgICAgICAgaGVpZ2h0TWluOiBtYWtlVW5pZm9ybSgnZicsIDAuMCksXG4gICAgICAgICAgICBpbnRlbnNpdHlCcmlnaHRuZXNzOiBtYWtlVW5pZm9ybSgnZicsIDApLFxuICAgICAgICAgICAgaW50ZW5zaXR5Q29udHJhc3Q6IG1ha2VVbmlmb3JtKCdmJywgMCksXG4gICAgICAgICAgICBpbnRlbnNpdHlHYW1tYTogbWFrZVVuaWZvcm0oJ2YnLCAxKSxcbiAgICAgICAgICAgIGludGVuc2l0eVJhbmdlOiBtYWtlVW5pZm9ybSgnZnYnLCBbMCwgNjUwMDBdKSxcbiAgICAgICAgICAgIGlzTGVhZk5vZGU6IG1ha2VVbmlmb3JtKCdiJywgMCksXG4gICAgICAgICAgICBsZXZlbDogbWFrZVVuaWZvcm0oJ2YnLCAwLjApLFxuICAgICAgICAgICAgbWF4U2l6ZTogbWFrZVVuaWZvcm0oJ2YnLCBERUZBVUxUX01BWF9QT0lOVF9TSVpFKSxcbiAgICAgICAgICAgIG1pblNpemU6IG1ha2VVbmlmb3JtKCdmJywgREVGQVVMVF9NSU5fUE9JTlRfU0laRSksXG4gICAgICAgICAgICBvY3RyZWVTaXplOiBtYWtlVW5pZm9ybSgnZicsIDApLFxuICAgICAgICAgICAgb3BhY2l0eTogbWFrZVVuaWZvcm0oJ2YnLCAxLjApLFxuICAgICAgICAgICAgcGNJbmRleDogbWFrZVVuaWZvcm0oJ2YnLCAwKSxcbiAgICAgICAgICAgIHJnYkJyaWdodG5lc3M6IG1ha2VVbmlmb3JtKCdmJywgREVGQVVMVF9SR0JfQlJJR0hUTkVTUyksXG4gICAgICAgICAgICByZ2JDb250cmFzdDogbWFrZVVuaWZvcm0oJ2YnLCBERUZBVUxUX1JHQl9DT05UUkFTVCksXG4gICAgICAgICAgICByZ2JHYW1tYTogbWFrZVVuaWZvcm0oJ2YnLCBERUZBVUxUX1JHQl9HQU1NQSksXG4gICAgICAgICAgICBzY3JlZW5IZWlnaHQ6IG1ha2VVbmlmb3JtKCdmJywgMS4wKSxcbiAgICAgICAgICAgIHNjcmVlbldpZHRoOiBtYWtlVW5pZm9ybSgnZicsIDEuMCksXG4gICAgICAgICAgICBzaXplOiBtYWtlVW5pZm9ybSgnZicsIDEpLFxuICAgICAgICAgICAgc3BhY2luZzogbWFrZVVuaWZvcm0oJ2YnLCAxLjApLFxuICAgICAgICAgICAgdG9Nb2RlbDogbWFrZVVuaWZvcm0oJ01hdHJpeDRmJywgW10pLFxuICAgICAgICAgICAgdHJhbnNpdGlvbjogbWFrZVVuaWZvcm0oJ2YnLCAwLjUpLFxuICAgICAgICAgICAgdUNvbG9yOiBtYWtlVW5pZm9ybSgnYycsIG5ldyBDb2xvcigweGZmZmZmZikpLFxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgdmlzaWJsZU5vZGVzOiBtYWtlVW5pZm9ybSgndCcsIHRoaXMudmlzaWJsZU5vZGVzVGV4dHVyZSB8fCBuZXcgVGV4dHVyZSgpKSxcbiAgICAgICAgICAgIHZuU3RhcnQ6IG1ha2VVbmlmb3JtKCdmJywgMC4wKSxcbiAgICAgICAgICAgIHdDbGFzc2lmaWNhdGlvbjogbWFrZVVuaWZvcm0oJ2YnLCAwKSxcbiAgICAgICAgICAgIHdFbGV2YXRpb246IG1ha2VVbmlmb3JtKCdmJywgMCksXG4gICAgICAgICAgICB3SW50ZW5zaXR5OiBtYWtlVW5pZm9ybSgnZicsIDApLFxuICAgICAgICAgICAgd1JldHVybk51bWJlcjogbWFrZVVuaWZvcm0oJ2YnLCAwKSxcbiAgICAgICAgICAgIHdSR0I6IG1ha2VVbmlmb3JtKCdmJywgMSksXG4gICAgICAgICAgICB3U291cmNlSUQ6IG1ha2VVbmlmb3JtKCdmJywgMCksXG4gICAgICAgICAgICBvcGFjaXR5QXR0ZW51YXRpb246IG1ha2VVbmlmb3JtKCdmJywgMSksXG4gICAgICAgICAgICBmaWx0ZXJCeU5vcm1hbFRocmVzaG9sZDogbWFrZVVuaWZvcm0oJ2YnLCAwKSxcbiAgICAgICAgICAgIGhpZ2hsaWdodGVkUG9pbnRDb29yZGluYXRlOiBtYWtlVW5pZm9ybSgnZnYnLCBuZXcgVmVjdG9yMygpKSxcbiAgICAgICAgICAgIGhpZ2hsaWdodGVkUG9pbnRDb2xvcjogbWFrZVVuaWZvcm0oJ2Z2JywgREVGQVVMVF9ISUdITElHSFRfQ09MT1IuY2xvbmUoKSksXG4gICAgICAgICAgICBlbmFibGVQb2ludEhpZ2hsaWdodGluZzogbWFrZVVuaWZvcm0oJ2InLCB0cnVlKSxcbiAgICAgICAgICAgIGhpZ2hsaWdodGVkUG9pbnRTY2FsZTogbWFrZVVuaWZvcm0oJ2YnLCAyLjApLFxuICAgICAgICAgICAgYmFja2dyb3VuZE1hcDogbWFrZVVuaWZvcm0oJ3QnLCBudWxsKSxcbiAgICAgICAgICAgIG5vcm1hbEZpbHRlcmluZ01vZGU6IG1ha2VVbmlmb3JtKCdpJywgTm9ybWFsRmlsdGVyaW5nTW9kZS5BQlNPTFVURV9OT1JNQUxfRklMVEVSSU5HX01PREUpLFxuICAgICAgICAgICAgcG9pbnRDbG91ZElEOiBtYWtlVW5pZm9ybSgnZicsIDIpLFxuICAgICAgICAgICAgcG9pbnRDbG91ZE1peGluZ01vZGU6IG1ha2VVbmlmb3JtKCdpJywgUG9pbnRDbG91ZE1peGluZ01vZGUuQ0hFQ0tCT0FSRCksXG4gICAgICAgICAgICBzdHJpcGVEaXN0YW5jZVg6IG1ha2VVbmlmb3JtKCdmJywgNSksXG4gICAgICAgICAgICBzdHJpcGVEaXN0YW5jZVk6IG1ha2VVbmlmb3JtKCdmJywgNSksXG4gICAgICAgICAgICBzdHJpcGVEaXZpc29yWDogbWFrZVVuaWZvcm0oJ2YnLCAyKSxcbiAgICAgICAgICAgIHN0cmlwZURpdmlzb3JZOiBtYWtlVW5pZm9ybSgnZicsIDIpLFxuICAgICAgICAgICAgcG9pbnRDbG91ZE1peEFuZ2xlOiBtYWtlVW5pZm9ybSgnZicsIDMxKSxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy51c2VDbGlwQm94ID0gZmFsc2U7XG4gICAgICAgIHRoaXMud2VpZ2h0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5wb2ludENvbG9yVHlwZSA9IFBvaW50Q29sb3JUeXBlLlJHQjtcbiAgICAgICAgdGhpcy5wb2ludFNpemVUeXBlID0gUG9pbnRTaXplVHlwZS5BREFQVElWRTtcbiAgICAgICAgdGhpcy5jbGlwTW9kZSA9IENsaXBNb2RlLkRJU0FCTEVEO1xuICAgICAgICB0aGlzLnVzZUVETCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnNoYXBlID0gUG9pbnRTaGFwZS5TUVVBUkU7XG4gICAgICAgIHRoaXMudHJlZVR5cGUgPSBUcmVlVHlwZS5PQ1RSRUU7XG4gICAgICAgIHRoaXMucG9pbnRPcGFjaXR5VHlwZSA9IFBvaW50T3BhY2l0eVR5cGUuRklYRUQ7XG4gICAgICAgIHRoaXMudXNlRmlsdGVyQnlOb3JtYWwgPSBmYWxzZTtcbiAgICAgICAgdGhpcy51c2VUZXh0dXJlQmxlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy51c2VQb2ludENsb3VkTWl4aW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaGlnaGxpZ2h0UG9pbnQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVzID0ge1xuICAgICAgICAgICAgcG9zaXRpb246IHsgdHlwZTogJ2Z2JywgdmFsdWU6IFtdIH0sXG4gICAgICAgICAgICBjb2xvcjogeyB0eXBlOiAnZnYnLCB2YWx1ZTogW10gfSxcbiAgICAgICAgICAgIG5vcm1hbDogeyB0eXBlOiAnZnYnLCB2YWx1ZTogW10gfSxcbiAgICAgICAgICAgIGludGVuc2l0eTogeyB0eXBlOiAnZicsIHZhbHVlOiBbXSB9LFxuICAgICAgICAgICAgY2xhc3NpZmljYXRpb246IHsgdHlwZTogJ2YnLCB2YWx1ZTogW10gfSxcbiAgICAgICAgICAgIHJldHVybk51bWJlcjogeyB0eXBlOiAnZicsIHZhbHVlOiBbXSB9LFxuICAgICAgICAgICAgbnVtYmVyT2ZSZXR1cm5zOiB7IHR5cGU6ICdmJywgdmFsdWU6IFtdIH0sXG4gICAgICAgICAgICBwb2ludFNvdXJjZUlEOiB7IHR5cGU6ICdmJywgdmFsdWU6IFtdIH0sXG4gICAgICAgICAgICBpbmRpY2VzOiB7IHR5cGU6ICdmdicsIHZhbHVlOiBbXSB9LFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCB0ZXggPSAodGhpcy52aXNpYmxlTm9kZXNUZXh0dXJlID0gZ2VuZXJhdGVEYXRhVGV4dHVyZSgyMDQ4LCAxLCBuZXcgQ29sb3IoMHhmZmZmZmYpKSk7XG4gICAgICAgIHRleC5taW5GaWx0ZXIgPSBOZWFyZXN0RmlsdGVyO1xuICAgICAgICB0ZXgubWFnRmlsdGVyID0gTmVhcmVzdEZpbHRlcjtcbiAgICAgICAgdGhpcy5zZXRVbmlmb3JtKCd2aXNpYmxlTm9kZXMnLCB0ZXgpO1xuICAgICAgICB0aGlzLnRyZWVUeXBlID0gZ2V0VmFsaWQocGFyYW1ldGVycy50cmVlVHlwZSwgVHJlZVR5cGUuT0NUUkVFKTtcbiAgICAgICAgdGhpcy5zaXplID0gZ2V0VmFsaWQocGFyYW1ldGVycy5zaXplLCAxLjApO1xuICAgICAgICB0aGlzLm1pblNpemUgPSBnZXRWYWxpZChwYXJhbWV0ZXJzLm1pblNpemUsIDIuMCk7XG4gICAgICAgIHRoaXMubWF4U2l6ZSA9IGdldFZhbGlkKHBhcmFtZXRlcnMubWF4U2l6ZSwgNTAuMCk7XG4gICAgICAgIHRoaXMuY29sb3JSZ2JhID0gQm9vbGVhbihwYXJhbWV0ZXJzLmNvbG9yUmdiYSk7XG4gICAgICAgIHRoaXMuY2xhc3NpZmljYXRpb24gPSBERUZBVUxUX0NMQVNTSUZJQ0FUSU9OO1xuICAgICAgICB0aGlzLmRlZmF1bHRBdHRyaWJ1dGVWYWx1ZXMubm9ybWFsID0gWzAsIDAsIDBdO1xuICAgICAgICB0aGlzLmRlZmF1bHRBdHRyaWJ1dGVWYWx1ZXMuY2xhc3NpZmljYXRpb24gPSBbMCwgMCwgMF07XG4gICAgICAgIHRoaXMuZGVmYXVsdEF0dHJpYnV0ZVZhbHVlcy5pbmRpY2VzID0gWzAsIDAsIDAsIDBdO1xuICAgICAgICB0aGlzLnZlcnRleENvbG9ycyA9IHRydWU7XG4gICAgICAgIHRoaXMudXBkYXRlU2hhZGVyU291cmNlKCk7XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgICAgICAgaWYgKHRoaXMuZ3JhZGllbnRUZXh0dXJlKSB7XG4gICAgICAgICAgICB0aGlzLmdyYWRpZW50VGV4dHVyZS5kaXNwb3NlKCk7XG4gICAgICAgICAgICB0aGlzLmdyYWRpZW50VGV4dHVyZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy52aXNpYmxlTm9kZXNUZXh0dXJlKSB7XG4gICAgICAgICAgICB0aGlzLnZpc2libGVOb2Rlc1RleHR1cmUuZGlzcG9zZSgpO1xuICAgICAgICAgICAgdGhpcy52aXNpYmxlTm9kZXNUZXh0dXJlID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2xlYXJWaXNpYmxlTm9kZVRleHR1cmVPZmZzZXRzKCk7XG4gICAgICAgIGlmICh0aGlzLmNsYXNzaWZpY2F0aW9uVGV4dHVyZSkge1xuICAgICAgICAgICAgdGhpcy5jbGFzc2lmaWNhdGlvblRleHR1cmUuZGlzcG9zZSgpO1xuICAgICAgICAgICAgdGhpcy5jbGFzc2lmaWNhdGlvblRleHR1cmUgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZGVwdGhNYXApIHtcbiAgICAgICAgICAgIHRoaXMuZGVwdGhNYXAuZGlzcG9zZSgpO1xuICAgICAgICAgICAgdGhpcy5kZXB0aE1hcCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5iYWNrZ3JvdW5kTWFwKSB7XG4gICAgICAgICAgICB0aGlzLmJhY2tncm91bmRNYXAuZGlzcG9zZSgpO1xuICAgICAgICAgICAgdGhpcy5iYWNrZ3JvdW5kTWFwID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNsZWFyVmlzaWJsZU5vZGVUZXh0dXJlT2Zmc2V0cygpIHtcbiAgICAgICAgdGhpcy52aXNpYmxlTm9kZVRleHR1cmVPZmZzZXRzLmNsZWFyKCk7XG4gICAgfVxuICAgIHVwZGF0ZVNoYWRlclNvdXJjZSgpIHtcbiAgICAgICAgdGhpcy52ZXJ0ZXhTaGFkZXIgPSB0aGlzLmFwcGx5RGVmaW5lcyhyZXF1aXJlKCcuL3NoYWRlcnMvcG9pbnRjbG91ZC52ZXJ0JykuZGVmYXVsdCk7XG4gICAgICAgIHRoaXMuZnJhZ21lbnRTaGFkZXIgPSB0aGlzLmFwcGx5RGVmaW5lcyhyZXF1aXJlKCcuL3NoYWRlcnMvcG9pbnRjbG91ZC5mcmFnJykuZGVmYXVsdCk7XG4gICAgICAgIGlmICh0aGlzLm9wYWNpdHkgPT09IDEuMCkge1xuICAgICAgICAgICAgdGhpcy5ibGVuZGluZyA9IE5vQmxlbmRpbmc7XG4gICAgICAgICAgICB0aGlzLnRyYW5zcGFyZW50ID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmRlcHRoVGVzdCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmRlcHRoV3JpdGUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5kZXB0aEZ1bmMgPSBMZXNzRXF1YWxEZXB0aDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLm9wYWNpdHkgPCAxLjAgJiYgIXRoaXMudXNlRURMKSB7XG4gICAgICAgICAgICB0aGlzLmJsZW5kaW5nID0gQWRkaXRpdmVCbGVuZGluZztcbiAgICAgICAgICAgIHRoaXMudHJhbnNwYXJlbnQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5kZXB0aFRlc3QgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuZGVwdGhXcml0ZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMud2VpZ2h0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuYmxlbmRpbmcgPSBBZGRpdGl2ZUJsZW5kaW5nO1xuICAgICAgICAgICAgdGhpcy50cmFuc3BhcmVudCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmRlcHRoVGVzdCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmRlcHRoV3JpdGUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuZGVwdGhGdW5jID0gTGVzc0VxdWFsRGVwdGg7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5uZWVkc1VwZGF0ZSA9IHRydWU7XG4gICAgfVxuICAgIGFwcGx5RGVmaW5lcyhzaGFkZXJTcmMpIHtcbiAgICAgICAgY29uc3QgcGFydHMgPSBbXTtcbiAgICAgICAgZnVuY3Rpb24gZGVmaW5lKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBwYXJ0cy5wdXNoKGAjZGVmaW5lICR7dmFsdWV9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZGVmaW5lKFRSRUVfVFlQRV9ERUZTW3RoaXMudHJlZVR5cGVdKTtcbiAgICAgICAgZGVmaW5lKFNJWkVfVFlQRV9ERUZTW3RoaXMucG9pbnRTaXplVHlwZV0pO1xuICAgICAgICBkZWZpbmUoU0hBUEVfREVGU1t0aGlzLnNoYXBlXSk7XG4gICAgICAgIGRlZmluZShDT0xPUl9ERUZTW3RoaXMucG9pbnRDb2xvclR5cGVdKTtcbiAgICAgICAgZGVmaW5lKENMSVBfTU9ERV9ERUZTW3RoaXMuY2xpcE1vZGVdKTtcbiAgICAgICAgZGVmaW5lKE9QQUNJVFlfREVGU1t0aGlzLnBvaW50T3BhY2l0eVR5cGVdKTtcbiAgICAgICAgLy8gV2Ugb25seSBwZXJmb3JtIGdhbW1hIGFuZCBicmlnaHRuZXNzL2NvbnRyYXN0IGNhbGN1bGF0aW9ucyBwZXIgcG9pbnQgaWYgdmFsdWVzIGFyZSBzcGVjaWZpZWQuXG4gICAgICAgIGlmICh0aGlzLnJnYkdhbW1hICE9PSBERUZBVUxUX1JHQl9HQU1NQSB8fFxuICAgICAgICAgICAgdGhpcy5yZ2JCcmlnaHRuZXNzICE9PSBERUZBVUxUX1JHQl9CUklHSFRORVNTIHx8XG4gICAgICAgICAgICB0aGlzLnJnYkNvbnRyYXN0ICE9PSBERUZBVUxUX1JHQl9DT05UUkFTVCkge1xuICAgICAgICAgICAgZGVmaW5lKCd1c2VfcmdiX2dhbW1hX2NvbnRyYXN0X2JyaWdodG5lc3MnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy51c2VGaWx0ZXJCeU5vcm1hbCkge1xuICAgICAgICAgICAgZGVmaW5lKCd1c2VfZmlsdGVyX2J5X25vcm1hbCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnVzZUVETCkge1xuICAgICAgICAgICAgZGVmaW5lKCd1c2VfZWRsJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMud2VpZ2h0ZWQpIHtcbiAgICAgICAgICAgIGRlZmluZSgnd2VpZ2h0ZWRfc3BsYXRzJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubnVtQ2xpcEJveGVzID4gMCkge1xuICAgICAgICAgICAgZGVmaW5lKCd1c2VfY2xpcF9ib3gnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5oaWdobGlnaHRQb2ludCkge1xuICAgICAgICAgICAgZGVmaW5lKCdoaWdobGlnaHRfcG9pbnQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy51c2VUZXh0dXJlQmxlbmRpbmcpIHtcbiAgICAgICAgICAgIGRlZmluZSgndXNlX3RleHR1cmVfYmxlbmRpbmcnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy51c2VQb2ludENsb3VkTWl4aW5nKSB7XG4gICAgICAgICAgICBkZWZpbmUoJ3VzZV9wb2ludF9jbG91ZF9taXhpbmcnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jb2xvclJnYmEpIHtcbiAgICAgICAgICAgIGRlZmluZSgnY29sb3JfcmdiYScpO1xuICAgICAgICB9XG4gICAgICAgIGRlZmluZSgnTUFYX1BPSU5UX0xJR0hUUyAwJyk7XG4gICAgICAgIGRlZmluZSgnTUFYX0RJUl9MSUdIVFMgMCcpO1xuICAgICAgICBwYXJ0cy5wdXNoKHNoYWRlclNyYyk7XG4gICAgICAgIHJldHVybiBwYXJ0cy5qb2luKCdcXG4nKTtcbiAgICB9XG4gICAgc2V0UG9pbnRDbG91ZE1peGluZ01vZGUobW9kZSkge1xuICAgICAgICB0aGlzLnBvaW50Q2xvdWRNaXhpbmdNb2RlID0gbW9kZTtcbiAgICB9XG4gICAgZ2V0UG9pbnRDbG91ZE1peGluZ01vZGUoKSB7XG4gICAgICAgIGlmICh0aGlzLnBvaW50Q2xvdWRNaXhpbmdNb2RlID09PSBQb2ludENsb3VkTWl4aW5nTW9kZS5TVFJJUEVTKSB7XG4gICAgICAgICAgICByZXR1cm4gUG9pbnRDbG91ZE1peGluZ01vZGUuU1RSSVBFUztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUG9pbnRDbG91ZE1peGluZ01vZGUuQ0hFQ0tCT0FSRDtcbiAgICB9XG4gICAgc2V0Q2xpcEJveGVzKGNsaXBCb3hlcykge1xuICAgICAgICBpZiAoIWNsaXBCb3hlcykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2xpcEJveGVzID0gY2xpcEJveGVzO1xuICAgICAgICBjb25zdCBkb1VwZGF0ZSA9IHRoaXMubnVtQ2xpcEJveGVzICE9PSBjbGlwQm94ZXMubGVuZ3RoICYmIChjbGlwQm94ZXMubGVuZ3RoID09PSAwIHx8IHRoaXMubnVtQ2xpcEJveGVzID09PSAwKTtcbiAgICAgICAgdGhpcy5udW1DbGlwQm94ZXMgPSBjbGlwQm94ZXMubGVuZ3RoO1xuICAgICAgICB0aGlzLnNldFVuaWZvcm0oJ2NsaXBCb3hDb3VudCcsIHRoaXMubnVtQ2xpcEJveGVzKTtcbiAgICAgICAgaWYgKGRvVXBkYXRlKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVNoYWRlclNvdXJjZSgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNsaXBCb3hlc0xlbmd0aCA9IHRoaXMubnVtQ2xpcEJveGVzICogMTY7XG4gICAgICAgIGNvbnN0IGNsaXBCb3hlc0FycmF5ID0gbmV3IEZsb2F0MzJBcnJheShjbGlwQm94ZXNMZW5ndGgpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubnVtQ2xpcEJveGVzOyBpKyspIHtcbiAgICAgICAgICAgIGNsaXBCb3hlc0FycmF5LnNldChjbGlwQm94ZXNbaV0uaW52ZXJzZS5lbGVtZW50cywgMTYgKiBpKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNsaXBCb3hlc0xlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaXNOYU4oY2xpcEJveGVzQXJyYXlbaV0pKSB7XG4gICAgICAgICAgICAgICAgY2xpcEJveGVzQXJyYXlbaV0gPSBJbmZpbml0eTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNldFVuaWZvcm0oJ2NsaXBCb3hlcycsIGNsaXBCb3hlc0FycmF5KTtcbiAgICB9XG4gICAgZ2V0IGdyYWRpZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZ3JhZGllbnQ7XG4gICAgfVxuICAgIHNldCBncmFkaWVudCh2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5fZ3JhZGllbnQgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9ncmFkaWVudCA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5ncmFkaWVudFRleHR1cmUgPSBnZW5lcmF0ZUdyYWRpZW50VGV4dHVyZSh0aGlzLl9ncmFkaWVudCk7XG4gICAgICAgICAgICB0aGlzLnNldFVuaWZvcm0oJ2dyYWRpZW50JywgdGhpcy5ncmFkaWVudFRleHR1cmUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBjbGFzc2lmaWNhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsYXNzaWZpY2F0aW9uO1xuICAgIH1cbiAgICBzZXQgY2xhc3NpZmljYXRpb24odmFsdWUpIHtcbiAgICAgICAgY29uc3QgY29weSA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyh2YWx1ZSkpIHtcbiAgICAgICAgICAgIGNvcHlba2V5XSA9IHZhbHVlW2tleV0uY2xvbmUoKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgaXNFcXVhbCA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5fY2xhc3NpZmljYXRpb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaXNFcXVhbCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaXNFcXVhbCA9IE9iamVjdC5rZXlzKGNvcHkpLmxlbmd0aCA9PT0gT2JqZWN0LmtleXModGhpcy5fY2xhc3NpZmljYXRpb24pLmxlbmd0aDtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKGNvcHkpKSB7XG4gICAgICAgICAgICAgICAgaXNFcXVhbCA9IGlzRXF1YWwgJiYgdGhpcy5fY2xhc3NpZmljYXRpb25ba2V5XSAhPT0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGlzRXF1YWwgPSBpc0VxdWFsICYmIGNvcHlba2V5XS5lcXVhbHModGhpcy5fY2xhc3NpZmljYXRpb25ba2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0VxdWFsKSB7XG4gICAgICAgICAgICB0aGlzLl9jbGFzc2lmaWNhdGlvbiA9IGNvcHk7XG4gICAgICAgICAgICB0aGlzLnJlY29tcHV0ZUNsYXNzaWZpY2F0aW9uKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVjb21wdXRlQ2xhc3NpZmljYXRpb24oKSB7XG4gICAgICAgIHRoaXMuY2xhc3NpZmljYXRpb25UZXh0dXJlID0gZ2VuZXJhdGVDbGFzc2lmaWNhdGlvblRleHR1cmUodGhpcy5fY2xhc3NpZmljYXRpb24pO1xuICAgICAgICB0aGlzLnNldFVuaWZvcm0oJ2NsYXNzaWZpY2F0aW9uTFVUJywgdGhpcy5jbGFzc2lmaWNhdGlvblRleHR1cmUpO1xuICAgIH1cbiAgICBnZXQgZWxldmF0aW9uUmFuZ2UoKSB7XG4gICAgICAgIHJldHVybiBbdGhpcy5oZWlnaHRNaW4sIHRoaXMuaGVpZ2h0TWF4XTtcbiAgICB9XG4gICAgc2V0IGVsZXZhdGlvblJhbmdlKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuaGVpZ2h0TWluID0gdmFsdWVbMF07XG4gICAgICAgIHRoaXMuaGVpZ2h0TWF4ID0gdmFsdWVbMV07XG4gICAgfVxuICAgIGdldFVuaWZvcm0obmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy51bmlmb3JtcyA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkIDogdGhpcy51bmlmb3Jtc1tuYW1lXS52YWx1ZTtcbiAgICB9XG4gICAgc2V0VW5pZm9ybShuYW1lLCB2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy51bmlmb3JtcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdU9iaiA9IHRoaXMudW5pZm9ybXNbbmFtZV07XG4gICAgICAgIGlmICh1T2JqLnR5cGUgPT09ICdjJykge1xuICAgICAgICAgICAgdU9iai52YWx1ZS5jb3B5KHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh2YWx1ZSAhPT0gdU9iai52YWx1ZSkge1xuICAgICAgICAgICAgdU9iai52YWx1ZSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHVwZGF0ZU1hdGVyaWFsKG9jdHJlZSwgdmlzaWJsZU5vZGVzLCBjYW1lcmEsIHJlbmRlcmVyKSB7XG4gICAgICAgIGNvbnN0IHBpeGVsUmF0aW8gPSByZW5kZXJlci5nZXRQaXhlbFJhdGlvKCk7XG4gICAgICAgIGlmIChjYW1lcmEudHlwZSA9PT0gUEVSU1BFQ1RJVkVfQ0FNRVJBKSB7XG4gICAgICAgICAgICB0aGlzLmZvdiA9IGNhbWVyYS5mb3YgKiAoTWF0aC5QSSAvIDE4MCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmZvdiA9IE1hdGguUEkgLyAyOyAvLyB3aWxsIHJlc3VsdCBpbiBzbG9wZSA9IDEgaW4gdGhlIHNoYWRlclxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlbmRlclRhcmdldCA9IHJlbmRlcmVyLmdldFJlbmRlclRhcmdldCgpO1xuICAgICAgICBpZiAocmVuZGVyVGFyZ2V0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnNjcmVlbldpZHRoID0gcmVuZGVyVGFyZ2V0LndpZHRoO1xuICAgICAgICAgICAgdGhpcy5zY3JlZW5IZWlnaHQgPSByZW5kZXJUYXJnZXQuaGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zY3JlZW5XaWR0aCA9IHJlbmRlcmVyLmRvbUVsZW1lbnQuY2xpZW50V2lkdGggKiBwaXhlbFJhdGlvO1xuICAgICAgICAgICAgdGhpcy5zY3JlZW5IZWlnaHQgPSByZW5kZXJlci5kb21FbGVtZW50LmNsaWVudEhlaWdodCAqIHBpeGVsUmF0aW87XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMudXNlRHJhd2luZ0J1ZmZlclNpemUpIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLmdldERyYXdpbmdCdWZmZXJTaXplKFBvaW50Q2xvdWRNYXRlcmlhbC5oZWxwZXJWZWMyKTtcbiAgICAgICAgICAgIHRoaXMuc2NyZWVuV2lkdGggPSBQb2ludENsb3VkTWF0ZXJpYWwuaGVscGVyVmVjMi53aWR0aDtcbiAgICAgICAgICAgIHRoaXMuc2NyZWVuSGVpZ2h0ID0gUG9pbnRDbG91ZE1hdGVyaWFsLmhlbHBlclZlYzIuaGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1heFNjYWxlID0gTWF0aC5tYXgob2N0cmVlLnNjYWxlLngsIG9jdHJlZS5zY2FsZS55LCBvY3RyZWUuc2NhbGUueik7XG4gICAgICAgIHRoaXMuc3BhY2luZyA9IG9jdHJlZS5wY29HZW9tZXRyeS5zcGFjaW5nICogbWF4U2NhbGU7XG4gICAgICAgIHRoaXMub2N0cmVlU2l6ZSA9IG9jdHJlZS5wY29HZW9tZXRyeS5ib3VuZGluZ0JveC5nZXRTaXplKFBvaW50Q2xvdWRNYXRlcmlhbC5oZWxwZXJWZWMzKS54O1xuICAgICAgICBpZiAodGhpcy5wb2ludFNpemVUeXBlID09PSBQb2ludFNpemVUeXBlLkFEQVBUSVZFIHx8XG4gICAgICAgICAgICB0aGlzLnBvaW50Q29sb3JUeXBlID09PSBQb2ludENvbG9yVHlwZS5MT0QpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVmlzaWJpbGl0eVRleHR1cmVEYXRhKHZpc2libGVOb2Rlcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdXBkYXRlVmlzaWJpbGl0eVRleHR1cmVEYXRhKG5vZGVzKSB7XG4gICAgICAgIG5vZGVzLnNvcnQoYnlMZXZlbEFuZEluZGV4KTtcbiAgICAgICAgY29uc3QgZGF0YSA9IG5ldyBVaW50OEFycmF5KG5vZGVzLmxlbmd0aCAqIDQpO1xuICAgICAgICBjb25zdCBvZmZzZXRzVG9DaGlsZCA9IG5ldyBBcnJheShub2Rlcy5sZW5ndGgpLmZpbGwoSW5maW5pdHkpO1xuICAgICAgICB0aGlzLnZpc2libGVOb2RlVGV4dHVyZU9mZnNldHMuY2xlYXIoKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3Qgbm9kZSA9IG5vZGVzW2ldO1xuICAgICAgICAgICAgdGhpcy52aXNpYmxlTm9kZVRleHR1cmVPZmZzZXRzLnNldChub2RlLm5hbWUsIGkpO1xuICAgICAgICAgICAgaWYgKGkgPiAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyZW50TmFtZSA9IG5vZGUubmFtZS5zbGljZSgwLCAtMSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyZW50T2Zmc2V0ID0gdGhpcy52aXNpYmxlTm9kZVRleHR1cmVPZmZzZXRzLmdldChwYXJlbnROYW1lKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnRPZmZzZXRUb0NoaWxkID0gaSAtIHBhcmVudE9mZnNldDtcbiAgICAgICAgICAgICAgICBvZmZzZXRzVG9DaGlsZFtwYXJlbnRPZmZzZXRdID0gTWF0aC5taW4ob2Zmc2V0c1RvQ2hpbGRbcGFyZW50T2Zmc2V0XSwgcGFyZW50T2Zmc2V0VG9DaGlsZCk7XG4gICAgICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGU6bm8tYml0d2lzZVxuICAgICAgICAgICAgICAgIGNvbnN0IG9mZnNldCA9IHBhcmVudE9mZnNldCAqIDQ7XG4gICAgICAgICAgICAgICAgZGF0YVtvZmZzZXRdID0gZGF0YVtvZmZzZXRdIHwgKDEgPDwgbm9kZS5pbmRleCk7XG4gICAgICAgICAgICAgICAgZGF0YVtvZmZzZXQgKyAxXSA9IG9mZnNldHNUb0NoaWxkW3BhcmVudE9mZnNldF0gPj4gODtcbiAgICAgICAgICAgICAgICBkYXRhW29mZnNldCArIDJdID0gb2Zmc2V0c1RvQ2hpbGRbcGFyZW50T2Zmc2V0XSAlIDI1NjtcbiAgICAgICAgICAgICAgICAvLyB0c2xpbnQ6ZW5hYmxlOm5vLWJpdHdpc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRhdGFbaSAqIDQgKyAzXSA9IG5vZGUubmFtZS5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdGV4dHVyZSA9IHRoaXMudmlzaWJsZU5vZGVzVGV4dHVyZTtcbiAgICAgICAgaWYgKHRleHR1cmUpIHtcbiAgICAgICAgICAgIHRleHR1cmUuaW1hZ2UuZGF0YS5zZXQoZGF0YSk7XG4gICAgICAgICAgICB0ZXh0dXJlLm5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgbWFrZU9uQmVmb3JlUmVuZGVyKG9jdHJlZSwgbm9kZSwgcGNJbmRleCkge1xuICAgICAgICByZXR1cm4gKF9yZW5kZXJlciwgX3NjZW5lLCBfY2FtZXJhLCBfZ2VvbWV0cnksIG1hdGVyaWFsKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwb2ludENsb3VkTWF0ZXJpYWwgPSBtYXRlcmlhbDtcbiAgICAgICAgICAgIGNvbnN0IG1hdGVyaWFsVW5pZm9ybXMgPSBwb2ludENsb3VkTWF0ZXJpYWwudW5pZm9ybXM7XG4gICAgICAgICAgICBtYXRlcmlhbFVuaWZvcm1zLmxldmVsLnZhbHVlID0gbm9kZS5sZXZlbDtcbiAgICAgICAgICAgIG1hdGVyaWFsVW5pZm9ybXMuaXNMZWFmTm9kZS52YWx1ZSA9IG5vZGUuaXNMZWFmTm9kZTtcbiAgICAgICAgICAgIGNvbnN0IHZuU3RhcnQgPSBwb2ludENsb3VkTWF0ZXJpYWwudmlzaWJsZU5vZGVUZXh0dXJlT2Zmc2V0cy5nZXQobm9kZS5uYW1lKTtcbiAgICAgICAgICAgIGlmICh2blN0YXJ0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBtYXRlcmlhbFVuaWZvcm1zLnZuU3RhcnQudmFsdWUgPSB2blN0YXJ0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWF0ZXJpYWxVbmlmb3Jtcy5wY0luZGV4LnZhbHVlID1cbiAgICAgICAgICAgICAgICBwY0luZGV4ICE9PSB1bmRlZmluZWQgPyBwY0luZGV4IDogb2N0cmVlLnZpc2libGVOb2Rlcy5pbmRleE9mKG5vZGUpO1xuICAgICAgICAgICAgLy8gTm90ZTogd2hlbiBjaGFuZ2luZyB1bmlmb3JtcyBpbiBvbkJlZm9yZVJlbmRlciwgdGhlIGZsYWcgdW5pZm9ybXNOZWVkVXBkYXRlIGhhcyB0byBiZVxuICAgICAgICAgICAgLy8gc2V0IHRvIHRydWUgdG8gaW5zdHJ1Y3QgVGhyZWVKUyB0byB1cGxvYWQgdGhlbS4gU2VlIGFsc29cbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tcmRvb2IvdGhyZWUuanMvaXNzdWVzLzk4NzAjaXNzdWVjb21tZW50LTM2ODc1MDE4Mi5cbiAgICAgICAgICAgIC8vIFJlbW92ZSB0aGUgY2FzdCB0byBhbnkgYWZ0ZXIgdXBkYXRpbmcgdG8gVGhyZWUuSlMgPj0gcjExM1xuICAgICAgICAgICAgbWF0ZXJpYWwgLypTaGFkZXJNYXRlcmlhbCovLnVuaWZvcm1zTmVlZFVwZGF0ZSA9IHRydWU7XG4gICAgICAgIH07XG4gICAgfVxufVxuUG9pbnRDbG91ZE1hdGVyaWFsLmhlbHBlclZlYzMgPSBuZXcgVmVjdG9yMygpO1xuUG9pbnRDbG91ZE1hdGVyaWFsLmhlbHBlclZlYzIgPSBuZXcgVmVjdG9yMigpO1xuX19kZWNvcmF0ZShbXG4gICAgdW5pZm9ybSgnYmJTaXplJylcbl0sIFBvaW50Q2xvdWRNYXRlcmlhbC5wcm90b3R5cGUsIFwiYmJTaXplXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICB1bmlmb3JtKCdjbGlwRXh0ZW50Jylcbl0sIFBvaW50Q2xvdWRNYXRlcmlhbC5wcm90b3R5cGUsIFwiY2xpcEV4dGVudFwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgdW5pZm9ybSgnZGVwdGhNYXAnKVxuXSwgUG9pbnRDbG91ZE1hdGVyaWFsLnByb3RvdHlwZSwgXCJkZXB0aE1hcFwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgdW5pZm9ybSgnZm92Jylcbl0sIFBvaW50Q2xvdWRNYXRlcmlhbC5wcm90b3R5cGUsIFwiZm92XCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICB1bmlmb3JtKCdoZWlnaHRNYXgnKVxuXSwgUG9pbnRDbG91ZE1hdGVyaWFsLnByb3RvdHlwZSwgXCJoZWlnaHRNYXhcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHVuaWZvcm0oJ2hlaWdodE1pbicpXG5dLCBQb2ludENsb3VkTWF0ZXJpYWwucHJvdG90eXBlLCBcImhlaWdodE1pblwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgdW5pZm9ybSgnaW50ZW5zaXR5QnJpZ2h0bmVzcycpXG5dLCBQb2ludENsb3VkTWF0ZXJpYWwucHJvdG90eXBlLCBcImludGVuc2l0eUJyaWdodG5lc3NcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHVuaWZvcm0oJ2ludGVuc2l0eUNvbnRyYXN0Jylcbl0sIFBvaW50Q2xvdWRNYXRlcmlhbC5wcm90b3R5cGUsIFwiaW50ZW5zaXR5Q29udHJhc3RcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHVuaWZvcm0oJ2ludGVuc2l0eUdhbW1hJylcbl0sIFBvaW50Q2xvdWRNYXRlcmlhbC5wcm90b3R5cGUsIFwiaW50ZW5zaXR5R2FtbWFcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHVuaWZvcm0oJ2ludGVuc2l0eVJhbmdlJylcbl0sIFBvaW50Q2xvdWRNYXRlcmlhbC5wcm90b3R5cGUsIFwiaW50ZW5zaXR5UmFuZ2VcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHVuaWZvcm0oJ21heFNpemUnKVxuXSwgUG9pbnRDbG91ZE1hdGVyaWFsLnByb3RvdHlwZSwgXCJtYXhTaXplXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICB1bmlmb3JtKCdtaW5TaXplJylcbl0sIFBvaW50Q2xvdWRNYXRlcmlhbC5wcm90b3R5cGUsIFwibWluU2l6ZVwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgdW5pZm9ybSgnb2N0cmVlU2l6ZScpXG5dLCBQb2ludENsb3VkTWF0ZXJpYWwucHJvdG90eXBlLCBcIm9jdHJlZVNpemVcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHVuaWZvcm0oJ29wYWNpdHknLCB0cnVlKVxuXSwgUG9pbnRDbG91ZE1hdGVyaWFsLnByb3RvdHlwZSwgXCJvcGFjaXR5XCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICB1bmlmb3JtKCdyZ2JCcmlnaHRuZXNzJywgdHJ1ZSlcbl0sIFBvaW50Q2xvdWRNYXRlcmlhbC5wcm90b3R5cGUsIFwicmdiQnJpZ2h0bmVzc1wiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgdW5pZm9ybSgncmdiQ29udHJhc3QnLCB0cnVlKVxuXSwgUG9pbnRDbG91ZE1hdGVyaWFsLnByb3RvdHlwZSwgXCJyZ2JDb250cmFzdFwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgdW5pZm9ybSgncmdiR2FtbWEnLCB0cnVlKVxuXSwgUG9pbnRDbG91ZE1hdGVyaWFsLnByb3RvdHlwZSwgXCJyZ2JHYW1tYVwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgdW5pZm9ybSgnc2NyZWVuSGVpZ2h0Jylcbl0sIFBvaW50Q2xvdWRNYXRlcmlhbC5wcm90b3R5cGUsIFwic2NyZWVuSGVpZ2h0XCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICB1bmlmb3JtKCdzY3JlZW5XaWR0aCcpXG5dLCBQb2ludENsb3VkTWF0ZXJpYWwucHJvdG90eXBlLCBcInNjcmVlbldpZHRoXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICB1bmlmb3JtKCdzaXplJylcbl0sIFBvaW50Q2xvdWRNYXRlcmlhbC5wcm90b3R5cGUsIFwic2l6ZVwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgdW5pZm9ybSgnc3BhY2luZycpXG5dLCBQb2ludENsb3VkTWF0ZXJpYWwucHJvdG90eXBlLCBcInNwYWNpbmdcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHVuaWZvcm0oJ3RyYW5zaXRpb24nKVxuXSwgUG9pbnRDbG91ZE1hdGVyaWFsLnByb3RvdHlwZSwgXCJ0cmFuc2l0aW9uXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICB1bmlmb3JtKCd1Q29sb3InKVxuXSwgUG9pbnRDbG91ZE1hdGVyaWFsLnByb3RvdHlwZSwgXCJjb2xvclwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgdW5pZm9ybSgnd0NsYXNzaWZpY2F0aW9uJylcbl0sIFBvaW50Q2xvdWRNYXRlcmlhbC5wcm90b3R5cGUsIFwid2VpZ2h0Q2xhc3NpZmljYXRpb25cIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHVuaWZvcm0oJ3dFbGV2YXRpb24nKVxuXSwgUG9pbnRDbG91ZE1hdGVyaWFsLnByb3RvdHlwZSwgXCJ3ZWlnaHRFbGV2YXRpb25cIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHVuaWZvcm0oJ3dJbnRlbnNpdHknKVxuXSwgUG9pbnRDbG91ZE1hdGVyaWFsLnByb3RvdHlwZSwgXCJ3ZWlnaHRJbnRlbnNpdHlcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHVuaWZvcm0oJ3dSZXR1cm5OdW1iZXInKVxuXSwgUG9pbnRDbG91ZE1hdGVyaWFsLnByb3RvdHlwZSwgXCJ3ZWlnaHRSZXR1cm5OdW1iZXJcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHVuaWZvcm0oJ3dSR0InKVxuXSwgUG9pbnRDbG91ZE1hdGVyaWFsLnByb3RvdHlwZSwgXCJ3ZWlnaHRSR0JcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHVuaWZvcm0oJ3dTb3VyY2VJRCcpXG5dLCBQb2ludENsb3VkTWF0ZXJpYWwucHJvdG90eXBlLCBcIndlaWdodFNvdXJjZUlEXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICB1bmlmb3JtKCdvcGFjaXR5QXR0ZW51YXRpb24nKVxuXSwgUG9pbnRDbG91ZE1hdGVyaWFsLnByb3RvdHlwZSwgXCJvcGFjaXR5QXR0ZW51YXRpb25cIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHVuaWZvcm0oJ2ZpbHRlckJ5Tm9ybWFsVGhyZXNob2xkJylcbl0sIFBvaW50Q2xvdWRNYXRlcmlhbC5wcm90b3R5cGUsIFwiZmlsdGVyQnlOb3JtYWxUaHJlc2hvbGRcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHVuaWZvcm0oJ2hpZ2hsaWdodGVkUG9pbnRDb29yZGluYXRlJylcbl0sIFBvaW50Q2xvdWRNYXRlcmlhbC5wcm90b3R5cGUsIFwiaGlnaGxpZ2h0ZWRQb2ludENvb3JkaW5hdGVcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHVuaWZvcm0oJ2hpZ2hsaWdodGVkUG9pbnRDb2xvcicpXG5dLCBQb2ludENsb3VkTWF0ZXJpYWwucHJvdG90eXBlLCBcImhpZ2hsaWdodGVkUG9pbnRDb2xvclwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgdW5pZm9ybSgnZW5hYmxlUG9pbnRIaWdobGlnaHRpbmcnKVxuXSwgUG9pbnRDbG91ZE1hdGVyaWFsLnByb3RvdHlwZSwgXCJlbmFibGVQb2ludEhpZ2hsaWdodGluZ1wiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgdW5pZm9ybSgnaGlnaGxpZ2h0ZWRQb2ludFNjYWxlJylcbl0sIFBvaW50Q2xvdWRNYXRlcmlhbC5wcm90b3R5cGUsIFwiaGlnaGxpZ2h0ZWRQb2ludFNjYWxlXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICB1bmlmb3JtKCdub3JtYWxGaWx0ZXJpbmdNb2RlJylcbl0sIFBvaW50Q2xvdWRNYXRlcmlhbC5wcm90b3R5cGUsIFwibm9ybWFsRmlsdGVyaW5nTW9kZVwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgdW5pZm9ybSgnYmFja2dyb3VuZE1hcCcpXG5dLCBQb2ludENsb3VkTWF0ZXJpYWwucHJvdG90eXBlLCBcImJhY2tncm91bmRNYXBcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHVuaWZvcm0oJ3BvaW50Q2xvdWRJRCcpXG5dLCBQb2ludENsb3VkTWF0ZXJpYWwucHJvdG90eXBlLCBcInBvaW50Q2xvdWRJRFwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgdW5pZm9ybSgncG9pbnRDbG91ZE1peGluZ01vZGUnKVxuXSwgUG9pbnRDbG91ZE1hdGVyaWFsLnByb3RvdHlwZSwgXCJwb2ludENsb3VkTWl4aW5nTW9kZVwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgdW5pZm9ybSgnc3RyaXBlRGlzdGFuY2VYJylcbl0sIFBvaW50Q2xvdWRNYXRlcmlhbC5wcm90b3R5cGUsIFwic3RyaXBlRGlzdGFuY2VYXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICB1bmlmb3JtKCdzdHJpcGVEaXN0YW5jZVknKVxuXSwgUG9pbnRDbG91ZE1hdGVyaWFsLnByb3RvdHlwZSwgXCJzdHJpcGVEaXN0YW5jZVlcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHVuaWZvcm0oJ3N0cmlwZURpdmlzb3JYJylcbl0sIFBvaW50Q2xvdWRNYXRlcmlhbC5wcm90b3R5cGUsIFwic3RyaXBlRGl2aXNvclhcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHVuaWZvcm0oJ3N0cmlwZURpdmlzb3JZJylcbl0sIFBvaW50Q2xvdWRNYXRlcmlhbC5wcm90b3R5cGUsIFwic3RyaXBlRGl2aXNvcllcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHVuaWZvcm0oJ3BvaW50Q2xvdWRNaXhBbmdsZScpXG5dLCBQb2ludENsb3VkTWF0ZXJpYWwucHJvdG90eXBlLCBcInBvaW50Q2xvdWRNaXhBbmdsZVwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgcmVxdWlyZXNTaGFkZXJVcGRhdGUoKVxuXSwgUG9pbnRDbG91ZE1hdGVyaWFsLnByb3RvdHlwZSwgXCJ1c2VDbGlwQm94XCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICByZXF1aXJlc1NoYWRlclVwZGF0ZSgpXG5dLCBQb2ludENsb3VkTWF0ZXJpYWwucHJvdG90eXBlLCBcIndlaWdodGVkXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICByZXF1aXJlc1NoYWRlclVwZGF0ZSgpXG5dLCBQb2ludENsb3VkTWF0ZXJpYWwucHJvdG90eXBlLCBcInBvaW50Q29sb3JUeXBlXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICByZXF1aXJlc1NoYWRlclVwZGF0ZSgpXG5dLCBQb2ludENsb3VkTWF0ZXJpYWwucHJvdG90eXBlLCBcInBvaW50U2l6ZVR5cGVcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHJlcXVpcmVzU2hhZGVyVXBkYXRlKClcbl0sIFBvaW50Q2xvdWRNYXRlcmlhbC5wcm90b3R5cGUsIFwiY2xpcE1vZGVcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHJlcXVpcmVzU2hhZGVyVXBkYXRlKClcbl0sIFBvaW50Q2xvdWRNYXRlcmlhbC5wcm90b3R5cGUsIFwidXNlRURMXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICByZXF1aXJlc1NoYWRlclVwZGF0ZSgpXG5dLCBQb2ludENsb3VkTWF0ZXJpYWwucHJvdG90eXBlLCBcInNoYXBlXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICByZXF1aXJlc1NoYWRlclVwZGF0ZSgpXG5dLCBQb2ludENsb3VkTWF0ZXJpYWwucHJvdG90eXBlLCBcInRyZWVUeXBlXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICByZXF1aXJlc1NoYWRlclVwZGF0ZSgpXG5dLCBQb2ludENsb3VkTWF0ZXJpYWwucHJvdG90eXBlLCBcInBvaW50T3BhY2l0eVR5cGVcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHJlcXVpcmVzU2hhZGVyVXBkYXRlKClcbl0sIFBvaW50Q2xvdWRNYXRlcmlhbC5wcm90b3R5cGUsIFwidXNlRmlsdGVyQnlOb3JtYWxcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHJlcXVpcmVzU2hhZGVyVXBkYXRlKClcbl0sIFBvaW50Q2xvdWRNYXRlcmlhbC5wcm90b3R5cGUsIFwidXNlVGV4dHVyZUJsZW5kaW5nXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICByZXF1aXJlc1NoYWRlclVwZGF0ZSgpXG5dLCBQb2ludENsb3VkTWF0ZXJpYWwucHJvdG90eXBlLCBcInVzZVBvaW50Q2xvdWRNaXhpbmdcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHJlcXVpcmVzU2hhZGVyVXBkYXRlKClcbl0sIFBvaW50Q2xvdWRNYXRlcmlhbC5wcm90b3R5cGUsIFwiaGlnaGxpZ2h0UG9pbnRcIiwgdm9pZCAwKTtcbmZ1bmN0aW9uIG1ha2VVbmlmb3JtKHR5cGUsIHZhbHVlKSB7XG4gICAgcmV0dXJuIHsgdHlwZSwgdmFsdWUgfTtcbn1cbmZ1bmN0aW9uIGdldFZhbGlkKGEsIGIpIHtcbiAgICByZXR1cm4gYSA9PT0gdW5kZWZpbmVkID8gYiA6IGE7XG59XG4vLyB0c2xpbnQ6ZGlzYWJsZTpuby1pbnZhbGlkLXRoaXNcbmZ1bmN0aW9uIHVuaWZvcm0odW5pZm9ybU5hbWUsIHJlcXVpcmVTcmNVcGRhdGUgPSBmYWxzZSkge1xuICAgIHJldHVybiAodGFyZ2V0LCBwcm9wZXJ0eUtleSkgPT4ge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eUtleSwge1xuICAgICAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFVuaWZvcm0odW5pZm9ybU5hbWUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdGhpcy5nZXRVbmlmb3JtKHVuaWZvcm1OYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFVuaWZvcm0odW5pZm9ybU5hbWUsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcXVpcmVTcmNVcGRhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU2hhZGVyU291cmNlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9O1xufVxuZnVuY3Rpb24gcmVxdWlyZXNTaGFkZXJVcGRhdGUoKSB7XG4gICAgcmV0dXJuICh0YXJnZXQsIHByb3BlcnR5S2V5KSA9PiB7XG4gICAgICAgIGNvbnN0IGZpZWxkTmFtZSA9IGBfJHtwcm9wZXJ0eUtleS50b1N0cmluZygpfWA7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5S2V5LCB7XG4gICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXNbZmllbGROYW1lXTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IHRoaXNbZmllbGROYW1lXSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzW2ZpZWxkTmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVTaGFkZXJTb3VyY2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9O1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/materials/point-cloud-material.ts\n");

/***/ }),

/***/ "./src/materials/texture-generation.ts":
/*!*********************************************!*\
  !*** ./src/materials/texture-generation.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generateClassificationTexture: () => (/* binding */ generateClassificationTexture),\n/* harmony export */   generateDataTexture: () => (/* binding */ generateDataTexture),\n/* harmony export */   generateGradientTexture: () => (/* binding */ generateGradientTexture)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"three\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(three__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction generateDataTexture(width, height, color) {\n    const size = width * height;\n    const data = new Uint8Array(4 * size);\n    const r = Math.floor(color.r * 255);\n    const g = Math.floor(color.g * 255);\n    const b = Math.floor(color.b * 255);\n    for (let i = 0; i < size; i++) {\n        data[i * 3] = r;\n        data[i * 3 + 1] = g;\n        data[i * 3 + 2] = b;\n    }\n    const texture = new three__WEBPACK_IMPORTED_MODULE_0__.DataTexture(data, width, height, three__WEBPACK_IMPORTED_MODULE_0__.RGBAFormat);\n    texture.needsUpdate = true;\n    texture.magFilter = three__WEBPACK_IMPORTED_MODULE_0__.NearestFilter;\n    return texture;\n}\nfunction generateGradientTexture(gradient) {\n    const size = 64;\n    const canvas = document.createElement('canvas');\n    canvas.width = size;\n    canvas.height = size;\n    const context = canvas.getContext('2d');\n    context.rect(0, 0, size, size);\n    const ctxGradient = context.createLinearGradient(0, 0, size, size);\n    for (let i = 0; i < gradient.length; i++) {\n        const step = gradient[i];\n        ctxGradient.addColorStop(step[0], `#${step[1].getHexString()}`);\n    }\n    context.fillStyle = ctxGradient;\n    context.fill();\n    const texture = new three__WEBPACK_IMPORTED_MODULE_0__.CanvasTexture(canvas);\n    texture.needsUpdate = true;\n    texture.minFilter = three__WEBPACK_IMPORTED_MODULE_0__.LinearFilter;\n    // textureImage = texture.image;\n    return texture;\n}\nfunction generateClassificationTexture(classification) {\n    const width = 256;\n    const height = 256;\n    const size = width * height;\n    const data = new Uint8Array(4 * size);\n    for (let x = 0; x < width; x++) {\n        for (let y = 0; y < height; y++) {\n            const i = x + width * y;\n            let color;\n            if (classification[x]) {\n                color = classification[x];\n            }\n            else if (classification[x % 32]) {\n                color = classification[x % 32];\n            }\n            else {\n                color = classification.DEFAULT;\n            }\n            data[4 * i + 0] = 255 * color.x;\n            data[4 * i + 1] = 255 * color.y;\n            data[4 * i + 2] = 255 * color.z;\n            data[4 * i + 3] = 255 * color.w;\n        }\n    }\n    const texture = new three__WEBPACK_IMPORTED_MODULE_0__.DataTexture(data, width, height, three__WEBPACK_IMPORTED_MODULE_0__.RGBAFormat);\n    texture.magFilter = three__WEBPACK_IMPORTED_MODULE_0__.NearestFilter;\n    texture.needsUpdate = true;\n    return texture;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWF0ZXJpYWxzL3RleHR1cmUtZ2VuZXJhdGlvbi50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3BvdHJlZS8uL3NyYy9tYXRlcmlhbHMvdGV4dHVyZS1nZW5lcmF0aW9uLnRzPzFlZTciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ2FudmFzVGV4dHVyZSwgRGF0YVRleHR1cmUsIExpbmVhckZpbHRlciwgTmVhcmVzdEZpbHRlciwgUkdCQUZvcm1hdCwgfSBmcm9tICd0aHJlZSc7XG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVEYXRhVGV4dHVyZSh3aWR0aCwgaGVpZ2h0LCBjb2xvcikge1xuICAgIGNvbnN0IHNpemUgPSB3aWR0aCAqIGhlaWdodDtcbiAgICBjb25zdCBkYXRhID0gbmV3IFVpbnQ4QXJyYXkoNCAqIHNpemUpO1xuICAgIGNvbnN0IHIgPSBNYXRoLmZsb29yKGNvbG9yLnIgKiAyNTUpO1xuICAgIGNvbnN0IGcgPSBNYXRoLmZsb29yKGNvbG9yLmcgKiAyNTUpO1xuICAgIGNvbnN0IGIgPSBNYXRoLmZsb29yKGNvbG9yLmIgKiAyNTUpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2l6ZTsgaSsrKSB7XG4gICAgICAgIGRhdGFbaSAqIDNdID0gcjtcbiAgICAgICAgZGF0YVtpICogMyArIDFdID0gZztcbiAgICAgICAgZGF0YVtpICogMyArIDJdID0gYjtcbiAgICB9XG4gICAgY29uc3QgdGV4dHVyZSA9IG5ldyBEYXRhVGV4dHVyZShkYXRhLCB3aWR0aCwgaGVpZ2h0LCBSR0JBRm9ybWF0KTtcbiAgICB0ZXh0dXJlLm5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICB0ZXh0dXJlLm1hZ0ZpbHRlciA9IE5lYXJlc3RGaWx0ZXI7XG4gICAgcmV0dXJuIHRleHR1cmU7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVHcmFkaWVudFRleHR1cmUoZ3JhZGllbnQpIHtcbiAgICBjb25zdCBzaXplID0gNjQ7XG4gICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgY2FudmFzLndpZHRoID0gc2l6ZTtcbiAgICBjYW52YXMuaGVpZ2h0ID0gc2l6ZTtcbiAgICBjb25zdCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgY29udGV4dC5yZWN0KDAsIDAsIHNpemUsIHNpemUpO1xuICAgIGNvbnN0IGN0eEdyYWRpZW50ID0gY29udGV4dC5jcmVhdGVMaW5lYXJHcmFkaWVudCgwLCAwLCBzaXplLCBzaXplKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdyYWRpZW50Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHN0ZXAgPSBncmFkaWVudFtpXTtcbiAgICAgICAgY3R4R3JhZGllbnQuYWRkQ29sb3JTdG9wKHN0ZXBbMF0sIGAjJHtzdGVwWzFdLmdldEhleFN0cmluZygpfWApO1xuICAgIH1cbiAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGN0eEdyYWRpZW50O1xuICAgIGNvbnRleHQuZmlsbCgpO1xuICAgIGNvbnN0IHRleHR1cmUgPSBuZXcgQ2FudmFzVGV4dHVyZShjYW52YXMpO1xuICAgIHRleHR1cmUubmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgIHRleHR1cmUubWluRmlsdGVyID0gTGluZWFyRmlsdGVyO1xuICAgIC8vIHRleHR1cmVJbWFnZSA9IHRleHR1cmUuaW1hZ2U7XG4gICAgcmV0dXJuIHRleHR1cmU7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVDbGFzc2lmaWNhdGlvblRleHR1cmUoY2xhc3NpZmljYXRpb24pIHtcbiAgICBjb25zdCB3aWR0aCA9IDI1NjtcbiAgICBjb25zdCBoZWlnaHQgPSAyNTY7XG4gICAgY29uc3Qgc2l6ZSA9IHdpZHRoICogaGVpZ2h0O1xuICAgIGNvbnN0IGRhdGEgPSBuZXcgVWludDhBcnJheSg0ICogc2l6ZSk7XG4gICAgZm9yIChsZXQgeCA9IDA7IHggPCB3aWR0aDsgeCsrKSB7XG4gICAgICAgIGZvciAobGV0IHkgPSAwOyB5IDwgaGVpZ2h0OyB5KyspIHtcbiAgICAgICAgICAgIGNvbnN0IGkgPSB4ICsgd2lkdGggKiB5O1xuICAgICAgICAgICAgbGV0IGNvbG9yO1xuICAgICAgICAgICAgaWYgKGNsYXNzaWZpY2F0aW9uW3hdKSB7XG4gICAgICAgICAgICAgICAgY29sb3IgPSBjbGFzc2lmaWNhdGlvblt4XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNsYXNzaWZpY2F0aW9uW3ggJSAzMl0pIHtcbiAgICAgICAgICAgICAgICBjb2xvciA9IGNsYXNzaWZpY2F0aW9uW3ggJSAzMl07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb2xvciA9IGNsYXNzaWZpY2F0aW9uLkRFRkFVTFQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkYXRhWzQgKiBpICsgMF0gPSAyNTUgKiBjb2xvci54O1xuICAgICAgICAgICAgZGF0YVs0ICogaSArIDFdID0gMjU1ICogY29sb3IueTtcbiAgICAgICAgICAgIGRhdGFbNCAqIGkgKyAyXSA9IDI1NSAqIGNvbG9yLno7XG4gICAgICAgICAgICBkYXRhWzQgKiBpICsgM10gPSAyNTUgKiBjb2xvci53O1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHRleHR1cmUgPSBuZXcgRGF0YVRleHR1cmUoZGF0YSwgd2lkdGgsIGhlaWdodCwgUkdCQUZvcm1hdCk7XG4gICAgdGV4dHVyZS5tYWdGaWx0ZXIgPSBOZWFyZXN0RmlsdGVyO1xuICAgIHRleHR1cmUubmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgIHJldHVybiB0ZXh0dXJlO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/materials/texture-generation.ts\n");

/***/ }),

/***/ "./src/materials/types.ts":
/*!********************************!*\
  !*** ./src/materials/types.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWF0ZXJpYWxzL3R5cGVzLnRzIiwibWFwcGluZ3MiOiI7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL3BvdHJlZS8uL3NyYy9tYXRlcmlhbHMvdHlwZXMudHM/MzhiZCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQge307XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/materials/types.ts\n");

/***/ }),

/***/ "./src/point-attributes.ts":
/*!*********************************!*\
  !*** ./src/point-attributes.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POINT_ATTRIBUTES: () => (/* binding */ POINT_ATTRIBUTES),\n/* harmony export */   POINT_ATTRIBUTE_TYPES: () => (/* binding */ POINT_ATTRIBUTE_TYPES),\n/* harmony export */   PointAttributeName: () => (/* binding */ PointAttributeName),\n/* harmony export */   PointAttributes: () => (/* binding */ PointAttributes)\n/* harmony export */ });\n// -------------------------------------------------------------------------------------------------\n// Converted to Typescript and adapted from https://github.com/potree/potree\n// -------------------------------------------------------------------------------------------------\nvar PointAttributeName;\n(function (PointAttributeName) {\n    PointAttributeName[PointAttributeName[\"POSITION_CARTESIAN\"] = 0] = \"POSITION_CARTESIAN\";\n    PointAttributeName[PointAttributeName[\"COLOR_PACKED\"] = 1] = \"COLOR_PACKED\";\n    PointAttributeName[PointAttributeName[\"COLOR_FLOATS_1\"] = 2] = \"COLOR_FLOATS_1\";\n    PointAttributeName[PointAttributeName[\"COLOR_FLOATS_255\"] = 3] = \"COLOR_FLOATS_255\";\n    PointAttributeName[PointAttributeName[\"NORMAL_FLOATS\"] = 4] = \"NORMAL_FLOATS\";\n    PointAttributeName[PointAttributeName[\"FILLER\"] = 5] = \"FILLER\";\n    PointAttributeName[PointAttributeName[\"INTENSITY\"] = 6] = \"INTENSITY\";\n    PointAttributeName[PointAttributeName[\"CLASSIFICATION\"] = 7] = \"CLASSIFICATION\";\n    PointAttributeName[PointAttributeName[\"NORMAL_SPHEREMAPPED\"] = 8] = \"NORMAL_SPHEREMAPPED\";\n    PointAttributeName[PointAttributeName[\"NORMAL_OCT16\"] = 9] = \"NORMAL_OCT16\";\n    PointAttributeName[PointAttributeName[\"NORMAL\"] = 10] = \"NORMAL\";\n})(PointAttributeName || (PointAttributeName = {}));\nconst POINT_ATTRIBUTE_TYPES = {\n    DATA_TYPE_DOUBLE: { ordinal: 0, size: 8 },\n    DATA_TYPE_FLOAT: { ordinal: 1, size: 4 },\n    DATA_TYPE_INT8: { ordinal: 2, size: 1 },\n    DATA_TYPE_UINT8: { ordinal: 3, size: 1 },\n    DATA_TYPE_INT16: { ordinal: 4, size: 2 },\n    DATA_TYPE_UINT16: { ordinal: 5, size: 2 },\n    DATA_TYPE_INT32: { ordinal: 6, size: 4 },\n    DATA_TYPE_UINT32: { ordinal: 7, size: 4 },\n    DATA_TYPE_INT64: { ordinal: 8, size: 8 },\n    DATA_TYPE_UINT64: { ordinal: 9, size: 8 },\n};\nfunction makePointAttribute(name, type, numElements) {\n    return {\n        name,\n        type,\n        numElements,\n        byteSize: numElements * type.size,\n    };\n}\nconst RGBA_PACKED = makePointAttribute(PointAttributeName.COLOR_PACKED, POINT_ATTRIBUTE_TYPES.DATA_TYPE_INT8, 4);\nconst POINT_ATTRIBUTES = {\n    POSITION_CARTESIAN: makePointAttribute(PointAttributeName.POSITION_CARTESIAN, POINT_ATTRIBUTE_TYPES.DATA_TYPE_FLOAT, 3),\n    RGBA_PACKED,\n    COLOR_PACKED: RGBA_PACKED,\n    RGB_PACKED: makePointAttribute(PointAttributeName.COLOR_PACKED, POINT_ATTRIBUTE_TYPES.DATA_TYPE_INT8, 3),\n    NORMAL_FLOATS: makePointAttribute(PointAttributeName.NORMAL_FLOATS, POINT_ATTRIBUTE_TYPES.DATA_TYPE_FLOAT, 3),\n    FILLER_1B: makePointAttribute(PointAttributeName.FILLER, POINT_ATTRIBUTE_TYPES.DATA_TYPE_UINT8, 1),\n    INTENSITY: makePointAttribute(PointAttributeName.INTENSITY, POINT_ATTRIBUTE_TYPES.DATA_TYPE_UINT16, 1),\n    CLASSIFICATION: makePointAttribute(PointAttributeName.CLASSIFICATION, POINT_ATTRIBUTE_TYPES.DATA_TYPE_UINT8, 1),\n    NORMAL_SPHEREMAPPED: makePointAttribute(PointAttributeName.NORMAL_SPHEREMAPPED, POINT_ATTRIBUTE_TYPES.DATA_TYPE_UINT8, 2),\n    NORMAL_OCT16: makePointAttribute(PointAttributeName.NORMAL_OCT16, POINT_ATTRIBUTE_TYPES.DATA_TYPE_UINT8, 2),\n    NORMAL: makePointAttribute(PointAttributeName.NORMAL, POINT_ATTRIBUTE_TYPES.DATA_TYPE_FLOAT, 3),\n};\nclass PointAttributes {\n    constructor(pointAttributeNames = []) {\n        this.attributes = [];\n        this.byteSize = 0;\n        this.size = 0;\n        for (let i = 0; i < pointAttributeNames.length; i++) {\n            const pointAttributeName = pointAttributeNames[i];\n            const pointAttribute = POINT_ATTRIBUTES[pointAttributeName];\n            this.attributes.push(pointAttribute);\n            this.byteSize += pointAttribute.byteSize;\n            this.size++;\n        }\n    }\n    add(pointAttribute) {\n        this.attributes.push(pointAttribute);\n        this.byteSize += pointAttribute.byteSize;\n        this.size++;\n    }\n    hasColors() {\n        return this.attributes.find(isColorAttribute) !== undefined;\n    }\n    hasNormals() {\n        return this.attributes.find(isNormalAttribute) !== undefined;\n    }\n}\nfunction isColorAttribute({ name }) {\n    return name === PointAttributeName.COLOR_PACKED;\n}\nfunction isNormalAttribute({ name }) {\n    return (name === PointAttributeName.NORMAL_SPHEREMAPPED ||\n        name === PointAttributeName.NORMAL_FLOATS ||\n        name === PointAttributeName.NORMAL ||\n        name === PointAttributeName.NORMAL_OCT16);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcG9pbnQtYXR0cmlidXRlcy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb3RyZWUvLi9zcmMvcG9pbnQtYXR0cmlidXRlcy50cz9lMDMyIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIENvbnZlcnRlZCB0byBUeXBlc2NyaXB0IGFuZCBhZGFwdGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL3BvdHJlZS9wb3RyZWVcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmV4cG9ydCB2YXIgUG9pbnRBdHRyaWJ1dGVOYW1lO1xuKGZ1bmN0aW9uIChQb2ludEF0dHJpYnV0ZU5hbWUpIHtcbiAgICBQb2ludEF0dHJpYnV0ZU5hbWVbUG9pbnRBdHRyaWJ1dGVOYW1lW1wiUE9TSVRJT05fQ0FSVEVTSUFOXCJdID0gMF0gPSBcIlBPU0lUSU9OX0NBUlRFU0lBTlwiO1xuICAgIFBvaW50QXR0cmlidXRlTmFtZVtQb2ludEF0dHJpYnV0ZU5hbWVbXCJDT0xPUl9QQUNLRURcIl0gPSAxXSA9IFwiQ09MT1JfUEFDS0VEXCI7XG4gICAgUG9pbnRBdHRyaWJ1dGVOYW1lW1BvaW50QXR0cmlidXRlTmFtZVtcIkNPTE9SX0ZMT0FUU18xXCJdID0gMl0gPSBcIkNPTE9SX0ZMT0FUU18xXCI7XG4gICAgUG9pbnRBdHRyaWJ1dGVOYW1lW1BvaW50QXR0cmlidXRlTmFtZVtcIkNPTE9SX0ZMT0FUU18yNTVcIl0gPSAzXSA9IFwiQ09MT1JfRkxPQVRTXzI1NVwiO1xuICAgIFBvaW50QXR0cmlidXRlTmFtZVtQb2ludEF0dHJpYnV0ZU5hbWVbXCJOT1JNQUxfRkxPQVRTXCJdID0gNF0gPSBcIk5PUk1BTF9GTE9BVFNcIjtcbiAgICBQb2ludEF0dHJpYnV0ZU5hbWVbUG9pbnRBdHRyaWJ1dGVOYW1lW1wiRklMTEVSXCJdID0gNV0gPSBcIkZJTExFUlwiO1xuICAgIFBvaW50QXR0cmlidXRlTmFtZVtQb2ludEF0dHJpYnV0ZU5hbWVbXCJJTlRFTlNJVFlcIl0gPSA2XSA9IFwiSU5URU5TSVRZXCI7XG4gICAgUG9pbnRBdHRyaWJ1dGVOYW1lW1BvaW50QXR0cmlidXRlTmFtZVtcIkNMQVNTSUZJQ0FUSU9OXCJdID0gN10gPSBcIkNMQVNTSUZJQ0FUSU9OXCI7XG4gICAgUG9pbnRBdHRyaWJ1dGVOYW1lW1BvaW50QXR0cmlidXRlTmFtZVtcIk5PUk1BTF9TUEhFUkVNQVBQRURcIl0gPSA4XSA9IFwiTk9STUFMX1NQSEVSRU1BUFBFRFwiO1xuICAgIFBvaW50QXR0cmlidXRlTmFtZVtQb2ludEF0dHJpYnV0ZU5hbWVbXCJOT1JNQUxfT0NUMTZcIl0gPSA5XSA9IFwiTk9STUFMX09DVDE2XCI7XG4gICAgUG9pbnRBdHRyaWJ1dGVOYW1lW1BvaW50QXR0cmlidXRlTmFtZVtcIk5PUk1BTFwiXSA9IDEwXSA9IFwiTk9STUFMXCI7XG59KShQb2ludEF0dHJpYnV0ZU5hbWUgfHwgKFBvaW50QXR0cmlidXRlTmFtZSA9IHt9KSk7XG5leHBvcnQgY29uc3QgUE9JTlRfQVRUUklCVVRFX1RZUEVTID0ge1xuICAgIERBVEFfVFlQRV9ET1VCTEU6IHsgb3JkaW5hbDogMCwgc2l6ZTogOCB9LFxuICAgIERBVEFfVFlQRV9GTE9BVDogeyBvcmRpbmFsOiAxLCBzaXplOiA0IH0sXG4gICAgREFUQV9UWVBFX0lOVDg6IHsgb3JkaW5hbDogMiwgc2l6ZTogMSB9LFxuICAgIERBVEFfVFlQRV9VSU5UODogeyBvcmRpbmFsOiAzLCBzaXplOiAxIH0sXG4gICAgREFUQV9UWVBFX0lOVDE2OiB7IG9yZGluYWw6IDQsIHNpemU6IDIgfSxcbiAgICBEQVRBX1RZUEVfVUlOVDE2OiB7IG9yZGluYWw6IDUsIHNpemU6IDIgfSxcbiAgICBEQVRBX1RZUEVfSU5UMzI6IHsgb3JkaW5hbDogNiwgc2l6ZTogNCB9LFxuICAgIERBVEFfVFlQRV9VSU5UMzI6IHsgb3JkaW5hbDogNywgc2l6ZTogNCB9LFxuICAgIERBVEFfVFlQRV9JTlQ2NDogeyBvcmRpbmFsOiA4LCBzaXplOiA4IH0sXG4gICAgREFUQV9UWVBFX1VJTlQ2NDogeyBvcmRpbmFsOiA5LCBzaXplOiA4IH0sXG59O1xuZnVuY3Rpb24gbWFrZVBvaW50QXR0cmlidXRlKG5hbWUsIHR5cGUsIG51bUVsZW1lbnRzKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbmFtZSxcbiAgICAgICAgdHlwZSxcbiAgICAgICAgbnVtRWxlbWVudHMsXG4gICAgICAgIGJ5dGVTaXplOiBudW1FbGVtZW50cyAqIHR5cGUuc2l6ZSxcbiAgICB9O1xufVxuY29uc3QgUkdCQV9QQUNLRUQgPSBtYWtlUG9pbnRBdHRyaWJ1dGUoUG9pbnRBdHRyaWJ1dGVOYW1lLkNPTE9SX1BBQ0tFRCwgUE9JTlRfQVRUUklCVVRFX1RZUEVTLkRBVEFfVFlQRV9JTlQ4LCA0KTtcbmV4cG9ydCBjb25zdCBQT0lOVF9BVFRSSUJVVEVTID0ge1xuICAgIFBPU0lUSU9OX0NBUlRFU0lBTjogbWFrZVBvaW50QXR0cmlidXRlKFBvaW50QXR0cmlidXRlTmFtZS5QT1NJVElPTl9DQVJURVNJQU4sIFBPSU5UX0FUVFJJQlVURV9UWVBFUy5EQVRBX1RZUEVfRkxPQVQsIDMpLFxuICAgIFJHQkFfUEFDS0VELFxuICAgIENPTE9SX1BBQ0tFRDogUkdCQV9QQUNLRUQsXG4gICAgUkdCX1BBQ0tFRDogbWFrZVBvaW50QXR0cmlidXRlKFBvaW50QXR0cmlidXRlTmFtZS5DT0xPUl9QQUNLRUQsIFBPSU5UX0FUVFJJQlVURV9UWVBFUy5EQVRBX1RZUEVfSU5UOCwgMyksXG4gICAgTk9STUFMX0ZMT0FUUzogbWFrZVBvaW50QXR0cmlidXRlKFBvaW50QXR0cmlidXRlTmFtZS5OT1JNQUxfRkxPQVRTLCBQT0lOVF9BVFRSSUJVVEVfVFlQRVMuREFUQV9UWVBFX0ZMT0FULCAzKSxcbiAgICBGSUxMRVJfMUI6IG1ha2VQb2ludEF0dHJpYnV0ZShQb2ludEF0dHJpYnV0ZU5hbWUuRklMTEVSLCBQT0lOVF9BVFRSSUJVVEVfVFlQRVMuREFUQV9UWVBFX1VJTlQ4LCAxKSxcbiAgICBJTlRFTlNJVFk6IG1ha2VQb2ludEF0dHJpYnV0ZShQb2ludEF0dHJpYnV0ZU5hbWUuSU5URU5TSVRZLCBQT0lOVF9BVFRSSUJVVEVfVFlQRVMuREFUQV9UWVBFX1VJTlQxNiwgMSksXG4gICAgQ0xBU1NJRklDQVRJT046IG1ha2VQb2ludEF0dHJpYnV0ZShQb2ludEF0dHJpYnV0ZU5hbWUuQ0xBU1NJRklDQVRJT04sIFBPSU5UX0FUVFJJQlVURV9UWVBFUy5EQVRBX1RZUEVfVUlOVDgsIDEpLFxuICAgIE5PUk1BTF9TUEhFUkVNQVBQRUQ6IG1ha2VQb2ludEF0dHJpYnV0ZShQb2ludEF0dHJpYnV0ZU5hbWUuTk9STUFMX1NQSEVSRU1BUFBFRCwgUE9JTlRfQVRUUklCVVRFX1RZUEVTLkRBVEFfVFlQRV9VSU5UOCwgMiksXG4gICAgTk9STUFMX09DVDE2OiBtYWtlUG9pbnRBdHRyaWJ1dGUoUG9pbnRBdHRyaWJ1dGVOYW1lLk5PUk1BTF9PQ1QxNiwgUE9JTlRfQVRUUklCVVRFX1RZUEVTLkRBVEFfVFlQRV9VSU5UOCwgMiksXG4gICAgTk9STUFMOiBtYWtlUG9pbnRBdHRyaWJ1dGUoUG9pbnRBdHRyaWJ1dGVOYW1lLk5PUk1BTCwgUE9JTlRfQVRUUklCVVRFX1RZUEVTLkRBVEFfVFlQRV9GTE9BVCwgMyksXG59O1xuZXhwb3J0IGNsYXNzIFBvaW50QXR0cmlidXRlcyB7XG4gICAgY29uc3RydWN0b3IocG9pbnRBdHRyaWJ1dGVOYW1lcyA9IFtdKSB7XG4gICAgICAgIHRoaXMuYXR0cmlidXRlcyA9IFtdO1xuICAgICAgICB0aGlzLmJ5dGVTaXplID0gMDtcbiAgICAgICAgdGhpcy5zaXplID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb2ludEF0dHJpYnV0ZU5hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBwb2ludEF0dHJpYnV0ZU5hbWUgPSBwb2ludEF0dHJpYnV0ZU5hbWVzW2ldO1xuICAgICAgICAgICAgY29uc3QgcG9pbnRBdHRyaWJ1dGUgPSBQT0lOVF9BVFRSSUJVVEVTW3BvaW50QXR0cmlidXRlTmFtZV07XG4gICAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMucHVzaChwb2ludEF0dHJpYnV0ZSk7XG4gICAgICAgICAgICB0aGlzLmJ5dGVTaXplICs9IHBvaW50QXR0cmlidXRlLmJ5dGVTaXplO1xuICAgICAgICAgICAgdGhpcy5zaXplKys7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYWRkKHBvaW50QXR0cmlidXRlKSB7XG4gICAgICAgIHRoaXMuYXR0cmlidXRlcy5wdXNoKHBvaW50QXR0cmlidXRlKTtcbiAgICAgICAgdGhpcy5ieXRlU2l6ZSArPSBwb2ludEF0dHJpYnV0ZS5ieXRlU2l6ZTtcbiAgICAgICAgdGhpcy5zaXplKys7XG4gICAgfVxuICAgIGhhc0NvbG9ycygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXR0cmlidXRlcy5maW5kKGlzQ29sb3JBdHRyaWJ1dGUpICE9PSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGhhc05vcm1hbHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmF0dHJpYnV0ZXMuZmluZChpc05vcm1hbEF0dHJpYnV0ZSkgIT09IHVuZGVmaW5lZDtcbiAgICB9XG59XG5mdW5jdGlvbiBpc0NvbG9yQXR0cmlidXRlKHsgbmFtZSB9KSB7XG4gICAgcmV0dXJuIG5hbWUgPT09IFBvaW50QXR0cmlidXRlTmFtZS5DT0xPUl9QQUNLRUQ7XG59XG5mdW5jdGlvbiBpc05vcm1hbEF0dHJpYnV0ZSh7IG5hbWUgfSkge1xuICAgIHJldHVybiAobmFtZSA9PT0gUG9pbnRBdHRyaWJ1dGVOYW1lLk5PUk1BTF9TUEhFUkVNQVBQRUQgfHxcbiAgICAgICAgbmFtZSA9PT0gUG9pbnRBdHRyaWJ1dGVOYW1lLk5PUk1BTF9GTE9BVFMgfHxcbiAgICAgICAgbmFtZSA9PT0gUG9pbnRBdHRyaWJ1dGVOYW1lLk5PUk1BTCB8fFxuICAgICAgICBuYW1lID09PSBQb2ludEF0dHJpYnV0ZU5hbWUuTk9STUFMX09DVDE2KTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/point-attributes.ts\n");

/***/ }),

/***/ "./src/point-cloud-octree-geometry-node.ts":
/*!*************************************************!*\
  !*** ./src/point-cloud-octree-geometry-node.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PointCloudOctreeGeometryNode: () => (/* binding */ PointCloudOctreeGeometryNode)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"three\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(three__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _utils_bounds__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/bounds */ \"./src/utils/bounds.ts\");\n/* harmony import */ var _utils_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils/utils */ \"./src/utils/utils.ts\");\n/**\n * Adapted from Potree.js http://potree.org\n * Potree License: https://github.com/potree/potree/blob/1.5/LICENSE\n */\n\n\n\nconst NODE_STRIDE = 5;\nclass PointCloudOctreeGeometryNode extends three__WEBPACK_IMPORTED_MODULE_0__.EventDispatcher {\n    constructor(name, pcoGeometry, boundingBox) {\n        super();\n        this.id = PointCloudOctreeGeometryNode.idCount++;\n        this.level = 0;\n        this.spacing = 0;\n        this.hasChildren = false;\n        this.children = [\n            null,\n            null,\n            null,\n            null,\n            null,\n            null,\n            null,\n            null,\n        ];\n        this.mean = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\n        this.numPoints = 0;\n        this.loaded = false;\n        this.loading = false;\n        this.failed = false;\n        this.parent = null;\n        this.oneTimeDisposeHandlers = [];\n        this.isLeafNode = true;\n        this.isTreeNode = false;\n        this.isGeometryNode = true;\n        this.name = name;\n        this.index = (0,_utils_utils__WEBPACK_IMPORTED_MODULE_2__.getIndexFromName)(name);\n        this.pcoGeometry = pcoGeometry;\n        this.boundingBox = boundingBox;\n        this.tightBoundingBox = boundingBox.clone();\n        this.boundingSphere = boundingBox.getBoundingSphere(new three__WEBPACK_IMPORTED_MODULE_0__.Sphere());\n    }\n    dispose() {\n        if (!this.geometry || !this.parent) {\n            return;\n        }\n        this.geometry.dispose();\n        this.geometry = undefined;\n        this.loaded = false;\n        this.oneTimeDisposeHandlers.forEach(handler => handler());\n        this.oneTimeDisposeHandlers = [];\n    }\n    /**\n     * Gets the url of the binary file for this node.\n     */\n    getUrl() {\n        const geometry = this.pcoGeometry;\n        const version = geometry.loader.version;\n        const pathParts = [geometry.octreeDir];\n        if (geometry.loader && version.equalOrHigher('1.5')) {\n            pathParts.push(this.getHierarchyBaseUrl());\n            pathParts.push(this.name);\n        }\n        else if (version.equalOrHigher('1.4')) {\n            pathParts.push(this.name);\n        }\n        else if (version.upTo('1.3')) {\n            pathParts.push(this.name);\n        }\n        return pathParts.join('/');\n    }\n    /**\n     * Gets the url of the hierarchy file for this node.\n     */\n    getHierarchyUrl() {\n        return `${this.pcoGeometry.octreeDir}/${this.getHierarchyBaseUrl()}/${this.name}.hrc`;\n    }\n    /**\n     * Adds the specified node as a child of the current node.\n     *\n     * @param child\n     *    The node which is to be added as a child.\n     */\n    addChild(child) {\n        this.children[child.index] = child;\n        this.isLeafNode = false;\n        child.parent = this;\n    }\n    /**\n     * Calls the specified callback for the current node (if includeSelf is set to true) and all its\n     * children.\n     *\n     * @param cb\n     *    The function which is to be called for each node.\n     */\n    traverse(cb, includeSelf = true) {\n        const stack = includeSelf ? [this] : [];\n        let current;\n        while ((current = stack.pop()) !== undefined) {\n            cb(current);\n            for (const child of current.children) {\n                if (child !== null) {\n                    stack.push(child);\n                }\n            }\n        }\n    }\n    load() {\n        if (!this.canLoad()) {\n            return Promise.resolve();\n        }\n        this.loading = true;\n        this.pcoGeometry.numNodesLoading++;\n        this.pcoGeometry.needsUpdate = true;\n        let promise;\n        if (this.pcoGeometry.loader.version.equalOrHigher('1.5') &&\n            this.level % this.pcoGeometry.hierarchyStepSize === 0 &&\n            this.hasChildren) {\n            promise = this.loadHierachyThenPoints();\n        }\n        else {\n            promise = this.loadPoints();\n        }\n        return promise.catch(reason => {\n            this.loading = false;\n            this.failed = true;\n            this.pcoGeometry.numNodesLoading--;\n            throw reason;\n        });\n    }\n    canLoad() {\n        return (!this.loading &&\n            !this.loaded &&\n            !this.pcoGeometry.disposed &&\n            !this.pcoGeometry.loader.disposed &&\n            this.pcoGeometry.numNodesLoading < this.pcoGeometry.maxNumNodesLoading);\n    }\n    loadPoints() {\n        this.pcoGeometry.needsUpdate = true;\n        return this.pcoGeometry.loader.load(this);\n    }\n    loadHierachyThenPoints() {\n        if (this.level % this.pcoGeometry.hierarchyStepSize !== 0) {\n            return Promise.resolve();\n        }\n        return Promise.resolve(this.pcoGeometry.loader.getUrl(this.getHierarchyUrl()))\n            .then(url => this.pcoGeometry.xhrRequest(url, { mode: 'cors' }))\n            .then(res => (0,_utils_utils__WEBPACK_IMPORTED_MODULE_2__.handleFailedRequest)(res))\n            .then(okRes => okRes.arrayBuffer())\n            .then(buffer => (0,_utils_utils__WEBPACK_IMPORTED_MODULE_2__.handleEmptyBuffer)(buffer))\n            .then(okBuffer => this.loadHierarchy(this, okBuffer));\n    }\n    /**\n     * Gets the url of the folder where the hierarchy is, relative to the octreeDir.\n     */\n    getHierarchyBaseUrl() {\n        const hierarchyStepSize = this.pcoGeometry.hierarchyStepSize;\n        const indices = this.name.substr(1);\n        const numParts = Math.floor(indices.length / hierarchyStepSize);\n        let path = 'r/';\n        for (let i = 0; i < numParts; i++) {\n            path += `${indices.substr(i * hierarchyStepSize, hierarchyStepSize)}/`;\n        }\n        return path.slice(0, -1);\n    }\n    // tslint:disable:no-bitwise\n    loadHierarchy(node, buffer) {\n        const view = new DataView(buffer);\n        const firstNodeData = this.getNodeData(node.name, 0, view);\n        node.numPoints = firstNodeData.numPoints;\n        // Nodes which need be visited.\n        const stack = [firstNodeData];\n        // Nodes which have already been decoded. We will take nodes from the stack and place them here.\n        const decoded = [];\n        let offset = NODE_STRIDE;\n        while (stack.length > 0) {\n            const stackNodeData = stack.shift();\n            // From the last bit, all the way to the 8th one from the right.\n            let mask = 1;\n            for (let i = 0; i < 8 && offset + 1 < buffer.byteLength; i++) {\n                if ((stackNodeData.children & mask) !== 0) {\n                    const nodeData = this.getNodeData(stackNodeData.name + i, offset, view);\n                    decoded.push(nodeData); // Node is decoded.\n                    stack.push(nodeData); // Need to check its children.\n                    offset += NODE_STRIDE; // Move over to the next node in the buffer.\n                }\n                mask = mask * 2;\n            }\n        }\n        node.pcoGeometry.needsUpdate = true;\n        // Map containing all the nodes.\n        const nodes = new Map();\n        nodes.set(node.name, node);\n        decoded.forEach(nodeData => this.addNode(nodeData, node.pcoGeometry, nodes));\n        node.loadPoints();\n    }\n    // tslint:enable:no-bitwise\n    getNodeData(name, offset, view) {\n        const children = view.getUint8(offset);\n        const numPoints = view.getUint32(offset + 1, true);\n        return { children: children, numPoints: numPoints, name };\n    }\n    addNode({ name, numPoints, children }, pco, nodes) {\n        const index = (0,_utils_utils__WEBPACK_IMPORTED_MODULE_2__.getIndexFromName)(name);\n        const parentName = name.substring(0, name.length - 1);\n        const parentNode = nodes.get(parentName);\n        const level = name.length - 1;\n        const boundingBox = (0,_utils_bounds__WEBPACK_IMPORTED_MODULE_1__.createChildAABB)(parentNode.boundingBox, index);\n        const node = new PointCloudOctreeGeometryNode(name, pco, boundingBox);\n        node.level = level;\n        node.numPoints = numPoints;\n        node.hasChildren = children > 0;\n        node.spacing = pco.spacing / Math.pow(2, level);\n        parentNode.addChild(node);\n        nodes.set(name, node);\n    }\n}\nPointCloudOctreeGeometryNode.idCount = 0;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcG9pbnQtY2xvdWQtb2N0cmVlLWdlb21ldHJ5LW5vZGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcG90cmVlLy4vc3JjL3BvaW50LWNsb3VkLW9jdHJlZS1nZW9tZXRyeS1ub2RlLnRzPzE4ZWEiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBBZGFwdGVkIGZyb20gUG90cmVlLmpzIGh0dHA6Ly9wb3RyZWUub3JnXG4gKiBQb3RyZWUgTGljZW5zZTogaHR0cHM6Ly9naXRodWIuY29tL3BvdHJlZS9wb3RyZWUvYmxvYi8xLjUvTElDRU5TRVxuICovXG5pbXBvcnQgeyBFdmVudERpc3BhdGNoZXIsIFNwaGVyZSwgVmVjdG9yMyB9IGZyb20gJ3RocmVlJztcbmltcG9ydCB7IGNyZWF0ZUNoaWxkQUFCQiB9IGZyb20gJy4vdXRpbHMvYm91bmRzJztcbmltcG9ydCB7IGdldEluZGV4RnJvbU5hbWUsIGhhbmRsZUVtcHR5QnVmZmVyLCBoYW5kbGVGYWlsZWRSZXF1ZXN0IH0gZnJvbSAnLi91dGlscy91dGlscyc7XG5jb25zdCBOT0RFX1NUUklERSA9IDU7XG5leHBvcnQgY2xhc3MgUG9pbnRDbG91ZE9jdHJlZUdlb21ldHJ5Tm9kZSBleHRlbmRzIEV2ZW50RGlzcGF0Y2hlciB7XG4gICAgY29uc3RydWN0b3IobmFtZSwgcGNvR2VvbWV0cnksIGJvdW5kaW5nQm94KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuaWQgPSBQb2ludENsb3VkT2N0cmVlR2VvbWV0cnlOb2RlLmlkQ291bnQrKztcbiAgICAgICAgdGhpcy5sZXZlbCA9IDA7XG4gICAgICAgIHRoaXMuc3BhY2luZyA9IDA7XG4gICAgICAgIHRoaXMuaGFzQ2hpbGRyZW4gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IFtcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICBdO1xuICAgICAgICB0aGlzLm1lYW4gPSBuZXcgVmVjdG9yMygpO1xuICAgICAgICB0aGlzLm51bVBvaW50cyA9IDA7XG4gICAgICAgIHRoaXMubG9hZGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmZhaWxlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgICAgIHRoaXMub25lVGltZURpc3Bvc2VIYW5kbGVycyA9IFtdO1xuICAgICAgICB0aGlzLmlzTGVhZk5vZGUgPSB0cnVlO1xuICAgICAgICB0aGlzLmlzVHJlZU5vZGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pc0dlb21ldHJ5Tm9kZSA9IHRydWU7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuaW5kZXggPSBnZXRJbmRleEZyb21OYW1lKG5hbWUpO1xuICAgICAgICB0aGlzLnBjb0dlb21ldHJ5ID0gcGNvR2VvbWV0cnk7XG4gICAgICAgIHRoaXMuYm91bmRpbmdCb3ggPSBib3VuZGluZ0JveDtcbiAgICAgICAgdGhpcy50aWdodEJvdW5kaW5nQm94ID0gYm91bmRpbmdCb3guY2xvbmUoKTtcbiAgICAgICAgdGhpcy5ib3VuZGluZ1NwaGVyZSA9IGJvdW5kaW5nQm94LmdldEJvdW5kaW5nU3BoZXJlKG5ldyBTcGhlcmUoKSk7XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIGlmICghdGhpcy5nZW9tZXRyeSB8fCAhdGhpcy5wYXJlbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmdlb21ldHJ5LmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5nZW9tZXRyeSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5sb2FkZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5vbmVUaW1lRGlzcG9zZUhhbmRsZXJzLmZvckVhY2goaGFuZGxlciA9PiBoYW5kbGVyKCkpO1xuICAgICAgICB0aGlzLm9uZVRpbWVEaXNwb3NlSGFuZGxlcnMgPSBbXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgdXJsIG9mIHRoZSBiaW5hcnkgZmlsZSBmb3IgdGhpcyBub2RlLlxuICAgICAqL1xuICAgIGdldFVybCgpIHtcbiAgICAgICAgY29uc3QgZ2VvbWV0cnkgPSB0aGlzLnBjb0dlb21ldHJ5O1xuICAgICAgICBjb25zdCB2ZXJzaW9uID0gZ2VvbWV0cnkubG9hZGVyLnZlcnNpb247XG4gICAgICAgIGNvbnN0IHBhdGhQYXJ0cyA9IFtnZW9tZXRyeS5vY3RyZWVEaXJdO1xuICAgICAgICBpZiAoZ2VvbWV0cnkubG9hZGVyICYmIHZlcnNpb24uZXF1YWxPckhpZ2hlcignMS41JykpIHtcbiAgICAgICAgICAgIHBhdGhQYXJ0cy5wdXNoKHRoaXMuZ2V0SGllcmFyY2h5QmFzZVVybCgpKTtcbiAgICAgICAgICAgIHBhdGhQYXJ0cy5wdXNoKHRoaXMubmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodmVyc2lvbi5lcXVhbE9ySGlnaGVyKCcxLjQnKSkge1xuICAgICAgICAgICAgcGF0aFBhcnRzLnB1c2godGhpcy5uYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh2ZXJzaW9uLnVwVG8oJzEuMycpKSB7XG4gICAgICAgICAgICBwYXRoUGFydHMucHVzaCh0aGlzLm5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXRoUGFydHMuam9pbignLycpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSB1cmwgb2YgdGhlIGhpZXJhcmNoeSBmaWxlIGZvciB0aGlzIG5vZGUuXG4gICAgICovXG4gICAgZ2V0SGllcmFyY2h5VXJsKCkge1xuICAgICAgICByZXR1cm4gYCR7dGhpcy5wY29HZW9tZXRyeS5vY3RyZWVEaXJ9LyR7dGhpcy5nZXRIaWVyYXJjaHlCYXNlVXJsKCl9LyR7dGhpcy5uYW1lfS5ocmNgO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGRzIHRoZSBzcGVjaWZpZWQgbm9kZSBhcyBhIGNoaWxkIG9mIHRoZSBjdXJyZW50IG5vZGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY2hpbGRcbiAgICAgKiAgICBUaGUgbm9kZSB3aGljaCBpcyB0byBiZSBhZGRlZCBhcyBhIGNoaWxkLlxuICAgICAqL1xuICAgIGFkZENoaWxkKGNoaWxkKSB7XG4gICAgICAgIHRoaXMuY2hpbGRyZW5bY2hpbGQuaW5kZXhdID0gY2hpbGQ7XG4gICAgICAgIHRoaXMuaXNMZWFmTm9kZSA9IGZhbHNlO1xuICAgICAgICBjaGlsZC5wYXJlbnQgPSB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxscyB0aGUgc3BlY2lmaWVkIGNhbGxiYWNrIGZvciB0aGUgY3VycmVudCBub2RlIChpZiBpbmNsdWRlU2VsZiBpcyBzZXQgdG8gdHJ1ZSkgYW5kIGFsbCBpdHNcbiAgICAgKiBjaGlsZHJlbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjYlxuICAgICAqICAgIFRoZSBmdW5jdGlvbiB3aGljaCBpcyB0byBiZSBjYWxsZWQgZm9yIGVhY2ggbm9kZS5cbiAgICAgKi9cbiAgICB0cmF2ZXJzZShjYiwgaW5jbHVkZVNlbGYgPSB0cnVlKSB7XG4gICAgICAgIGNvbnN0IHN0YWNrID0gaW5jbHVkZVNlbGYgPyBbdGhpc10gOiBbXTtcbiAgICAgICAgbGV0IGN1cnJlbnQ7XG4gICAgICAgIHdoaWxlICgoY3VycmVudCA9IHN0YWNrLnBvcCgpKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjYihjdXJyZW50KTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgY3VycmVudC5jaGlsZHJlbikge1xuICAgICAgICAgICAgICAgIGlmIChjaGlsZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBzdGFjay5wdXNoKGNoaWxkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgbG9hZCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNhbkxvYWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7XG4gICAgICAgIHRoaXMucGNvR2VvbWV0cnkubnVtTm9kZXNMb2FkaW5nKys7XG4gICAgICAgIHRoaXMucGNvR2VvbWV0cnkubmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgICAgICBsZXQgcHJvbWlzZTtcbiAgICAgICAgaWYgKHRoaXMucGNvR2VvbWV0cnkubG9hZGVyLnZlcnNpb24uZXF1YWxPckhpZ2hlcignMS41JykgJiZcbiAgICAgICAgICAgIHRoaXMubGV2ZWwgJSB0aGlzLnBjb0dlb21ldHJ5LmhpZXJhcmNoeVN0ZXBTaXplID09PSAwICYmXG4gICAgICAgICAgICB0aGlzLmhhc0NoaWxkcmVuKSB7XG4gICAgICAgICAgICBwcm9taXNlID0gdGhpcy5sb2FkSGllcmFjaHlUaGVuUG9pbnRzKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwcm9taXNlID0gdGhpcy5sb2FkUG9pbnRzKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByb21pc2UuY2F0Y2gocmVhc29uID0+IHtcbiAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5mYWlsZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5wY29HZW9tZXRyeS5udW1Ob2Rlc0xvYWRpbmctLTtcbiAgICAgICAgICAgIHRocm93IHJlYXNvbjtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNhbkxvYWQoKSB7XG4gICAgICAgIHJldHVybiAoIXRoaXMubG9hZGluZyAmJlxuICAgICAgICAgICAgIXRoaXMubG9hZGVkICYmXG4gICAgICAgICAgICAhdGhpcy5wY29HZW9tZXRyeS5kaXNwb3NlZCAmJlxuICAgICAgICAgICAgIXRoaXMucGNvR2VvbWV0cnkubG9hZGVyLmRpc3Bvc2VkICYmXG4gICAgICAgICAgICB0aGlzLnBjb0dlb21ldHJ5Lm51bU5vZGVzTG9hZGluZyA8IHRoaXMucGNvR2VvbWV0cnkubWF4TnVtTm9kZXNMb2FkaW5nKTtcbiAgICB9XG4gICAgbG9hZFBvaW50cygpIHtcbiAgICAgICAgdGhpcy5wY29HZW9tZXRyeS5uZWVkc1VwZGF0ZSA9IHRydWU7XG4gICAgICAgIHJldHVybiB0aGlzLnBjb0dlb21ldHJ5LmxvYWRlci5sb2FkKHRoaXMpO1xuICAgIH1cbiAgICBsb2FkSGllcmFjaHlUaGVuUG9pbnRzKCkge1xuICAgICAgICBpZiAodGhpcy5sZXZlbCAlIHRoaXMucGNvR2VvbWV0cnkuaGllcmFyY2h5U3RlcFNpemUgIT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMucGNvR2VvbWV0cnkubG9hZGVyLmdldFVybCh0aGlzLmdldEhpZXJhcmNoeVVybCgpKSlcbiAgICAgICAgICAgIC50aGVuKHVybCA9PiB0aGlzLnBjb0dlb21ldHJ5LnhoclJlcXVlc3QodXJsLCB7IG1vZGU6ICdjb3JzJyB9KSlcbiAgICAgICAgICAgIC50aGVuKHJlcyA9PiBoYW5kbGVGYWlsZWRSZXF1ZXN0KHJlcykpXG4gICAgICAgICAgICAudGhlbihva1JlcyA9PiBva1Jlcy5hcnJheUJ1ZmZlcigpKVxuICAgICAgICAgICAgLnRoZW4oYnVmZmVyID0+IGhhbmRsZUVtcHR5QnVmZmVyKGJ1ZmZlcikpXG4gICAgICAgICAgICAudGhlbihva0J1ZmZlciA9PiB0aGlzLmxvYWRIaWVyYXJjaHkodGhpcywgb2tCdWZmZXIpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgdXJsIG9mIHRoZSBmb2xkZXIgd2hlcmUgdGhlIGhpZXJhcmNoeSBpcywgcmVsYXRpdmUgdG8gdGhlIG9jdHJlZURpci5cbiAgICAgKi9cbiAgICBnZXRIaWVyYXJjaHlCYXNlVXJsKCkge1xuICAgICAgICBjb25zdCBoaWVyYXJjaHlTdGVwU2l6ZSA9IHRoaXMucGNvR2VvbWV0cnkuaGllcmFyY2h5U3RlcFNpemU7XG4gICAgICAgIGNvbnN0IGluZGljZXMgPSB0aGlzLm5hbWUuc3Vic3RyKDEpO1xuICAgICAgICBjb25zdCBudW1QYXJ0cyA9IE1hdGguZmxvb3IoaW5kaWNlcy5sZW5ndGggLyBoaWVyYXJjaHlTdGVwU2l6ZSk7XG4gICAgICAgIGxldCBwYXRoID0gJ3IvJztcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1QYXJ0czsgaSsrKSB7XG4gICAgICAgICAgICBwYXRoICs9IGAke2luZGljZXMuc3Vic3RyKGkgKiBoaWVyYXJjaHlTdGVwU2l6ZSwgaGllcmFyY2h5U3RlcFNpemUpfS9gO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXRoLnNsaWNlKDAsIC0xKTtcbiAgICB9XG4gICAgLy8gdHNsaW50OmRpc2FibGU6bm8tYml0d2lzZVxuICAgIGxvYWRIaWVyYXJjaHkobm9kZSwgYnVmZmVyKSB7XG4gICAgICAgIGNvbnN0IHZpZXcgPSBuZXcgRGF0YVZpZXcoYnVmZmVyKTtcbiAgICAgICAgY29uc3QgZmlyc3ROb2RlRGF0YSA9IHRoaXMuZ2V0Tm9kZURhdGEobm9kZS5uYW1lLCAwLCB2aWV3KTtcbiAgICAgICAgbm9kZS5udW1Qb2ludHMgPSBmaXJzdE5vZGVEYXRhLm51bVBvaW50cztcbiAgICAgICAgLy8gTm9kZXMgd2hpY2ggbmVlZCBiZSB2aXNpdGVkLlxuICAgICAgICBjb25zdCBzdGFjayA9IFtmaXJzdE5vZGVEYXRhXTtcbiAgICAgICAgLy8gTm9kZXMgd2hpY2ggaGF2ZSBhbHJlYWR5IGJlZW4gZGVjb2RlZC4gV2Ugd2lsbCB0YWtlIG5vZGVzIGZyb20gdGhlIHN0YWNrIGFuZCBwbGFjZSB0aGVtIGhlcmUuXG4gICAgICAgIGNvbnN0IGRlY29kZWQgPSBbXTtcbiAgICAgICAgbGV0IG9mZnNldCA9IE5PREVfU1RSSURFO1xuICAgICAgICB3aGlsZSAoc3RhY2subGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3Qgc3RhY2tOb2RlRGF0YSA9IHN0YWNrLnNoaWZ0KCk7XG4gICAgICAgICAgICAvLyBGcm9tIHRoZSBsYXN0IGJpdCwgYWxsIHRoZSB3YXkgdG8gdGhlIDh0aCBvbmUgZnJvbSB0aGUgcmlnaHQuXG4gICAgICAgICAgICBsZXQgbWFzayA9IDE7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDggJiYgb2Zmc2V0ICsgMSA8IGJ1ZmZlci5ieXRlTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoKHN0YWNrTm9kZURhdGEuY2hpbGRyZW4gJiBtYXNrKSAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBub2RlRGF0YSA9IHRoaXMuZ2V0Tm9kZURhdGEoc3RhY2tOb2RlRGF0YS5uYW1lICsgaSwgb2Zmc2V0LCB2aWV3KTtcbiAgICAgICAgICAgICAgICAgICAgZGVjb2RlZC5wdXNoKG5vZGVEYXRhKTsgLy8gTm9kZSBpcyBkZWNvZGVkLlxuICAgICAgICAgICAgICAgICAgICBzdGFjay5wdXNoKG5vZGVEYXRhKTsgLy8gTmVlZCB0byBjaGVjayBpdHMgY2hpbGRyZW4uXG4gICAgICAgICAgICAgICAgICAgIG9mZnNldCArPSBOT0RFX1NUUklERTsgLy8gTW92ZSBvdmVyIHRvIHRoZSBuZXh0IG5vZGUgaW4gdGhlIGJ1ZmZlci5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbWFzayA9IG1hc2sgKiAyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG5vZGUucGNvR2VvbWV0cnkubmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgICAgICAvLyBNYXAgY29udGFpbmluZyBhbGwgdGhlIG5vZGVzLlxuICAgICAgICBjb25zdCBub2RlcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgbm9kZXMuc2V0KG5vZGUubmFtZSwgbm9kZSk7XG4gICAgICAgIGRlY29kZWQuZm9yRWFjaChub2RlRGF0YSA9PiB0aGlzLmFkZE5vZGUobm9kZURhdGEsIG5vZGUucGNvR2VvbWV0cnksIG5vZGVzKSk7XG4gICAgICAgIG5vZGUubG9hZFBvaW50cygpO1xuICAgIH1cbiAgICAvLyB0c2xpbnQ6ZW5hYmxlOm5vLWJpdHdpc2VcbiAgICBnZXROb2RlRGF0YShuYW1lLCBvZmZzZXQsIHZpZXcpIHtcbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSB2aWV3LmdldFVpbnQ4KG9mZnNldCk7XG4gICAgICAgIGNvbnN0IG51bVBvaW50cyA9IHZpZXcuZ2V0VWludDMyKG9mZnNldCArIDEsIHRydWUpO1xuICAgICAgICByZXR1cm4geyBjaGlsZHJlbjogY2hpbGRyZW4sIG51bVBvaW50czogbnVtUG9pbnRzLCBuYW1lIH07XG4gICAgfVxuICAgIGFkZE5vZGUoeyBuYW1lLCBudW1Qb2ludHMsIGNoaWxkcmVuIH0sIHBjbywgbm9kZXMpIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSBnZXRJbmRleEZyb21OYW1lKG5hbWUpO1xuICAgICAgICBjb25zdCBwYXJlbnROYW1lID0gbmFtZS5zdWJzdHJpbmcoMCwgbmFtZS5sZW5ndGggLSAxKTtcbiAgICAgICAgY29uc3QgcGFyZW50Tm9kZSA9IG5vZGVzLmdldChwYXJlbnROYW1lKTtcbiAgICAgICAgY29uc3QgbGV2ZWwgPSBuYW1lLmxlbmd0aCAtIDE7XG4gICAgICAgIGNvbnN0IGJvdW5kaW5nQm94ID0gY3JlYXRlQ2hpbGRBQUJCKHBhcmVudE5vZGUuYm91bmRpbmdCb3gsIGluZGV4KTtcbiAgICAgICAgY29uc3Qgbm9kZSA9IG5ldyBQb2ludENsb3VkT2N0cmVlR2VvbWV0cnlOb2RlKG5hbWUsIHBjbywgYm91bmRpbmdCb3gpO1xuICAgICAgICBub2RlLmxldmVsID0gbGV2ZWw7XG4gICAgICAgIG5vZGUubnVtUG9pbnRzID0gbnVtUG9pbnRzO1xuICAgICAgICBub2RlLmhhc0NoaWxkcmVuID0gY2hpbGRyZW4gPiAwO1xuICAgICAgICBub2RlLnNwYWNpbmcgPSBwY28uc3BhY2luZyAvIE1hdGgucG93KDIsIGxldmVsKTtcbiAgICAgICAgcGFyZW50Tm9kZS5hZGRDaGlsZChub2RlKTtcbiAgICAgICAgbm9kZXMuc2V0KG5hbWUsIG5vZGUpO1xuICAgIH1cbn1cblBvaW50Q2xvdWRPY3RyZWVHZW9tZXRyeU5vZGUuaWRDb3VudCA9IDA7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/point-cloud-octree-geometry-node.ts\n");

/***/ }),

/***/ "./src/point-cloud-octree-geometry.ts":
/*!********************************************!*\
  !*** ./src/point-cloud-octree-geometry.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PointCloudOctreeGeometry: () => (/* binding */ PointCloudOctreeGeometry)\n/* harmony export */ });\n/* harmony import */ var _point_attributes__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./point-attributes */ \"./src/point-attributes.ts\");\n\nclass PointCloudOctreeGeometry {\n    constructor(loader, boundingBox, tightBoundingBox, offset, xhrRequest) {\n        this.loader = loader;\n        this.boundingBox = boundingBox;\n        this.tightBoundingBox = tightBoundingBox;\n        this.offset = offset;\n        this.xhrRequest = xhrRequest;\n        this.disposed = false;\n        this.needsUpdate = true;\n        this.octreeDir = '';\n        this.hierarchyStepSize = -1;\n        this.nodes = {};\n        this.numNodesLoading = 0;\n        this.maxNumNodesLoading = 3;\n        this.spacing = 0;\n        this.pointAttributes = new _point_attributes__WEBPACK_IMPORTED_MODULE_0__.PointAttributes([]);\n        this.projection = null;\n        this.url = null;\n    }\n    dispose() {\n        this.loader.dispose();\n        this.root.traverse(node => node.dispose());\n        this.disposed = true;\n    }\n    addNodeLoadedCallback(callback) {\n        this.loader.callbacks.push(callback);\n    }\n    clearNodeLoadedCallbacks() {\n        this.loader.callbacks = [];\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcG9pbnQtY2xvdWQtb2N0cmVlLWdlb21ldHJ5LnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3BvdHJlZS8uL3NyYy9wb2ludC1jbG91ZC1vY3RyZWUtZ2VvbWV0cnkudHM/OWY4MCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQb2ludEF0dHJpYnV0ZXMgfSBmcm9tICcuL3BvaW50LWF0dHJpYnV0ZXMnO1xuZXhwb3J0IGNsYXNzIFBvaW50Q2xvdWRPY3RyZWVHZW9tZXRyeSB7XG4gICAgY29uc3RydWN0b3IobG9hZGVyLCBib3VuZGluZ0JveCwgdGlnaHRCb3VuZGluZ0JveCwgb2Zmc2V0LCB4aHJSZXF1ZXN0KSB7XG4gICAgICAgIHRoaXMubG9hZGVyID0gbG9hZGVyO1xuICAgICAgICB0aGlzLmJvdW5kaW5nQm94ID0gYm91bmRpbmdCb3g7XG4gICAgICAgIHRoaXMudGlnaHRCb3VuZGluZ0JveCA9IHRpZ2h0Qm91bmRpbmdCb3g7XG4gICAgICAgIHRoaXMub2Zmc2V0ID0gb2Zmc2V0O1xuICAgICAgICB0aGlzLnhoclJlcXVlc3QgPSB4aHJSZXF1ZXN0O1xuICAgICAgICB0aGlzLmRpc3Bvc2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMubmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgICAgICB0aGlzLm9jdHJlZURpciA9ICcnO1xuICAgICAgICB0aGlzLmhpZXJhcmNoeVN0ZXBTaXplID0gLTE7XG4gICAgICAgIHRoaXMubm9kZXMgPSB7fTtcbiAgICAgICAgdGhpcy5udW1Ob2Rlc0xvYWRpbmcgPSAwO1xuICAgICAgICB0aGlzLm1heE51bU5vZGVzTG9hZGluZyA9IDM7XG4gICAgICAgIHRoaXMuc3BhY2luZyA9IDA7XG4gICAgICAgIHRoaXMucG9pbnRBdHRyaWJ1dGVzID0gbmV3IFBvaW50QXR0cmlidXRlcyhbXSk7XG4gICAgICAgIHRoaXMucHJvamVjdGlvbiA9IG51bGw7XG4gICAgICAgIHRoaXMudXJsID0gbnVsbDtcbiAgICB9XG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgdGhpcy5sb2FkZXIuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLnJvb3QudHJhdmVyc2Uobm9kZSA9PiBub2RlLmRpc3Bvc2UoKSk7XG4gICAgICAgIHRoaXMuZGlzcG9zZWQgPSB0cnVlO1xuICAgIH1cbiAgICBhZGROb2RlTG9hZGVkQ2FsbGJhY2soY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5sb2FkZXIuY2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuICAgIH1cbiAgICBjbGVhck5vZGVMb2FkZWRDYWxsYmFja3MoKSB7XG4gICAgICAgIHRoaXMubG9hZGVyLmNhbGxiYWNrcyA9IFtdO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/point-cloud-octree-geometry.ts\n");

/***/ }),

/***/ "./src/point-cloud-octree-node.ts":
/*!****************************************!*\
  !*** ./src/point-cloud-octree-node.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PointCloudOctreeNode: () => (/* binding */ PointCloudOctreeNode)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"three\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(three__WEBPACK_IMPORTED_MODULE_0__);\n\nclass PointCloudOctreeNode extends three__WEBPACK_IMPORTED_MODULE_0__.EventDispatcher {\n    constructor(geometryNode, sceneNode) {\n        super();\n        this.pcIndex = undefined;\n        this.boundingBoxNode = null;\n        this.loaded = true;\n        this.isTreeNode = true;\n        this.isGeometryNode = false;\n        this.geometryNode = geometryNode;\n        this.sceneNode = sceneNode;\n        this.children = geometryNode.children.slice();\n    }\n    dispose() {\n        this.geometryNode.dispose();\n    }\n    disposeSceneNode() {\n        const node = this.sceneNode;\n        if (node.geometry instanceof three__WEBPACK_IMPORTED_MODULE_0__.BufferGeometry) {\n            const attributes = node.geometry.attributes;\n            // tslint:disable-next-line:forin\n            for (const key in attributes) {\n                if (key === 'position') {\n                    delete attributes[key].array;\n                }\n                delete attributes[key];\n            }\n            node.geometry.dispose();\n            node.geometry = undefined;\n        }\n    }\n    traverse(cb, includeSelf) {\n        this.geometryNode.traverse(cb, includeSelf);\n    }\n    get id() {\n        return this.geometryNode.id;\n    }\n    get name() {\n        return this.geometryNode.name;\n    }\n    get level() {\n        return this.geometryNode.level;\n    }\n    get isLeafNode() {\n        return this.geometryNode.isLeafNode;\n    }\n    get numPoints() {\n        return this.geometryNode.numPoints;\n    }\n    get index() {\n        return this.geometryNode.index;\n    }\n    get boundingSphere() {\n        return this.geometryNode.boundingSphere;\n    }\n    get boundingBox() {\n        return this.geometryNode.boundingBox;\n    }\n    get spacing() {\n        return this.geometryNode.spacing;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcG9pbnQtY2xvdWQtb2N0cmVlLW5vZGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3BvdHJlZS8uL3NyYy9wb2ludC1jbG91ZC1vY3RyZWUtbm9kZS50cz9kYTE3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJ1ZmZlckdlb21ldHJ5LCBFdmVudERpc3BhdGNoZXIgfSBmcm9tICd0aHJlZSc7XG5leHBvcnQgY2xhc3MgUG9pbnRDbG91ZE9jdHJlZU5vZGUgZXh0ZW5kcyBFdmVudERpc3BhdGNoZXIge1xuICAgIGNvbnN0cnVjdG9yKGdlb21ldHJ5Tm9kZSwgc2NlbmVOb2RlKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMucGNJbmRleCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5ib3VuZGluZ0JveE5vZGUgPSBudWxsO1xuICAgICAgICB0aGlzLmxvYWRlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuaXNUcmVlTm9kZSA9IHRydWU7XG4gICAgICAgIHRoaXMuaXNHZW9tZXRyeU5vZGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5nZW9tZXRyeU5vZGUgPSBnZW9tZXRyeU5vZGU7XG4gICAgICAgIHRoaXMuc2NlbmVOb2RlID0gc2NlbmVOb2RlO1xuICAgICAgICB0aGlzLmNoaWxkcmVuID0gZ2VvbWV0cnlOb2RlLmNoaWxkcmVuLnNsaWNlKCk7XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHRoaXMuZ2VvbWV0cnlOb2RlLmRpc3Bvc2UoKTtcbiAgICB9XG4gICAgZGlzcG9zZVNjZW5lTm9kZSgpIHtcbiAgICAgICAgY29uc3Qgbm9kZSA9IHRoaXMuc2NlbmVOb2RlO1xuICAgICAgICBpZiAobm9kZS5nZW9tZXRyeSBpbnN0YW5jZW9mIEJ1ZmZlckdlb21ldHJ5KSB7XG4gICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGVzID0gbm9kZS5nZW9tZXRyeS5hdHRyaWJ1dGVzO1xuICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOmZvcmluXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBhdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGtleSA9PT0gJ3Bvc2l0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgYXR0cmlidXRlc1trZXldLmFycmF5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZWxldGUgYXR0cmlidXRlc1trZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbm9kZS5nZW9tZXRyeS5kaXNwb3NlKCk7XG4gICAgICAgICAgICBub2RlLmdlb21ldHJ5ID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRyYXZlcnNlKGNiLCBpbmNsdWRlU2VsZikge1xuICAgICAgICB0aGlzLmdlb21ldHJ5Tm9kZS50cmF2ZXJzZShjYiwgaW5jbHVkZVNlbGYpO1xuICAgIH1cbiAgICBnZXQgaWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdlb21ldHJ5Tm9kZS5pZDtcbiAgICB9XG4gICAgZ2V0IG5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdlb21ldHJ5Tm9kZS5uYW1lO1xuICAgIH1cbiAgICBnZXQgbGV2ZWwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdlb21ldHJ5Tm9kZS5sZXZlbDtcbiAgICB9XG4gICAgZ2V0IGlzTGVhZk5vZGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdlb21ldHJ5Tm9kZS5pc0xlYWZOb2RlO1xuICAgIH1cbiAgICBnZXQgbnVtUG9pbnRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZW9tZXRyeU5vZGUubnVtUG9pbnRzO1xuICAgIH1cbiAgICBnZXQgaW5kZXgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdlb21ldHJ5Tm9kZS5pbmRleDtcbiAgICB9XG4gICAgZ2V0IGJvdW5kaW5nU3BoZXJlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZW9tZXRyeU5vZGUuYm91bmRpbmdTcGhlcmU7XG4gICAgfVxuICAgIGdldCBib3VuZGluZ0JveCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2VvbWV0cnlOb2RlLmJvdW5kaW5nQm94O1xuICAgIH1cbiAgICBnZXQgc3BhY2luZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2VvbWV0cnlOb2RlLnNwYWNpbmc7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/point-cloud-octree-node.ts\n");

/***/ }),

/***/ "./src/point-cloud-octree-picker.ts":
/*!******************************************!*\
  !*** ./src/point-cloud-octree-picker.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PointCloudOctreePicker: () => (/* binding */ PointCloudOctreePicker)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"three\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(three__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./constants */ \"./src/constants.ts\");\n/* harmony import */ var _materials__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./materials */ \"./src/materials/index.ts\");\n/* harmony import */ var _utils_math__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils/math */ \"./src/utils/math.ts\");\n\n\n\n\nclass PointCloudOctreePicker {\n    dispose() {\n        if (this.pickState) {\n            this.pickState.material.dispose();\n            this.pickState.renderTarget.dispose();\n        }\n    }\n    pick(renderer, camera, ray, octrees, params = {}) {\n        if (octrees.length === 0) {\n            return null;\n        }\n        const pickState = this.pickState\n            ? this.pickState\n            : (this.pickState = PointCloudOctreePicker.getPickState());\n        const pickMaterial = pickState.material;\n        const pixelRatio = renderer.getPixelRatio();\n        const width = Math.ceil(renderer.domElement.clientWidth * pixelRatio);\n        const height = Math.ceil(renderer.domElement.clientHeight * pixelRatio);\n        PointCloudOctreePicker.updatePickRenderTarget(this.pickState, width, height);\n        const pixelPosition = PointCloudOctreePicker.helperVec3; // Use helper vector to prevent extra allocations.\n        if (params.pixelPosition) {\n            pixelPosition.copy(params.pixelPosition);\n        }\n        else {\n            pixelPosition.addVectors(camera.position, ray.direction).project(camera);\n            pixelPosition.x = (pixelPosition.x + 1) * width * 0.5;\n            pixelPosition.y = (pixelPosition.y + 1) * height * 0.5;\n        }\n        const pickWndSize = Math.floor((params.pickWindowSize || _constants__WEBPACK_IMPORTED_MODULE_1__.DEFAULT_PICK_WINDOW_SIZE) * pixelRatio);\n        const halfPickWndSize = (pickWndSize - 1) / 2;\n        const x = Math.floor((0,_utils_math__WEBPACK_IMPORTED_MODULE_3__.clamp)(pixelPosition.x - halfPickWndSize, 0, width));\n        const y = Math.floor((0,_utils_math__WEBPACK_IMPORTED_MODULE_3__.clamp)(pixelPosition.y - halfPickWndSize, 0, height));\n        PointCloudOctreePicker.prepareRender(renderer, x, y, pickWndSize, pickMaterial, pickState);\n        const renderedNodes = PointCloudOctreePicker.render(renderer, camera, pickMaterial, octrees, ray, pickState, params);\n        // Cleanup\n        pickMaterial.clearVisibleNodeTextureOffsets();\n        // Read back image and decode hit point\n        const pixels = PointCloudOctreePicker.readPixels(renderer, x, y, pickWndSize);\n        const hit = PointCloudOctreePicker.findHit(pixels, pickWndSize);\n        return PointCloudOctreePicker.getPickPoint(hit, renderedNodes);\n    }\n    static prepareRender(renderer, x, y, pickWndSize, pickMaterial, pickState) {\n        // Render the intersected nodes onto the pick render target, clipping to a small pick window.\n        renderer.setScissor(x, y, pickWndSize, pickWndSize);\n        renderer.setScissorTest(true);\n        renderer.state.buffers.depth.setTest(pickMaterial.depthTest);\n        renderer.state.buffers.depth.setMask(pickMaterial.depthWrite);\n        renderer.state.setBlending(three__WEBPACK_IMPORTED_MODULE_0__.NoBlending);\n        renderer.setRenderTarget(pickState.renderTarget);\n        // Save the current clear color and clear the renderer with black color and alpha 0.\n        renderer.getClearColor(this.clearColor);\n        const oldClearAlpha = renderer.getClearAlpha();\n        renderer.setClearColor(_constants__WEBPACK_IMPORTED_MODULE_1__.COLOR_BLACK, 0);\n        renderer.clear(true, true, true);\n        renderer.setClearColor(this.clearColor, oldClearAlpha);\n    }\n    static render(renderer, camera, pickMaterial, octrees, ray, pickState, params) {\n        const renderedNodes = [];\n        for (const octree of octrees) {\n            // Get all the octree nodes which intersect the picking ray. We only need to render those.\n            const nodes = PointCloudOctreePicker.nodesOnRay(octree, ray);\n            if (!nodes.length) {\n                continue;\n            }\n            PointCloudOctreePicker.updatePickMaterial(pickMaterial, octree.material, params);\n            pickMaterial.updateMaterial(octree, nodes, camera, renderer);\n            if (params.onBeforePickRender) {\n                params.onBeforePickRender(pickMaterial, pickState.renderTarget);\n            }\n            // Create copies of the nodes so we can render them differently than in the normal point cloud.\n            pickState.scene.children = PointCloudOctreePicker.createTempNodes(octree, nodes, pickMaterial, renderedNodes.length);\n            renderer.render(pickState.scene, camera);\n            nodes.forEach(node => renderedNodes.push({ node, octree }));\n        }\n        return renderedNodes;\n    }\n    static nodesOnRay(octree, ray) {\n        const nodesOnRay = [];\n        const rayClone = ray.clone();\n        for (const node of octree.visibleNodes) {\n            const sphere = PointCloudOctreePicker.helperSphere\n                .copy(node.boundingSphere)\n                .applyMatrix4(octree.matrixWorld);\n            if (rayClone.intersectsSphere(sphere)) {\n                nodesOnRay.push(node);\n            }\n        }\n        return nodesOnRay;\n    }\n    static readPixels(renderer, x, y, pickWndSize) {\n        // Read the pixel from the pick render target.\n        const pixels = new Uint8Array(4 * pickWndSize * pickWndSize);\n        renderer.readRenderTargetPixels(renderer.getRenderTarget(), x, y, pickWndSize, pickWndSize, pixels);\n        renderer.setScissorTest(false);\n        renderer.setRenderTarget(null);\n        return pixels;\n    }\n    static createTempNodes(octree, nodes, pickMaterial, nodeIndexOffset) {\n        const tempNodes = [];\n        for (let i = 0; i < nodes.length; i++) {\n            const node = nodes[i];\n            const sceneNode = node.sceneNode;\n            const tempNode = new three__WEBPACK_IMPORTED_MODULE_0__.Points(sceneNode.geometry, pickMaterial);\n            tempNode.matrix = sceneNode.matrix;\n            tempNode.matrixWorld = sceneNode.matrixWorld;\n            tempNode.matrixAutoUpdate = false;\n            tempNode.frustumCulled = false;\n            const nodeIndex = nodeIndexOffset + i + 1;\n            if (nodeIndex > 255) {\n                console.error('More than 255 nodes for pick are not supported.');\n            }\n            tempNode.onBeforeRender = _materials__WEBPACK_IMPORTED_MODULE_2__.PointCloudMaterial.makeOnBeforeRender(octree, node, nodeIndex);\n            tempNodes.push(tempNode);\n        }\n        return tempNodes;\n    }\n    static updatePickMaterial(pickMaterial, nodeMaterial, params) {\n        pickMaterial.pointSizeType = nodeMaterial.pointSizeType;\n        pickMaterial.shape = nodeMaterial.shape;\n        pickMaterial.size = nodeMaterial.size;\n        pickMaterial.minSize = nodeMaterial.minSize;\n        pickMaterial.maxSize = nodeMaterial.maxSize;\n        pickMaterial.classification = nodeMaterial.classification;\n        pickMaterial.useFilterByNormal = nodeMaterial.useFilterByNormal;\n        pickMaterial.filterByNormalThreshold = nodeMaterial.filterByNormalThreshold;\n        if (params.pickOutsideClipRegion) {\n            pickMaterial.clipMode = _materials__WEBPACK_IMPORTED_MODULE_2__.ClipMode.DISABLED;\n        }\n        else {\n            pickMaterial.clipMode = nodeMaterial.clipMode;\n            pickMaterial.setClipBoxes(nodeMaterial.clipMode === _materials__WEBPACK_IMPORTED_MODULE_2__.ClipMode.CLIP_OUTSIDE ? nodeMaterial.clipBoxes : []);\n        }\n    }\n    static updatePickRenderTarget(pickState, width, height) {\n        if (pickState.renderTarget.width === width && pickState.renderTarget.height === height) {\n            return;\n        }\n        pickState.renderTarget.dispose();\n        pickState.renderTarget = PointCloudOctreePicker.makePickRenderTarget();\n        pickState.renderTarget.setSize(width, height);\n    }\n    static makePickRenderTarget() {\n        return new three__WEBPACK_IMPORTED_MODULE_0__.WebGLRenderTarget(1, 1, {\n            minFilter: three__WEBPACK_IMPORTED_MODULE_0__.LinearFilter,\n            magFilter: three__WEBPACK_IMPORTED_MODULE_0__.NearestFilter,\n            format: three__WEBPACK_IMPORTED_MODULE_0__.RGBAFormat,\n        });\n    }\n    static findHit(pixels, pickWndSize) {\n        const ibuffer = new Uint32Array(pixels.buffer);\n        // Find closest hit inside pixelWindow boundaries\n        let min = Number.MAX_VALUE;\n        let hit = null;\n        for (let u = 0; u < pickWndSize; u++) {\n            for (let v = 0; v < pickWndSize; v++) {\n                const offset = u + v * pickWndSize;\n                const distance = Math.pow(u - (pickWndSize - 1) / 2, 2) + Math.pow(v - (pickWndSize - 1) / 2, 2);\n                const pcIndex = pixels[4 * offset + 3];\n                pixels[4 * offset + 3] = 0;\n                const pIndex = ibuffer[offset];\n                if (pcIndex > 0 && distance < min) {\n                    hit = {\n                        pIndex: pIndex,\n                        pcIndex: pcIndex - 1,\n                    };\n                    min = distance;\n                }\n            }\n        }\n        return hit;\n    }\n    static getPickPoint(hit, nodes) {\n        if (!hit) {\n            return null;\n        }\n        const point = {};\n        const points = nodes[hit.pcIndex] && nodes[hit.pcIndex].node.sceneNode;\n        if (!points) {\n            return null;\n        }\n        point.pointCloud = nodes[hit.pcIndex].octree;\n        const attributes = points.geometry.attributes;\n        for (const property in attributes) {\n            if (!attributes.hasOwnProperty(property)) {\n                continue;\n            }\n            const values = attributes[property];\n            // tslint:disable-next-line:prefer-switch\n            if (property === 'position') {\n                PointCloudOctreePicker.addPositionToPickPoint(point, hit, values, points);\n            }\n            else if (property === 'normal') {\n                PointCloudOctreePicker.addNormalToPickPoint(point, hit, values, points);\n            }\n            else if (property === 'indices') {\n                // TODO\n            }\n            else {\n                if (values.itemSize === 1) {\n                    point[property] = values.array[hit.pIndex];\n                }\n                else {\n                    const value = [];\n                    for (let j = 0; j < values.itemSize; j++) {\n                        value.push(values.array[values.itemSize * hit.pIndex + j]);\n                    }\n                    point[property] = value;\n                }\n            }\n        }\n        return point;\n    }\n    static addPositionToPickPoint(point, hit, values, points) {\n        point.position = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3()\n            .fromBufferAttribute(values, hit.pIndex)\n            .applyMatrix4(points.matrixWorld);\n    }\n    static addNormalToPickPoint(point, hit, values, points) {\n        const normal = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3().fromBufferAttribute(values, hit.pIndex);\n        const normal4 = new three__WEBPACK_IMPORTED_MODULE_0__.Vector4(normal.x, normal.y, normal.z, 0).applyMatrix4(points.matrixWorld);\n        normal.set(normal4.x, normal4.y, normal4.z);\n        point.normal = normal;\n    }\n    static getPickState() {\n        const scene = new three__WEBPACK_IMPORTED_MODULE_0__.Scene();\n        scene.matrixAutoUpdate = false;\n        const material = new _materials__WEBPACK_IMPORTED_MODULE_2__.PointCloudMaterial();\n        material.pointColorType = _materials__WEBPACK_IMPORTED_MODULE_2__.PointColorType.POINT_INDEX;\n        return {\n            renderTarget: PointCloudOctreePicker.makePickRenderTarget(),\n            material: material,\n            scene: scene,\n        };\n    }\n}\nPointCloudOctreePicker.helperVec3 = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\nPointCloudOctreePicker.helperSphere = new three__WEBPACK_IMPORTED_MODULE_0__.Sphere();\nPointCloudOctreePicker.clearColor = new three__WEBPACK_IMPORTED_MODULE_0__.Color();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcG9pbnQtY2xvdWQtb2N0cmVlLXBpY2tlci50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcG90cmVlLy4vc3JjL3BvaW50LWNsb3VkLW9jdHJlZS1waWNrZXIudHM/MWUzYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb2xvciwgTGluZWFyRmlsdGVyLCBOZWFyZXN0RmlsdGVyLCBOb0JsZW5kaW5nLCBQb2ludHMsIFJHQkFGb3JtYXQsIFNjZW5lLCBTcGhlcmUsIFZlY3RvcjMsIFZlY3RvcjQsIFdlYkdMUmVuZGVyVGFyZ2V0LCB9IGZyb20gJ3RocmVlJztcbmltcG9ydCB7IENPTE9SX0JMQUNLLCBERUZBVUxUX1BJQ0tfV0lORE9XX1NJWkUgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBDbGlwTW9kZSwgUG9pbnRDbG91ZE1hdGVyaWFsLCBQb2ludENvbG9yVHlwZSB9IGZyb20gJy4vbWF0ZXJpYWxzJztcbmltcG9ydCB7IGNsYW1wIH0gZnJvbSAnLi91dGlscy9tYXRoJztcbmV4cG9ydCBjbGFzcyBQb2ludENsb3VkT2N0cmVlUGlja2VyIHtcbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBpZiAodGhpcy5waWNrU3RhdGUpIHtcbiAgICAgICAgICAgIHRoaXMucGlja1N0YXRlLm1hdGVyaWFsLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIHRoaXMucGlja1N0YXRlLnJlbmRlclRhcmdldC5kaXNwb3NlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcGljayhyZW5kZXJlciwgY2FtZXJhLCByYXksIG9jdHJlZXMsIHBhcmFtcyA9IHt9KSB7XG4gICAgICAgIGlmIChvY3RyZWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGlja1N0YXRlID0gdGhpcy5waWNrU3RhdGVcbiAgICAgICAgICAgID8gdGhpcy5waWNrU3RhdGVcbiAgICAgICAgICAgIDogKHRoaXMucGlja1N0YXRlID0gUG9pbnRDbG91ZE9jdHJlZVBpY2tlci5nZXRQaWNrU3RhdGUoKSk7XG4gICAgICAgIGNvbnN0IHBpY2tNYXRlcmlhbCA9IHBpY2tTdGF0ZS5tYXRlcmlhbDtcbiAgICAgICAgY29uc3QgcGl4ZWxSYXRpbyA9IHJlbmRlcmVyLmdldFBpeGVsUmF0aW8oKTtcbiAgICAgICAgY29uc3Qgd2lkdGggPSBNYXRoLmNlaWwocmVuZGVyZXIuZG9tRWxlbWVudC5jbGllbnRXaWR0aCAqIHBpeGVsUmF0aW8pO1xuICAgICAgICBjb25zdCBoZWlnaHQgPSBNYXRoLmNlaWwocmVuZGVyZXIuZG9tRWxlbWVudC5jbGllbnRIZWlnaHQgKiBwaXhlbFJhdGlvKTtcbiAgICAgICAgUG9pbnRDbG91ZE9jdHJlZVBpY2tlci51cGRhdGVQaWNrUmVuZGVyVGFyZ2V0KHRoaXMucGlja1N0YXRlLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgY29uc3QgcGl4ZWxQb3NpdGlvbiA9IFBvaW50Q2xvdWRPY3RyZWVQaWNrZXIuaGVscGVyVmVjMzsgLy8gVXNlIGhlbHBlciB2ZWN0b3IgdG8gcHJldmVudCBleHRyYSBhbGxvY2F0aW9ucy5cbiAgICAgICAgaWYgKHBhcmFtcy5waXhlbFBvc2l0aW9uKSB7XG4gICAgICAgICAgICBwaXhlbFBvc2l0aW9uLmNvcHkocGFyYW1zLnBpeGVsUG9zaXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcGl4ZWxQb3NpdGlvbi5hZGRWZWN0b3JzKGNhbWVyYS5wb3NpdGlvbiwgcmF5LmRpcmVjdGlvbikucHJvamVjdChjYW1lcmEpO1xuICAgICAgICAgICAgcGl4ZWxQb3NpdGlvbi54ID0gKHBpeGVsUG9zaXRpb24ueCArIDEpICogd2lkdGggKiAwLjU7XG4gICAgICAgICAgICBwaXhlbFBvc2l0aW9uLnkgPSAocGl4ZWxQb3NpdGlvbi55ICsgMSkgKiBoZWlnaHQgKiAwLjU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGlja1duZFNpemUgPSBNYXRoLmZsb29yKChwYXJhbXMucGlja1dpbmRvd1NpemUgfHwgREVGQVVMVF9QSUNLX1dJTkRPV19TSVpFKSAqIHBpeGVsUmF0aW8pO1xuICAgICAgICBjb25zdCBoYWxmUGlja1duZFNpemUgPSAocGlja1duZFNpemUgLSAxKSAvIDI7XG4gICAgICAgIGNvbnN0IHggPSBNYXRoLmZsb29yKGNsYW1wKHBpeGVsUG9zaXRpb24ueCAtIGhhbGZQaWNrV25kU2l6ZSwgMCwgd2lkdGgpKTtcbiAgICAgICAgY29uc3QgeSA9IE1hdGguZmxvb3IoY2xhbXAocGl4ZWxQb3NpdGlvbi55IC0gaGFsZlBpY2tXbmRTaXplLCAwLCBoZWlnaHQpKTtcbiAgICAgICAgUG9pbnRDbG91ZE9jdHJlZVBpY2tlci5wcmVwYXJlUmVuZGVyKHJlbmRlcmVyLCB4LCB5LCBwaWNrV25kU2l6ZSwgcGlja01hdGVyaWFsLCBwaWNrU3RhdGUpO1xuICAgICAgICBjb25zdCByZW5kZXJlZE5vZGVzID0gUG9pbnRDbG91ZE9jdHJlZVBpY2tlci5yZW5kZXIocmVuZGVyZXIsIGNhbWVyYSwgcGlja01hdGVyaWFsLCBvY3RyZWVzLCByYXksIHBpY2tTdGF0ZSwgcGFyYW1zKTtcbiAgICAgICAgLy8gQ2xlYW51cFxuICAgICAgICBwaWNrTWF0ZXJpYWwuY2xlYXJWaXNpYmxlTm9kZVRleHR1cmVPZmZzZXRzKCk7XG4gICAgICAgIC8vIFJlYWQgYmFjayBpbWFnZSBhbmQgZGVjb2RlIGhpdCBwb2ludFxuICAgICAgICBjb25zdCBwaXhlbHMgPSBQb2ludENsb3VkT2N0cmVlUGlja2VyLnJlYWRQaXhlbHMocmVuZGVyZXIsIHgsIHksIHBpY2tXbmRTaXplKTtcbiAgICAgICAgY29uc3QgaGl0ID0gUG9pbnRDbG91ZE9jdHJlZVBpY2tlci5maW5kSGl0KHBpeGVscywgcGlja1duZFNpemUpO1xuICAgICAgICByZXR1cm4gUG9pbnRDbG91ZE9jdHJlZVBpY2tlci5nZXRQaWNrUG9pbnQoaGl0LCByZW5kZXJlZE5vZGVzKTtcbiAgICB9XG4gICAgc3RhdGljIHByZXBhcmVSZW5kZXIocmVuZGVyZXIsIHgsIHksIHBpY2tXbmRTaXplLCBwaWNrTWF0ZXJpYWwsIHBpY2tTdGF0ZSkge1xuICAgICAgICAvLyBSZW5kZXIgdGhlIGludGVyc2VjdGVkIG5vZGVzIG9udG8gdGhlIHBpY2sgcmVuZGVyIHRhcmdldCwgY2xpcHBpbmcgdG8gYSBzbWFsbCBwaWNrIHdpbmRvdy5cbiAgICAgICAgcmVuZGVyZXIuc2V0U2Npc3Nvcih4LCB5LCBwaWNrV25kU2l6ZSwgcGlja1duZFNpemUpO1xuICAgICAgICByZW5kZXJlci5zZXRTY2lzc29yVGVzdCh0cnVlKTtcbiAgICAgICAgcmVuZGVyZXIuc3RhdGUuYnVmZmVycy5kZXB0aC5zZXRUZXN0KHBpY2tNYXRlcmlhbC5kZXB0aFRlc3QpO1xuICAgICAgICByZW5kZXJlci5zdGF0ZS5idWZmZXJzLmRlcHRoLnNldE1hc2socGlja01hdGVyaWFsLmRlcHRoV3JpdGUpO1xuICAgICAgICByZW5kZXJlci5zdGF0ZS5zZXRCbGVuZGluZyhOb0JsZW5kaW5nKTtcbiAgICAgICAgcmVuZGVyZXIuc2V0UmVuZGVyVGFyZ2V0KHBpY2tTdGF0ZS5yZW5kZXJUYXJnZXQpO1xuICAgICAgICAvLyBTYXZlIHRoZSBjdXJyZW50IGNsZWFyIGNvbG9yIGFuZCBjbGVhciB0aGUgcmVuZGVyZXIgd2l0aCBibGFjayBjb2xvciBhbmQgYWxwaGEgMC5cbiAgICAgICAgcmVuZGVyZXIuZ2V0Q2xlYXJDb2xvcih0aGlzLmNsZWFyQ29sb3IpO1xuICAgICAgICBjb25zdCBvbGRDbGVhckFscGhhID0gcmVuZGVyZXIuZ2V0Q2xlYXJBbHBoYSgpO1xuICAgICAgICByZW5kZXJlci5zZXRDbGVhckNvbG9yKENPTE9SX0JMQUNLLCAwKTtcbiAgICAgICAgcmVuZGVyZXIuY2xlYXIodHJ1ZSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgIHJlbmRlcmVyLnNldENsZWFyQ29sb3IodGhpcy5jbGVhckNvbG9yLCBvbGRDbGVhckFscGhhKTtcbiAgICB9XG4gICAgc3RhdGljIHJlbmRlcihyZW5kZXJlciwgY2FtZXJhLCBwaWNrTWF0ZXJpYWwsIG9jdHJlZXMsIHJheSwgcGlja1N0YXRlLCBwYXJhbXMpIHtcbiAgICAgICAgY29uc3QgcmVuZGVyZWROb2RlcyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IG9jdHJlZSBvZiBvY3RyZWVzKSB7XG4gICAgICAgICAgICAvLyBHZXQgYWxsIHRoZSBvY3RyZWUgbm9kZXMgd2hpY2ggaW50ZXJzZWN0IHRoZSBwaWNraW5nIHJheS4gV2Ugb25seSBuZWVkIHRvIHJlbmRlciB0aG9zZS5cbiAgICAgICAgICAgIGNvbnN0IG5vZGVzID0gUG9pbnRDbG91ZE9jdHJlZVBpY2tlci5ub2Rlc09uUmF5KG9jdHJlZSwgcmF5KTtcbiAgICAgICAgICAgIGlmICghbm9kZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBQb2ludENsb3VkT2N0cmVlUGlja2VyLnVwZGF0ZVBpY2tNYXRlcmlhbChwaWNrTWF0ZXJpYWwsIG9jdHJlZS5tYXRlcmlhbCwgcGFyYW1zKTtcbiAgICAgICAgICAgIHBpY2tNYXRlcmlhbC51cGRhdGVNYXRlcmlhbChvY3RyZWUsIG5vZGVzLCBjYW1lcmEsIHJlbmRlcmVyKTtcbiAgICAgICAgICAgIGlmIChwYXJhbXMub25CZWZvcmVQaWNrUmVuZGVyKSB7XG4gICAgICAgICAgICAgICAgcGFyYW1zLm9uQmVmb3JlUGlja1JlbmRlcihwaWNrTWF0ZXJpYWwsIHBpY2tTdGF0ZS5yZW5kZXJUYXJnZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQ3JlYXRlIGNvcGllcyBvZiB0aGUgbm9kZXMgc28gd2UgY2FuIHJlbmRlciB0aGVtIGRpZmZlcmVudGx5IHRoYW4gaW4gdGhlIG5vcm1hbCBwb2ludCBjbG91ZC5cbiAgICAgICAgICAgIHBpY2tTdGF0ZS5zY2VuZS5jaGlsZHJlbiA9IFBvaW50Q2xvdWRPY3RyZWVQaWNrZXIuY3JlYXRlVGVtcE5vZGVzKG9jdHJlZSwgbm9kZXMsIHBpY2tNYXRlcmlhbCwgcmVuZGVyZWROb2Rlcy5sZW5ndGgpO1xuICAgICAgICAgICAgcmVuZGVyZXIucmVuZGVyKHBpY2tTdGF0ZS5zY2VuZSwgY2FtZXJhKTtcbiAgICAgICAgICAgIG5vZGVzLmZvckVhY2gobm9kZSA9PiByZW5kZXJlZE5vZGVzLnB1c2goeyBub2RlLCBvY3RyZWUgfSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZW5kZXJlZE5vZGVzO1xuICAgIH1cbiAgICBzdGF0aWMgbm9kZXNPblJheShvY3RyZWUsIHJheSkge1xuICAgICAgICBjb25zdCBub2Rlc09uUmF5ID0gW107XG4gICAgICAgIGNvbnN0IHJheUNsb25lID0gcmF5LmNsb25lKCk7XG4gICAgICAgIGZvciAoY29uc3Qgbm9kZSBvZiBvY3RyZWUudmlzaWJsZU5vZGVzKSB7XG4gICAgICAgICAgICBjb25zdCBzcGhlcmUgPSBQb2ludENsb3VkT2N0cmVlUGlja2VyLmhlbHBlclNwaGVyZVxuICAgICAgICAgICAgICAgIC5jb3B5KG5vZGUuYm91bmRpbmdTcGhlcmUpXG4gICAgICAgICAgICAgICAgLmFwcGx5TWF0cml4NChvY3RyZWUubWF0cml4V29ybGQpO1xuICAgICAgICAgICAgaWYgKHJheUNsb25lLmludGVyc2VjdHNTcGhlcmUoc3BoZXJlKSkge1xuICAgICAgICAgICAgICAgIG5vZGVzT25SYXkucHVzaChub2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9kZXNPblJheTtcbiAgICB9XG4gICAgc3RhdGljIHJlYWRQaXhlbHMocmVuZGVyZXIsIHgsIHksIHBpY2tXbmRTaXplKSB7XG4gICAgICAgIC8vIFJlYWQgdGhlIHBpeGVsIGZyb20gdGhlIHBpY2sgcmVuZGVyIHRhcmdldC5cbiAgICAgICAgY29uc3QgcGl4ZWxzID0gbmV3IFVpbnQ4QXJyYXkoNCAqIHBpY2tXbmRTaXplICogcGlja1duZFNpemUpO1xuICAgICAgICByZW5kZXJlci5yZWFkUmVuZGVyVGFyZ2V0UGl4ZWxzKHJlbmRlcmVyLmdldFJlbmRlclRhcmdldCgpLCB4LCB5LCBwaWNrV25kU2l6ZSwgcGlja1duZFNpemUsIHBpeGVscyk7XG4gICAgICAgIHJlbmRlcmVyLnNldFNjaXNzb3JUZXN0KGZhbHNlKTtcbiAgICAgICAgcmVuZGVyZXIuc2V0UmVuZGVyVGFyZ2V0KG51bGwpO1xuICAgICAgICByZXR1cm4gcGl4ZWxzO1xuICAgIH1cbiAgICBzdGF0aWMgY3JlYXRlVGVtcE5vZGVzKG9jdHJlZSwgbm9kZXMsIHBpY2tNYXRlcmlhbCwgbm9kZUluZGV4T2Zmc2V0KSB7XG4gICAgICAgIGNvbnN0IHRlbXBOb2RlcyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBub2RlID0gbm9kZXNbaV07XG4gICAgICAgICAgICBjb25zdCBzY2VuZU5vZGUgPSBub2RlLnNjZW5lTm9kZTtcbiAgICAgICAgICAgIGNvbnN0IHRlbXBOb2RlID0gbmV3IFBvaW50cyhzY2VuZU5vZGUuZ2VvbWV0cnksIHBpY2tNYXRlcmlhbCk7XG4gICAgICAgICAgICB0ZW1wTm9kZS5tYXRyaXggPSBzY2VuZU5vZGUubWF0cml4O1xuICAgICAgICAgICAgdGVtcE5vZGUubWF0cml4V29ybGQgPSBzY2VuZU5vZGUubWF0cml4V29ybGQ7XG4gICAgICAgICAgICB0ZW1wTm9kZS5tYXRyaXhBdXRvVXBkYXRlID0gZmFsc2U7XG4gICAgICAgICAgICB0ZW1wTm9kZS5mcnVzdHVtQ3VsbGVkID0gZmFsc2U7XG4gICAgICAgICAgICBjb25zdCBub2RlSW5kZXggPSBub2RlSW5kZXhPZmZzZXQgKyBpICsgMTtcbiAgICAgICAgICAgIGlmIChub2RlSW5kZXggPiAyNTUpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdNb3JlIHRoYW4gMjU1IG5vZGVzIGZvciBwaWNrIGFyZSBub3Qgc3VwcG9ydGVkLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGVtcE5vZGUub25CZWZvcmVSZW5kZXIgPSBQb2ludENsb3VkTWF0ZXJpYWwubWFrZU9uQmVmb3JlUmVuZGVyKG9jdHJlZSwgbm9kZSwgbm9kZUluZGV4KTtcbiAgICAgICAgICAgIHRlbXBOb2Rlcy5wdXNoKHRlbXBOb2RlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGVtcE5vZGVzO1xuICAgIH1cbiAgICBzdGF0aWMgdXBkYXRlUGlja01hdGVyaWFsKHBpY2tNYXRlcmlhbCwgbm9kZU1hdGVyaWFsLCBwYXJhbXMpIHtcbiAgICAgICAgcGlja01hdGVyaWFsLnBvaW50U2l6ZVR5cGUgPSBub2RlTWF0ZXJpYWwucG9pbnRTaXplVHlwZTtcbiAgICAgICAgcGlja01hdGVyaWFsLnNoYXBlID0gbm9kZU1hdGVyaWFsLnNoYXBlO1xuICAgICAgICBwaWNrTWF0ZXJpYWwuc2l6ZSA9IG5vZGVNYXRlcmlhbC5zaXplO1xuICAgICAgICBwaWNrTWF0ZXJpYWwubWluU2l6ZSA9IG5vZGVNYXRlcmlhbC5taW5TaXplO1xuICAgICAgICBwaWNrTWF0ZXJpYWwubWF4U2l6ZSA9IG5vZGVNYXRlcmlhbC5tYXhTaXplO1xuICAgICAgICBwaWNrTWF0ZXJpYWwuY2xhc3NpZmljYXRpb24gPSBub2RlTWF0ZXJpYWwuY2xhc3NpZmljYXRpb247XG4gICAgICAgIHBpY2tNYXRlcmlhbC51c2VGaWx0ZXJCeU5vcm1hbCA9IG5vZGVNYXRlcmlhbC51c2VGaWx0ZXJCeU5vcm1hbDtcbiAgICAgICAgcGlja01hdGVyaWFsLmZpbHRlckJ5Tm9ybWFsVGhyZXNob2xkID0gbm9kZU1hdGVyaWFsLmZpbHRlckJ5Tm9ybWFsVGhyZXNob2xkO1xuICAgICAgICBpZiAocGFyYW1zLnBpY2tPdXRzaWRlQ2xpcFJlZ2lvbikge1xuICAgICAgICAgICAgcGlja01hdGVyaWFsLmNsaXBNb2RlID0gQ2xpcE1vZGUuRElTQUJMRUQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwaWNrTWF0ZXJpYWwuY2xpcE1vZGUgPSBub2RlTWF0ZXJpYWwuY2xpcE1vZGU7XG4gICAgICAgICAgICBwaWNrTWF0ZXJpYWwuc2V0Q2xpcEJveGVzKG5vZGVNYXRlcmlhbC5jbGlwTW9kZSA9PT0gQ2xpcE1vZGUuQ0xJUF9PVVRTSURFID8gbm9kZU1hdGVyaWFsLmNsaXBCb3hlcyA6IFtdKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgdXBkYXRlUGlja1JlbmRlclRhcmdldChwaWNrU3RhdGUsIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgaWYgKHBpY2tTdGF0ZS5yZW5kZXJUYXJnZXQud2lkdGggPT09IHdpZHRoICYmIHBpY2tTdGF0ZS5yZW5kZXJUYXJnZXQuaGVpZ2h0ID09PSBoZWlnaHQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBwaWNrU3RhdGUucmVuZGVyVGFyZ2V0LmRpc3Bvc2UoKTtcbiAgICAgICAgcGlja1N0YXRlLnJlbmRlclRhcmdldCA9IFBvaW50Q2xvdWRPY3RyZWVQaWNrZXIubWFrZVBpY2tSZW5kZXJUYXJnZXQoKTtcbiAgICAgICAgcGlja1N0YXRlLnJlbmRlclRhcmdldC5zZXRTaXplKHdpZHRoLCBoZWlnaHQpO1xuICAgIH1cbiAgICBzdGF0aWMgbWFrZVBpY2tSZW5kZXJUYXJnZXQoKSB7XG4gICAgICAgIHJldHVybiBuZXcgV2ViR0xSZW5kZXJUYXJnZXQoMSwgMSwge1xuICAgICAgICAgICAgbWluRmlsdGVyOiBMaW5lYXJGaWx0ZXIsXG4gICAgICAgICAgICBtYWdGaWx0ZXI6IE5lYXJlc3RGaWx0ZXIsXG4gICAgICAgICAgICBmb3JtYXQ6IFJHQkFGb3JtYXQsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzdGF0aWMgZmluZEhpdChwaXhlbHMsIHBpY2tXbmRTaXplKSB7XG4gICAgICAgIGNvbnN0IGlidWZmZXIgPSBuZXcgVWludDMyQXJyYXkocGl4ZWxzLmJ1ZmZlcik7XG4gICAgICAgIC8vIEZpbmQgY2xvc2VzdCBoaXQgaW5zaWRlIHBpeGVsV2luZG93IGJvdW5kYXJpZXNcbiAgICAgICAgbGV0IG1pbiA9IE51bWJlci5NQVhfVkFMVUU7XG4gICAgICAgIGxldCBoaXQgPSBudWxsO1xuICAgICAgICBmb3IgKGxldCB1ID0gMDsgdSA8IHBpY2tXbmRTaXplOyB1KyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IHYgPSAwOyB2IDwgcGlja1duZFNpemU7IHYrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9mZnNldCA9IHUgKyB2ICogcGlja1duZFNpemU7XG4gICAgICAgICAgICAgICAgY29uc3QgZGlzdGFuY2UgPSBNYXRoLnBvdyh1IC0gKHBpY2tXbmRTaXplIC0gMSkgLyAyLCAyKSArIE1hdGgucG93KHYgLSAocGlja1duZFNpemUgLSAxKSAvIDIsIDIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBjSW5kZXggPSBwaXhlbHNbNCAqIG9mZnNldCArIDNdO1xuICAgICAgICAgICAgICAgIHBpeGVsc1s0ICogb2Zmc2V0ICsgM10gPSAwO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBJbmRleCA9IGlidWZmZXJbb2Zmc2V0XTtcbiAgICAgICAgICAgICAgICBpZiAocGNJbmRleCA+IDAgJiYgZGlzdGFuY2UgPCBtaW4pIHtcbiAgICAgICAgICAgICAgICAgICAgaGl0ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcEluZGV4OiBwSW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICBwY0luZGV4OiBwY0luZGV4IC0gMSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgbWluID0gZGlzdGFuY2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoaXQ7XG4gICAgfVxuICAgIHN0YXRpYyBnZXRQaWNrUG9pbnQoaGl0LCBub2Rlcykge1xuICAgICAgICBpZiAoIWhpdCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcG9pbnQgPSB7fTtcbiAgICAgICAgY29uc3QgcG9pbnRzID0gbm9kZXNbaGl0LnBjSW5kZXhdICYmIG5vZGVzW2hpdC5wY0luZGV4XS5ub2RlLnNjZW5lTm9kZTtcbiAgICAgICAgaWYgKCFwb2ludHMpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHBvaW50LnBvaW50Q2xvdWQgPSBub2Rlc1toaXQucGNJbmRleF0ub2N0cmVlO1xuICAgICAgICBjb25zdCBhdHRyaWJ1dGVzID0gcG9pbnRzLmdlb21ldHJ5LmF0dHJpYnV0ZXM7XG4gICAgICAgIGZvciAoY29uc3QgcHJvcGVydHkgaW4gYXR0cmlidXRlcykge1xuICAgICAgICAgICAgaWYgKCFhdHRyaWJ1dGVzLmhhc093blByb3BlcnR5KHByb3BlcnR5KSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdmFsdWVzID0gYXR0cmlidXRlc1twcm9wZXJ0eV07XG4gICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6cHJlZmVyLXN3aXRjaFxuICAgICAgICAgICAgaWYgKHByb3BlcnR5ID09PSAncG9zaXRpb24nKSB7XG4gICAgICAgICAgICAgICAgUG9pbnRDbG91ZE9jdHJlZVBpY2tlci5hZGRQb3NpdGlvblRvUGlja1BvaW50KHBvaW50LCBoaXQsIHZhbHVlcywgcG9pbnRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHByb3BlcnR5ID09PSAnbm9ybWFsJykge1xuICAgICAgICAgICAgICAgIFBvaW50Q2xvdWRPY3RyZWVQaWNrZXIuYWRkTm9ybWFsVG9QaWNrUG9pbnQocG9pbnQsIGhpdCwgdmFsdWVzLCBwb2ludHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocHJvcGVydHkgPT09ICdpbmRpY2VzJykge1xuICAgICAgICAgICAgICAgIC8vIFRPRE9cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZXMuaXRlbVNpemUgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRbcHJvcGVydHldID0gdmFsdWVzLmFycmF5W2hpdC5wSW5kZXhdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB2YWx1ZXMuaXRlbVNpemU7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUucHVzaCh2YWx1ZXMuYXJyYXlbdmFsdWVzLml0ZW1TaXplICogaGl0LnBJbmRleCArIGpdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBwb2ludFtwcm9wZXJ0eV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBvaW50O1xuICAgIH1cbiAgICBzdGF0aWMgYWRkUG9zaXRpb25Ub1BpY2tQb2ludChwb2ludCwgaGl0LCB2YWx1ZXMsIHBvaW50cykge1xuICAgICAgICBwb2ludC5wb3NpdGlvbiA9IG5ldyBWZWN0b3IzKClcbiAgICAgICAgICAgIC5mcm9tQnVmZmVyQXR0cmlidXRlKHZhbHVlcywgaGl0LnBJbmRleClcbiAgICAgICAgICAgIC5hcHBseU1hdHJpeDQocG9pbnRzLm1hdHJpeFdvcmxkKTtcbiAgICB9XG4gICAgc3RhdGljIGFkZE5vcm1hbFRvUGlja1BvaW50KHBvaW50LCBoaXQsIHZhbHVlcywgcG9pbnRzKSB7XG4gICAgICAgIGNvbnN0IG5vcm1hbCA9IG5ldyBWZWN0b3IzKCkuZnJvbUJ1ZmZlckF0dHJpYnV0ZSh2YWx1ZXMsIGhpdC5wSW5kZXgpO1xuICAgICAgICBjb25zdCBub3JtYWw0ID0gbmV3IFZlY3RvcjQobm9ybWFsLngsIG5vcm1hbC55LCBub3JtYWwueiwgMCkuYXBwbHlNYXRyaXg0KHBvaW50cy5tYXRyaXhXb3JsZCk7XG4gICAgICAgIG5vcm1hbC5zZXQobm9ybWFsNC54LCBub3JtYWw0LnksIG5vcm1hbDQueik7XG4gICAgICAgIHBvaW50Lm5vcm1hbCA9IG5vcm1hbDtcbiAgICB9XG4gICAgc3RhdGljIGdldFBpY2tTdGF0ZSgpIHtcbiAgICAgICAgY29uc3Qgc2NlbmUgPSBuZXcgU2NlbmUoKTtcbiAgICAgICAgc2NlbmUubWF0cml4QXV0b1VwZGF0ZSA9IGZhbHNlO1xuICAgICAgICBjb25zdCBtYXRlcmlhbCA9IG5ldyBQb2ludENsb3VkTWF0ZXJpYWwoKTtcbiAgICAgICAgbWF0ZXJpYWwucG9pbnRDb2xvclR5cGUgPSBQb2ludENvbG9yVHlwZS5QT0lOVF9JTkRFWDtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlbmRlclRhcmdldDogUG9pbnRDbG91ZE9jdHJlZVBpY2tlci5tYWtlUGlja1JlbmRlclRhcmdldCgpLFxuICAgICAgICAgICAgbWF0ZXJpYWw6IG1hdGVyaWFsLFxuICAgICAgICAgICAgc2NlbmU6IHNjZW5lLFxuICAgICAgICB9O1xuICAgIH1cbn1cblBvaW50Q2xvdWRPY3RyZWVQaWNrZXIuaGVscGVyVmVjMyA9IG5ldyBWZWN0b3IzKCk7XG5Qb2ludENsb3VkT2N0cmVlUGlja2VyLmhlbHBlclNwaGVyZSA9IG5ldyBTcGhlcmUoKTtcblBvaW50Q2xvdWRPY3RyZWVQaWNrZXIuY2xlYXJDb2xvciA9IG5ldyBDb2xvcigpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/point-cloud-octree-picker.ts\n");

/***/ }),

/***/ "./src/point-cloud-octree.ts":
/*!***********************************!*\
  !*** ./src/point-cloud-octree.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PointCloudOctree: () => (/* binding */ PointCloudOctree)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"three\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(three__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./constants */ \"./src/constants.ts\");\n/* harmony import */ var _loading2_octree_geometry__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./loading2/octree-geometry */ \"./src/loading2/octree-geometry.ts\");\n/* harmony import */ var _materials__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./materials */ \"./src/materials/index.ts\");\n/* harmony import */ var _point_cloud_octree_node__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./point-cloud-octree-node */ \"./src/point-cloud-octree-node.ts\");\n/* harmony import */ var _point_cloud_octree_picker__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./point-cloud-octree-picker */ \"./src/point-cloud-octree-picker.ts\");\n/* harmony import */ var _point_cloud_tree__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./point-cloud-tree */ \"./src/point-cloud-tree.ts\");\n/* harmony import */ var _utils_bounds__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./utils/bounds */ \"./src/utils/bounds.ts\");\n\n\n\n\n\n\n\n\nclass PointCloudOctree extends _point_cloud_tree__WEBPACK_IMPORTED_MODULE_6__.PointCloudTree {\n    constructor(potree, pcoGeometry, material) {\n        super();\n        this.disposed = false;\n        this.level = 0;\n        this.maxLevel = Infinity;\n        /**\n         * The minimum radius of a node's bounding sphere on the screen in order to be displayed.\n         */\n        this.minNodePixelSize = _constants__WEBPACK_IMPORTED_MODULE_1__.DEFAULT_MIN_NODE_PIXEL_SIZE;\n        this.root = null;\n        this.boundingBoxNodes = [];\n        this.visibleNodes = [];\n        this.visibleGeometry = [];\n        this.numVisiblePoints = 0;\n        this.showBoundingBox = false;\n        this.visibleBounds = new three__WEBPACK_IMPORTED_MODULE_0__.Box3();\n        this.name = '';\n        this.potree = potree;\n        this.root = pcoGeometry.root;\n        this.pcoGeometry = pcoGeometry;\n        this.boundingBox = pcoGeometry.boundingBox;\n        this.boundingSphere = this.boundingBox.getBoundingSphere(new three__WEBPACK_IMPORTED_MODULE_0__.Sphere());\n        this.position.copy(pcoGeometry.offset);\n        this.updateMatrix();\n        this.material =\n            material || pcoGeometry instanceof _loading2_octree_geometry__WEBPACK_IMPORTED_MODULE_2__.OctreeGeometry\n                ? new _materials__WEBPACK_IMPORTED_MODULE_3__.PointCloudMaterial({ colorRgba: true })\n                : new _materials__WEBPACK_IMPORTED_MODULE_3__.PointCloudMaterial();\n        this.initMaterial(this.material);\n    }\n    initMaterial(material) {\n        this.updateMatrixWorld(true);\n        const { min, max } = (0,_utils_bounds__WEBPACK_IMPORTED_MODULE_7__.computeTransformedBoundingBox)(this.pcoGeometry.tightBoundingBox || this.getBoundingBoxWorld(), this.matrixWorld);\n        const bWidth = max.z - min.z;\n        material.heightMin = min.z - 0.2 * bWidth;\n        material.heightMax = max.z + 0.2 * bWidth;\n    }\n    dispose() {\n        if (this.root) {\n            this.root.dispose();\n        }\n        this.pcoGeometry.root.traverse(n => this.potree.lru.remove(n));\n        this.pcoGeometry.dispose();\n        this.material.dispose();\n        this.visibleNodes = [];\n        this.visibleGeometry = [];\n        if (this.picker) {\n            this.picker.dispose();\n            this.picker = undefined;\n        }\n        this.disposed = true;\n    }\n    get pointSizeType() {\n        return this.material.pointSizeType;\n    }\n    set pointSizeType(value) {\n        this.material.pointSizeType = value;\n    }\n    toTreeNode(geometryNode, parent) {\n        const points = new three__WEBPACK_IMPORTED_MODULE_0__.Points(geometryNode.geometry, this.material);\n        const node = new _point_cloud_octree_node__WEBPACK_IMPORTED_MODULE_4__.PointCloudOctreeNode(geometryNode, points);\n        points.name = geometryNode.name;\n        points.position.copy(geometryNode.boundingBox.min);\n        points.frustumCulled = false;\n        points.onBeforeRender = _materials__WEBPACK_IMPORTED_MODULE_3__.PointCloudMaterial.makeOnBeforeRender(this, node);\n        if (parent) {\n            parent.sceneNode.add(points);\n            parent.children[geometryNode.index] = node;\n            geometryNode.oneTimeDisposeHandlers.push(() => {\n                node.disposeSceneNode();\n                parent.sceneNode.remove(node.sceneNode);\n                // Replace the tree node (rendered and in the GPU) with the geometry node.\n                parent.children[geometryNode.index] = geometryNode;\n            });\n        }\n        else {\n            this.root = node;\n            this.add(points);\n        }\n        return node;\n    }\n    updateVisibleBounds() {\n        const bounds = this.visibleBounds;\n        bounds.min.set(Infinity, Infinity, Infinity);\n        bounds.max.set(-Infinity, -Infinity, -Infinity);\n        for (const node of this.visibleNodes) {\n            if (node.isLeafNode) {\n                bounds.expandByPoint(node.boundingBox.min);\n                bounds.expandByPoint(node.boundingBox.max);\n            }\n        }\n    }\n    updateBoundingBoxes() {\n        if (!this.showBoundingBox || !this.parent) {\n            return;\n        }\n        let bbRoot = this.parent.getObjectByName('bbroot');\n        if (!bbRoot) {\n            bbRoot = new three__WEBPACK_IMPORTED_MODULE_0__.Object3D();\n            bbRoot.name = 'bbroot';\n            this.parent.add(bbRoot);\n        }\n        const visibleBoxes = [];\n        for (const node of this.visibleNodes) {\n            if (node.boundingBoxNode !== undefined && node.isLeafNode) {\n                visibleBoxes.push(node.boundingBoxNode);\n            }\n        }\n        bbRoot.children = visibleBoxes;\n    }\n    updateMatrixWorld(force) {\n        if (this.matrixAutoUpdate === true) {\n            this.updateMatrix();\n        }\n        if (this.matrixWorldNeedsUpdate === true || force === true) {\n            if (!this.parent) {\n                this.matrixWorld.copy(this.matrix);\n            }\n            else {\n                this.matrixWorld.multiplyMatrices(this.parent.matrixWorld, this.matrix);\n            }\n            this.matrixWorldNeedsUpdate = false;\n            force = true;\n        }\n    }\n    hideDescendants(object) {\n        const toHide = [];\n        addVisibleChildren(object);\n        while (toHide.length > 0) {\n            const objToHide = toHide.shift();\n            objToHide.visible = false;\n            addVisibleChildren(objToHide);\n        }\n        function addVisibleChildren(obj) {\n            for (const child of obj.children) {\n                if (child.visible) {\n                    toHide.push(child);\n                }\n            }\n        }\n    }\n    moveToOrigin() {\n        this.position.set(0, 0, 0); // Reset, then the matrix will be updated in getBoundingBoxWorld()\n        this.position.set(0, 0, 0).sub(this.getBoundingBoxWorld().getCenter(new three__WEBPACK_IMPORTED_MODULE_0__.Vector3()));\n    }\n    moveToGroundPlane() {\n        this.position.y += -this.getBoundingBoxWorld().min.y;\n    }\n    getBoundingBoxWorld() {\n        this.updateMatrixWorld(true);\n        return (0,_utils_bounds__WEBPACK_IMPORTED_MODULE_7__.computeTransformedBoundingBox)(this.boundingBox, this.matrixWorld);\n    }\n    getVisibleExtent() {\n        return this.visibleBounds.applyMatrix4(this.matrixWorld);\n    }\n    pick(renderer, camera, ray, params = {}) {\n        this.picker = this.picker || new _point_cloud_octree_picker__WEBPACK_IMPORTED_MODULE_5__.PointCloudOctreePicker();\n        return this.picker.pick(renderer, camera, ray, [this], params);\n    }\n    get progress() {\n        return this.visibleGeometry.length === 0\n            ? 0\n            : this.visibleNodes.length / this.visibleGeometry.length;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcG9pbnQtY2xvdWQtb2N0cmVlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb3RyZWUvLi9zcmMvcG9pbnQtY2xvdWQtb2N0cmVlLnRzPzM5Y2EiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQm94MywgT2JqZWN0M0QsIFBvaW50cywgU3BoZXJlLCBWZWN0b3IzIH0gZnJvbSAndGhyZWUnO1xuaW1wb3J0IHsgREVGQVVMVF9NSU5fTk9ERV9QSVhFTF9TSVpFIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgT2N0cmVlR2VvbWV0cnkgfSBmcm9tICcuL2xvYWRpbmcyL29jdHJlZS1nZW9tZXRyeSc7XG5pbXBvcnQgeyBQb2ludENsb3VkTWF0ZXJpYWwgfSBmcm9tICcuL21hdGVyaWFscyc7XG5pbXBvcnQgeyBQb2ludENsb3VkT2N0cmVlTm9kZSB9IGZyb20gJy4vcG9pbnQtY2xvdWQtb2N0cmVlLW5vZGUnO1xuaW1wb3J0IHsgUG9pbnRDbG91ZE9jdHJlZVBpY2tlciB9IGZyb20gJy4vcG9pbnQtY2xvdWQtb2N0cmVlLXBpY2tlcic7XG5pbXBvcnQgeyBQb2ludENsb3VkVHJlZSB9IGZyb20gJy4vcG9pbnQtY2xvdWQtdHJlZSc7XG5pbXBvcnQgeyBjb21wdXRlVHJhbnNmb3JtZWRCb3VuZGluZ0JveCB9IGZyb20gJy4vdXRpbHMvYm91bmRzJztcbmV4cG9ydCBjbGFzcyBQb2ludENsb3VkT2N0cmVlIGV4dGVuZHMgUG9pbnRDbG91ZFRyZWUge1xuICAgIGNvbnN0cnVjdG9yKHBvdHJlZSwgcGNvR2VvbWV0cnksIG1hdGVyaWFsKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuZGlzcG9zZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5sZXZlbCA9IDA7XG4gICAgICAgIHRoaXMubWF4TGV2ZWwgPSBJbmZpbml0eTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtaW5pbXVtIHJhZGl1cyBvZiBhIG5vZGUncyBib3VuZGluZyBzcGhlcmUgb24gdGhlIHNjcmVlbiBpbiBvcmRlciB0byBiZSBkaXNwbGF5ZWQuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1pbk5vZGVQaXhlbFNpemUgPSBERUZBVUxUX01JTl9OT0RFX1BJWEVMX1NJWkU7XG4gICAgICAgIHRoaXMucm9vdCA9IG51bGw7XG4gICAgICAgIHRoaXMuYm91bmRpbmdCb3hOb2RlcyA9IFtdO1xuICAgICAgICB0aGlzLnZpc2libGVOb2RlcyA9IFtdO1xuICAgICAgICB0aGlzLnZpc2libGVHZW9tZXRyeSA9IFtdO1xuICAgICAgICB0aGlzLm51bVZpc2libGVQb2ludHMgPSAwO1xuICAgICAgICB0aGlzLnNob3dCb3VuZGluZ0JveCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnZpc2libGVCb3VuZHMgPSBuZXcgQm94MygpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnJztcbiAgICAgICAgdGhpcy5wb3RyZWUgPSBwb3RyZWU7XG4gICAgICAgIHRoaXMucm9vdCA9IHBjb0dlb21ldHJ5LnJvb3Q7XG4gICAgICAgIHRoaXMucGNvR2VvbWV0cnkgPSBwY29HZW9tZXRyeTtcbiAgICAgICAgdGhpcy5ib3VuZGluZ0JveCA9IHBjb0dlb21ldHJ5LmJvdW5kaW5nQm94O1xuICAgICAgICB0aGlzLmJvdW5kaW5nU3BoZXJlID0gdGhpcy5ib3VuZGluZ0JveC5nZXRCb3VuZGluZ1NwaGVyZShuZXcgU3BoZXJlKCkpO1xuICAgICAgICB0aGlzLnBvc2l0aW9uLmNvcHkocGNvR2VvbWV0cnkub2Zmc2V0KTtcbiAgICAgICAgdGhpcy51cGRhdGVNYXRyaXgoKTtcbiAgICAgICAgdGhpcy5tYXRlcmlhbCA9XG4gICAgICAgICAgICBtYXRlcmlhbCB8fCBwY29HZW9tZXRyeSBpbnN0YW5jZW9mIE9jdHJlZUdlb21ldHJ5XG4gICAgICAgICAgICAgICAgPyBuZXcgUG9pbnRDbG91ZE1hdGVyaWFsKHsgY29sb3JSZ2JhOiB0cnVlIH0pXG4gICAgICAgICAgICAgICAgOiBuZXcgUG9pbnRDbG91ZE1hdGVyaWFsKCk7XG4gICAgICAgIHRoaXMuaW5pdE1hdGVyaWFsKHRoaXMubWF0ZXJpYWwpO1xuICAgIH1cbiAgICBpbml0TWF0ZXJpYWwobWF0ZXJpYWwpIHtcbiAgICAgICAgdGhpcy51cGRhdGVNYXRyaXhXb3JsZCh0cnVlKTtcbiAgICAgICAgY29uc3QgeyBtaW4sIG1heCB9ID0gY29tcHV0ZVRyYW5zZm9ybWVkQm91bmRpbmdCb3godGhpcy5wY29HZW9tZXRyeS50aWdodEJvdW5kaW5nQm94IHx8IHRoaXMuZ2V0Qm91bmRpbmdCb3hXb3JsZCgpLCB0aGlzLm1hdHJpeFdvcmxkKTtcbiAgICAgICAgY29uc3QgYldpZHRoID0gbWF4LnogLSBtaW4uejtcbiAgICAgICAgbWF0ZXJpYWwuaGVpZ2h0TWluID0gbWluLnogLSAwLjIgKiBiV2lkdGg7XG4gICAgICAgIG1hdGVyaWFsLmhlaWdodE1heCA9IG1heC56ICsgMC4yICogYldpZHRoO1xuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBpZiAodGhpcy5yb290KSB7XG4gICAgICAgICAgICB0aGlzLnJvb3QuZGlzcG9zZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGNvR2VvbWV0cnkucm9vdC50cmF2ZXJzZShuID0+IHRoaXMucG90cmVlLmxydS5yZW1vdmUobikpO1xuICAgICAgICB0aGlzLnBjb0dlb21ldHJ5LmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5tYXRlcmlhbC5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMudmlzaWJsZU5vZGVzID0gW107XG4gICAgICAgIHRoaXMudmlzaWJsZUdlb21ldHJ5ID0gW107XG4gICAgICAgIGlmICh0aGlzLnBpY2tlcikge1xuICAgICAgICAgICAgdGhpcy5waWNrZXIuZGlzcG9zZSgpO1xuICAgICAgICAgICAgdGhpcy5waWNrZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kaXNwb3NlZCA9IHRydWU7XG4gICAgfVxuICAgIGdldCBwb2ludFNpemVUeXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXRlcmlhbC5wb2ludFNpemVUeXBlO1xuICAgIH1cbiAgICBzZXQgcG9pbnRTaXplVHlwZSh2YWx1ZSkge1xuICAgICAgICB0aGlzLm1hdGVyaWFsLnBvaW50U2l6ZVR5cGUgPSB2YWx1ZTtcbiAgICB9XG4gICAgdG9UcmVlTm9kZShnZW9tZXRyeU5vZGUsIHBhcmVudCkge1xuICAgICAgICBjb25zdCBwb2ludHMgPSBuZXcgUG9pbnRzKGdlb21ldHJ5Tm9kZS5nZW9tZXRyeSwgdGhpcy5tYXRlcmlhbCk7XG4gICAgICAgIGNvbnN0IG5vZGUgPSBuZXcgUG9pbnRDbG91ZE9jdHJlZU5vZGUoZ2VvbWV0cnlOb2RlLCBwb2ludHMpO1xuICAgICAgICBwb2ludHMubmFtZSA9IGdlb21ldHJ5Tm9kZS5uYW1lO1xuICAgICAgICBwb2ludHMucG9zaXRpb24uY29weShnZW9tZXRyeU5vZGUuYm91bmRpbmdCb3gubWluKTtcbiAgICAgICAgcG9pbnRzLmZydXN0dW1DdWxsZWQgPSBmYWxzZTtcbiAgICAgICAgcG9pbnRzLm9uQmVmb3JlUmVuZGVyID0gUG9pbnRDbG91ZE1hdGVyaWFsLm1ha2VPbkJlZm9yZVJlbmRlcih0aGlzLCBub2RlKTtcbiAgICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICAgICAgcGFyZW50LnNjZW5lTm9kZS5hZGQocG9pbnRzKTtcbiAgICAgICAgICAgIHBhcmVudC5jaGlsZHJlbltnZW9tZXRyeU5vZGUuaW5kZXhdID0gbm9kZTtcbiAgICAgICAgICAgIGdlb21ldHJ5Tm9kZS5vbmVUaW1lRGlzcG9zZUhhbmRsZXJzLnB1c2goKCkgPT4ge1xuICAgICAgICAgICAgICAgIG5vZGUuZGlzcG9zZVNjZW5lTm9kZSgpO1xuICAgICAgICAgICAgICAgIHBhcmVudC5zY2VuZU5vZGUucmVtb3ZlKG5vZGUuc2NlbmVOb2RlKTtcbiAgICAgICAgICAgICAgICAvLyBSZXBsYWNlIHRoZSB0cmVlIG5vZGUgKHJlbmRlcmVkIGFuZCBpbiB0aGUgR1BVKSB3aXRoIHRoZSBnZW9tZXRyeSBub2RlLlxuICAgICAgICAgICAgICAgIHBhcmVudC5jaGlsZHJlbltnZW9tZXRyeU5vZGUuaW5kZXhdID0gZ2VvbWV0cnlOb2RlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJvb3QgPSBub2RlO1xuICAgICAgICAgICAgdGhpcy5hZGQocG9pbnRzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG4gICAgdXBkYXRlVmlzaWJsZUJvdW5kcygpIHtcbiAgICAgICAgY29uc3QgYm91bmRzID0gdGhpcy52aXNpYmxlQm91bmRzO1xuICAgICAgICBib3VuZHMubWluLnNldChJbmZpbml0eSwgSW5maW5pdHksIEluZmluaXR5KTtcbiAgICAgICAgYm91bmRzLm1heC5zZXQoLUluZmluaXR5LCAtSW5maW5pdHksIC1JbmZpbml0eSk7XG4gICAgICAgIGZvciAoY29uc3Qgbm9kZSBvZiB0aGlzLnZpc2libGVOb2Rlcykge1xuICAgICAgICAgICAgaWYgKG5vZGUuaXNMZWFmTm9kZSkge1xuICAgICAgICAgICAgICAgIGJvdW5kcy5leHBhbmRCeVBvaW50KG5vZGUuYm91bmRpbmdCb3gubWluKTtcbiAgICAgICAgICAgICAgICBib3VuZHMuZXhwYW5kQnlQb2ludChub2RlLmJvdW5kaW5nQm94Lm1heCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgdXBkYXRlQm91bmRpbmdCb3hlcygpIHtcbiAgICAgICAgaWYgKCF0aGlzLnNob3dCb3VuZGluZ0JveCB8fCAhdGhpcy5wYXJlbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgYmJSb290ID0gdGhpcy5wYXJlbnQuZ2V0T2JqZWN0QnlOYW1lKCdiYnJvb3QnKTtcbiAgICAgICAgaWYgKCFiYlJvb3QpIHtcbiAgICAgICAgICAgIGJiUm9vdCA9IG5ldyBPYmplY3QzRCgpO1xuICAgICAgICAgICAgYmJSb290Lm5hbWUgPSAnYmJyb290JztcbiAgICAgICAgICAgIHRoaXMucGFyZW50LmFkZChiYlJvb3QpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZpc2libGVCb3hlcyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IG5vZGUgb2YgdGhpcy52aXNpYmxlTm9kZXMpIHtcbiAgICAgICAgICAgIGlmIChub2RlLmJvdW5kaW5nQm94Tm9kZSAhPT0gdW5kZWZpbmVkICYmIG5vZGUuaXNMZWFmTm9kZSkge1xuICAgICAgICAgICAgICAgIHZpc2libGVCb3hlcy5wdXNoKG5vZGUuYm91bmRpbmdCb3hOb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBiYlJvb3QuY2hpbGRyZW4gPSB2aXNpYmxlQm94ZXM7XG4gICAgfVxuICAgIHVwZGF0ZU1hdHJpeFdvcmxkKGZvcmNlKSB7XG4gICAgICAgIGlmICh0aGlzLm1hdHJpeEF1dG9VcGRhdGUgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlTWF0cml4KCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubWF0cml4V29ybGROZWVkc1VwZGF0ZSA9PT0gdHJ1ZSB8fCBmb3JjZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnBhcmVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMubWF0cml4V29ybGQuY29weSh0aGlzLm1hdHJpeCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1hdHJpeFdvcmxkLm11bHRpcGx5TWF0cmljZXModGhpcy5wYXJlbnQubWF0cml4V29ybGQsIHRoaXMubWF0cml4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubWF0cml4V29ybGROZWVkc1VwZGF0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgZm9yY2UgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGhpZGVEZXNjZW5kYW50cyhvYmplY3QpIHtcbiAgICAgICAgY29uc3QgdG9IaWRlID0gW107XG4gICAgICAgIGFkZFZpc2libGVDaGlsZHJlbihvYmplY3QpO1xuICAgICAgICB3aGlsZSAodG9IaWRlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IG9ialRvSGlkZSA9IHRvSGlkZS5zaGlmdCgpO1xuICAgICAgICAgICAgb2JqVG9IaWRlLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgIGFkZFZpc2libGVDaGlsZHJlbihvYmpUb0hpZGUpO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGFkZFZpc2libGVDaGlsZHJlbihvYmopIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2Ygb2JqLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkLnZpc2libGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdG9IaWRlLnB1c2goY2hpbGQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBtb3ZlVG9PcmlnaW4oKSB7XG4gICAgICAgIHRoaXMucG9zaXRpb24uc2V0KDAsIDAsIDApOyAvLyBSZXNldCwgdGhlbiB0aGUgbWF0cml4IHdpbGwgYmUgdXBkYXRlZCBpbiBnZXRCb3VuZGluZ0JveFdvcmxkKClcbiAgICAgICAgdGhpcy5wb3NpdGlvbi5zZXQoMCwgMCwgMCkuc3ViKHRoaXMuZ2V0Qm91bmRpbmdCb3hXb3JsZCgpLmdldENlbnRlcihuZXcgVmVjdG9yMygpKSk7XG4gICAgfVxuICAgIG1vdmVUb0dyb3VuZFBsYW5lKCkge1xuICAgICAgICB0aGlzLnBvc2l0aW9uLnkgKz0gLXRoaXMuZ2V0Qm91bmRpbmdCb3hXb3JsZCgpLm1pbi55O1xuICAgIH1cbiAgICBnZXRCb3VuZGluZ0JveFdvcmxkKCkge1xuICAgICAgICB0aGlzLnVwZGF0ZU1hdHJpeFdvcmxkKHRydWUpO1xuICAgICAgICByZXR1cm4gY29tcHV0ZVRyYW5zZm9ybWVkQm91bmRpbmdCb3godGhpcy5ib3VuZGluZ0JveCwgdGhpcy5tYXRyaXhXb3JsZCk7XG4gICAgfVxuICAgIGdldFZpc2libGVFeHRlbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpc2libGVCb3VuZHMuYXBwbHlNYXRyaXg0KHRoaXMubWF0cml4V29ybGQpO1xuICAgIH1cbiAgICBwaWNrKHJlbmRlcmVyLCBjYW1lcmEsIHJheSwgcGFyYW1zID0ge30pIHtcbiAgICAgICAgdGhpcy5waWNrZXIgPSB0aGlzLnBpY2tlciB8fCBuZXcgUG9pbnRDbG91ZE9jdHJlZVBpY2tlcigpO1xuICAgICAgICByZXR1cm4gdGhpcy5waWNrZXIucGljayhyZW5kZXJlciwgY2FtZXJhLCByYXksIFt0aGlzXSwgcGFyYW1zKTtcbiAgICB9XG4gICAgZ2V0IHByb2dyZXNzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aXNpYmxlR2VvbWV0cnkubGVuZ3RoID09PSAwXG4gICAgICAgICAgICA/IDBcbiAgICAgICAgICAgIDogdGhpcy52aXNpYmxlTm9kZXMubGVuZ3RoIC8gdGhpcy52aXNpYmxlR2VvbWV0cnkubGVuZ3RoO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/point-cloud-octree.ts\n");

/***/ }),

/***/ "./src/point-cloud-tree.ts":
/*!*********************************!*\
  !*** ./src/point-cloud-tree.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PointCloudTree: () => (/* binding */ PointCloudTree)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"three\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(three__WEBPACK_IMPORTED_MODULE_0__);\n\nclass PointCloudTree extends three__WEBPACK_IMPORTED_MODULE_0__.Object3D {\n    constructor() {\n        super(...arguments);\n        this.root = null;\n    }\n    initialized() {\n        return this.root !== null;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcG9pbnQtY2xvdWQtdHJlZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3BvdHJlZS8uL3NyYy9wb2ludC1jbG91ZC10cmVlLnRzPzE1NGMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgT2JqZWN0M0QgfSBmcm9tICd0aHJlZSc7XG5leHBvcnQgY2xhc3MgUG9pbnRDbG91ZFRyZWUgZXh0ZW5kcyBPYmplY3QzRCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMucm9vdCA9IG51bGw7XG4gICAgfVxuICAgIGluaXRpYWxpemVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yb290ICE9PSBudWxsO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/point-cloud-tree.ts\n");

/***/ }),

/***/ "./src/potree.ts":
/*!***********************!*\
  !*** ./src/potree.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Potree: () => (/* binding */ Potree),\n/* harmony export */   QueueItem: () => (/* binding */ QueueItem)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"three\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(three__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./constants */ \"./src/constants.ts\");\n/* harmony import */ var _features__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./features */ \"./src/features.ts\");\n/* harmony import */ var _loading__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./loading */ \"./src/loading/index.ts\");\n/* harmony import */ var _materials__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./materials */ \"./src/materials/index.ts\");\n/* harmony import */ var _point_cloud_octree__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./point-cloud-octree */ \"./src/point-cloud-octree.ts\");\n/* harmony import */ var _point_cloud_octree_picker__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./point-cloud-octree-picker */ \"./src/point-cloud-octree-picker.ts\");\n/* harmony import */ var _type_predicates__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./type-predicates */ \"./src/type-predicates.ts\");\n/* harmony import */ var _utils_binary_heap__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./utils/binary-heap */ \"./src/utils/binary-heap.js\");\n/* harmony import */ var _utils_box3_helper__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./utils/box3-helper */ \"./src/utils/box3-helper.ts\");\n/* harmony import */ var _utils_lru__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./utils/lru */ \"./src/utils/lru.ts\");\n\n\n\n\n//import { loadOctree } from './loading2/load-octree';\n\n\n\n\n\n\n\nclass QueueItem {\n    constructor(pointCloudIndex, weight, node, parent) {\n        this.pointCloudIndex = pointCloudIndex;\n        this.weight = weight;\n        this.node = node;\n        this.parent = parent;\n    }\n}\nconst GEOMETRY_LOADERS = {\n    v1: _loading__WEBPACK_IMPORTED_MODULE_3__.loadPOC,\n    //  v2: loadOctree\n};\nclass Potree {\n    constructor(version = 'v1') {\n        this._pointBudget = _constants__WEBPACK_IMPORTED_MODULE_1__.DEFAULT_POINT_BUDGET;\n        this._rendererSize = new three__WEBPACK_IMPORTED_MODULE_0__.Vector2();\n        this.maxNumNodesLoading = _constants__WEBPACK_IMPORTED_MODULE_1__.MAX_NUM_NODES_LOADING;\n        this.features = _features__WEBPACK_IMPORTED_MODULE_2__.FEATURES;\n        this.lru = new _utils_lru__WEBPACK_IMPORTED_MODULE_10__.LRU(this._pointBudget);\n        this.updateVisibilityStructures = (() => {\n            const frustumMatrix = new three__WEBPACK_IMPORTED_MODULE_0__.Matrix4();\n            const inverseWorldMatrix = new three__WEBPACK_IMPORTED_MODULE_0__.Matrix4();\n            const cameraMatrix = new three__WEBPACK_IMPORTED_MODULE_0__.Matrix4();\n            return (pointClouds, camera) => {\n                const frustums = [];\n                const cameraPositions = [];\n                const priorityQueue = new _utils_binary_heap__WEBPACK_IMPORTED_MODULE_8__.BinaryHeap(x => 1 / x.weight);\n                for (let i = 0; i < pointClouds.length; i++) {\n                    const pointCloud = pointClouds[i];\n                    if (!pointCloud.initialized()) {\n                        continue;\n                    }\n                    pointCloud.numVisiblePoints = 0;\n                    pointCloud.visibleNodes = [];\n                    pointCloud.visibleGeometry = [];\n                    camera.updateMatrixWorld(false);\n                    // Furstum in object space.\n                    const inverseViewMatrix = camera.matrixWorldInverse;\n                    const worldMatrix = pointCloud.matrixWorld;\n                    frustumMatrix\n                        .identity()\n                        .multiply(camera.projectionMatrix)\n                        .multiply(inverseViewMatrix)\n                        .multiply(worldMatrix);\n                    frustums.push(new three__WEBPACK_IMPORTED_MODULE_0__.Frustum().setFromProjectionMatrix(frustumMatrix));\n                    // Camera position in object space\n                    inverseWorldMatrix.copy(worldMatrix).invert();\n                    cameraMatrix\n                        .identity()\n                        .multiply(inverseWorldMatrix)\n                        .multiply(camera.matrixWorld);\n                    cameraPositions.push(new three__WEBPACK_IMPORTED_MODULE_0__.Vector3().setFromMatrixPosition(cameraMatrix));\n                    if (pointCloud.visible && pointCloud.root !== null) {\n                        const weight = Number.MAX_VALUE;\n                        priorityQueue.push(new QueueItem(i, weight, pointCloud.root));\n                    }\n                    // Hide any previously visible nodes. We will later show only the needed ones.\n                    if ((0,_type_predicates__WEBPACK_IMPORTED_MODULE_7__.isTreeNode)(pointCloud.root)) {\n                        pointCloud.hideDescendants(pointCloud.root.sceneNode);\n                    }\n                    for (const boundingBoxNode of pointCloud.boundingBoxNodes) {\n                        boundingBoxNode.visible = false;\n                    }\n                }\n                return { frustums, cameraPositions, priorityQueue };\n            };\n        })();\n        this.loadGeometry = GEOMETRY_LOADERS[version];\n    }\n    loadPointCloud(url, getUrl, xhrRequest = (input, init) => fetch(input, init)) {\n        return this.loadGeometry(url, getUrl, xhrRequest).then(geometry => new _point_cloud_octree__WEBPACK_IMPORTED_MODULE_5__.PointCloudOctree(this, geometry));\n    }\n    updatePointClouds(pointClouds, camera, renderer) {\n        const result = this.updateVisibility(pointClouds, camera, renderer);\n        for (let i = 0; i < pointClouds.length; i++) {\n            const pointCloud = pointClouds[i];\n            if (pointCloud.disposed) {\n                continue;\n            }\n            pointCloud.material.updateMaterial(pointCloud, pointCloud.visibleNodes, camera, renderer);\n            pointCloud.updateVisibleBounds();\n            pointCloud.updateBoundingBoxes();\n        }\n        this.lru.freeMemory();\n        return result;\n    }\n    static pick(pointClouds, renderer, camera, ray, params = {}) {\n        Potree.picker = Potree.picker || new _point_cloud_octree_picker__WEBPACK_IMPORTED_MODULE_6__.PointCloudOctreePicker();\n        return Potree.picker.pick(renderer, camera, ray, pointClouds, params);\n    }\n    get pointBudget() {\n        return this._pointBudget;\n    }\n    set pointBudget(value) {\n        if (value !== this._pointBudget) {\n            this._pointBudget = value;\n            this.lru.pointBudget = value;\n            this.lru.freeMemory();\n        }\n    }\n    static set maxLoaderWorkers(value) {\n        _loading__WEBPACK_IMPORTED_MODULE_3__.BinaryLoader.WORKER_POOL.maxWorkers = value;\n    }\n    static get maxLoaderWorkers() {\n        return _loading__WEBPACK_IMPORTED_MODULE_3__.BinaryLoader.WORKER_POOL.maxWorkers;\n    }\n    updateVisibility(pointClouds, camera, renderer) {\n        let numVisiblePoints = 0;\n        const visibleNodes = [];\n        const unloadedGeometry = [];\n        // calculate object space frustum and cam pos and setup priority queue\n        const { frustums, cameraPositions, priorityQueue } = this.updateVisibilityStructures(pointClouds, camera);\n        let loadedToGPUThisFrame = 0;\n        let exceededMaxLoadsToGPU = false;\n        let nodeLoadFailed = false;\n        let queueItem;\n        while ((queueItem = priorityQueue.pop()) !== undefined) {\n            let node = queueItem.node;\n            // If we will end up with too many points, we stop right away.\n            if (numVisiblePoints + node.numPoints > this.pointBudget) {\n                break;\n            }\n            const pointCloudIndex = queueItem.pointCloudIndex;\n            const pointCloud = pointClouds[pointCloudIndex];\n            const maxLevel = pointCloud.maxLevel !== undefined ? pointCloud.maxLevel : Infinity;\n            if (node.level > maxLevel ||\n                !frustums[pointCloudIndex].intersectsBox(node.boundingBox) ||\n                this.shouldClip(pointCloud, node.boundingBox)) {\n                continue;\n            }\n            numVisiblePoints += node.numPoints;\n            pointCloud.numVisiblePoints += node.numPoints;\n            const parentNode = queueItem.parent;\n            if ((0,_type_predicates__WEBPACK_IMPORTED_MODULE_7__.isGeometryNode)(node) && (!parentNode || (0,_type_predicates__WEBPACK_IMPORTED_MODULE_7__.isTreeNode)(parentNode))) {\n                if (node.loaded && loadedToGPUThisFrame < _constants__WEBPACK_IMPORTED_MODULE_1__.MAX_LOADS_TO_GPU) {\n                    node = pointCloud.toTreeNode(node, parentNode);\n                    loadedToGPUThisFrame++;\n                }\n                else if (!node.failed) {\n                    if (node.loaded && loadedToGPUThisFrame >= _constants__WEBPACK_IMPORTED_MODULE_1__.MAX_LOADS_TO_GPU) {\n                        exceededMaxLoadsToGPU = true;\n                    }\n                    unloadedGeometry.push(node);\n                    pointCloud.visibleGeometry.push(node);\n                }\n                else {\n                    nodeLoadFailed = true;\n                    continue;\n                }\n            }\n            if ((0,_type_predicates__WEBPACK_IMPORTED_MODULE_7__.isTreeNode)(node)) {\n                this.updateTreeNodeVisibility(pointCloud, node, visibleNodes);\n                pointCloud.visibleGeometry.push(node.geometryNode);\n            }\n            const halfHeight = 0.5 * renderer.getSize(this._rendererSize).height * renderer.getPixelRatio();\n            this.updateChildVisibility(queueItem, priorityQueue, pointCloud, node, cameraPositions[pointCloudIndex], camera, halfHeight);\n        } // end priority queue loop\n        const numNodesToLoad = Math.min(this.maxNumNodesLoading, unloadedGeometry.length);\n        const nodeLoadPromises = [];\n        for (let i = 0; i < numNodesToLoad; i++) {\n            nodeLoadPromises.push(unloadedGeometry[i].load());\n        }\n        return {\n            visibleNodes: visibleNodes,\n            numVisiblePoints: numVisiblePoints,\n            exceededMaxLoadsToGPU: exceededMaxLoadsToGPU,\n            nodeLoadFailed: nodeLoadFailed,\n            nodeLoadPromises: nodeLoadPromises,\n        };\n    }\n    updateTreeNodeVisibility(pointCloud, node, visibleNodes) {\n        this.lru.touch(node.geometryNode);\n        const sceneNode = node.sceneNode;\n        sceneNode.visible = true;\n        sceneNode.material = pointCloud.material;\n        sceneNode.updateMatrix();\n        sceneNode.matrixWorld.multiplyMatrices(pointCloud.matrixWorld, sceneNode.matrix);\n        visibleNodes.push(node);\n        pointCloud.visibleNodes.push(node);\n        this.updateBoundingBoxVisibility(pointCloud, node);\n    }\n    updateChildVisibility(queueItem, priorityQueue, pointCloud, node, cameraPosition, camera, halfHeight) {\n        const children = node.children;\n        for (let i = 0; i < children.length; i++) {\n            const child = children[i];\n            if (child === null) {\n                continue;\n            }\n            const sphere = child.boundingSphere;\n            const distance = sphere.center.distanceTo(cameraPosition);\n            const radius = sphere.radius;\n            let projectionFactor = 0.0;\n            if (camera.type === _constants__WEBPACK_IMPORTED_MODULE_1__.PERSPECTIVE_CAMERA) {\n                const perspective = camera;\n                const fov = (perspective.fov * Math.PI) / 180.0;\n                const slope = Math.tan(fov / 2.0);\n                projectionFactor = halfHeight / (slope * distance);\n            }\n            else {\n                const orthographic = camera;\n                projectionFactor = (2 * halfHeight) / (orthographic.top - orthographic.bottom);\n            }\n            const screenPixelRadius = radius * projectionFactor;\n            // Don't add the node if it'll be too small on the screen.\n            if (screenPixelRadius < pointCloud.minNodePixelSize) {\n                continue;\n            }\n            // Nodes which are larger will have priority in loading/displaying.\n            const weight = distance < radius ? Number.MAX_VALUE : screenPixelRadius + 1 / distance;\n            priorityQueue.push(new QueueItem(queueItem.pointCloudIndex, weight, child, node));\n        }\n    }\n    updateBoundingBoxVisibility(pointCloud, node) {\n        if (pointCloud.showBoundingBox && !node.boundingBoxNode) {\n            const boxHelper = new _utils_box3_helper__WEBPACK_IMPORTED_MODULE_9__.Box3Helper(node.boundingBox);\n            boxHelper.matrixAutoUpdate = false;\n            pointCloud.boundingBoxNodes.push(boxHelper);\n            node.boundingBoxNode = boxHelper;\n            node.boundingBoxNode.matrix.copy(pointCloud.matrixWorld);\n        }\n        else if (pointCloud.showBoundingBox && node.boundingBoxNode) {\n            node.boundingBoxNode.visible = true;\n            node.boundingBoxNode.matrix.copy(pointCloud.matrixWorld);\n        }\n        else if (!pointCloud.showBoundingBox && node.boundingBoxNode) {\n            node.boundingBoxNode.visible = false;\n        }\n    }\n    shouldClip(pointCloud, boundingBox) {\n        const material = pointCloud.material;\n        if (material.numClipBoxes === 0 || material.clipMode !== _materials__WEBPACK_IMPORTED_MODULE_4__.ClipMode.CLIP_OUTSIDE) {\n            return false;\n        }\n        const box2 = boundingBox.clone();\n        pointCloud.updateMatrixWorld(true);\n        box2.applyMatrix4(pointCloud.matrixWorld);\n        const clipBoxes = material.clipBoxes;\n        for (let i = 0; i < clipBoxes.length; i++) {\n            const clipMatrixWorld = clipBoxes[i].matrix;\n            const clipBoxWorld = new three__WEBPACK_IMPORTED_MODULE_0__.Box3(new three__WEBPACK_IMPORTED_MODULE_0__.Vector3(-0.5, -0.5, -0.5), new three__WEBPACK_IMPORTED_MODULE_0__.Vector3(0.5, 0.5, 0.5)).applyMatrix4(clipMatrixWorld);\n            if (box2.intersectsBox(clipBoxWorld)) {\n                return false;\n            }\n        }\n        return true;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcG90cmVlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb3RyZWUvLi9zcmMvcG90cmVlLnRzPzlkOTciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQm94MywgRnJ1c3R1bSwgTWF0cml4NCwgVmVjdG9yMiwgVmVjdG9yMywgfSBmcm9tICd0aHJlZSc7XG5pbXBvcnQgeyBERUZBVUxUX1BPSU5UX0JVREdFVCwgTUFYX0xPQURTX1RPX0dQVSwgTUFYX05VTV9OT0RFU19MT0FESU5HLCBQRVJTUEVDVElWRV9DQU1FUkEsIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgRkVBVFVSRVMgfSBmcm9tICcuL2ZlYXR1cmVzJztcbmltcG9ydCB7IEJpbmFyeUxvYWRlciwgbG9hZFBPQyB9IGZyb20gJy4vbG9hZGluZyc7XG4vL2ltcG9ydCB7IGxvYWRPY3RyZWUgfSBmcm9tICcuL2xvYWRpbmcyL2xvYWQtb2N0cmVlJztcbmltcG9ydCB7IENsaXBNb2RlIH0gZnJvbSAnLi9tYXRlcmlhbHMnO1xuaW1wb3J0IHsgUG9pbnRDbG91ZE9jdHJlZSB9IGZyb20gJy4vcG9pbnQtY2xvdWQtb2N0cmVlJztcbmltcG9ydCB7IFBvaW50Q2xvdWRPY3RyZWVQaWNrZXIgfSBmcm9tICcuL3BvaW50LWNsb3VkLW9jdHJlZS1waWNrZXInO1xuaW1wb3J0IHsgaXNHZW9tZXRyeU5vZGUsIGlzVHJlZU5vZGUgfSBmcm9tICcuL3R5cGUtcHJlZGljYXRlcyc7XG5pbXBvcnQgeyBCaW5hcnlIZWFwIH0gZnJvbSAnLi91dGlscy9iaW5hcnktaGVhcCc7XG5pbXBvcnQgeyBCb3gzSGVscGVyIH0gZnJvbSAnLi91dGlscy9ib3gzLWhlbHBlcic7XG5pbXBvcnQgeyBMUlUgfSBmcm9tICcuL3V0aWxzL2xydSc7XG5leHBvcnQgY2xhc3MgUXVldWVJdGVtIHtcbiAgICBjb25zdHJ1Y3Rvcihwb2ludENsb3VkSW5kZXgsIHdlaWdodCwgbm9kZSwgcGFyZW50KSB7XG4gICAgICAgIHRoaXMucG9pbnRDbG91ZEluZGV4ID0gcG9pbnRDbG91ZEluZGV4O1xuICAgICAgICB0aGlzLndlaWdodCA9IHdlaWdodDtcbiAgICAgICAgdGhpcy5ub2RlID0gbm9kZTtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgfVxufVxuY29uc3QgR0VPTUVUUllfTE9BREVSUyA9IHtcbiAgICB2MTogbG9hZFBPQyxcbiAgICAvLyAgdjI6IGxvYWRPY3RyZWVcbn07XG5leHBvcnQgY2xhc3MgUG90cmVlIHtcbiAgICBjb25zdHJ1Y3Rvcih2ZXJzaW9uID0gJ3YxJykge1xuICAgICAgICB0aGlzLl9wb2ludEJ1ZGdldCA9IERFRkFVTFRfUE9JTlRfQlVER0VUO1xuICAgICAgICB0aGlzLl9yZW5kZXJlclNpemUgPSBuZXcgVmVjdG9yMigpO1xuICAgICAgICB0aGlzLm1heE51bU5vZGVzTG9hZGluZyA9IE1BWF9OVU1fTk9ERVNfTE9BRElORztcbiAgICAgICAgdGhpcy5mZWF0dXJlcyA9IEZFQVRVUkVTO1xuICAgICAgICB0aGlzLmxydSA9IG5ldyBMUlUodGhpcy5fcG9pbnRCdWRnZXQpO1xuICAgICAgICB0aGlzLnVwZGF0ZVZpc2liaWxpdHlTdHJ1Y3R1cmVzID0gKCgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGZydXN0dW1NYXRyaXggPSBuZXcgTWF0cml4NCgpO1xuICAgICAgICAgICAgY29uc3QgaW52ZXJzZVdvcmxkTWF0cml4ID0gbmV3IE1hdHJpeDQoKTtcbiAgICAgICAgICAgIGNvbnN0IGNhbWVyYU1hdHJpeCA9IG5ldyBNYXRyaXg0KCk7XG4gICAgICAgICAgICByZXR1cm4gKHBvaW50Q2xvdWRzLCBjYW1lcmEpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBmcnVzdHVtcyA9IFtdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhbWVyYVBvc2l0aW9ucyA9IFtdO1xuICAgICAgICAgICAgICAgIGNvbnN0IHByaW9yaXR5UXVldWUgPSBuZXcgQmluYXJ5SGVhcCh4ID0+IDEgLyB4LndlaWdodCk7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb2ludENsb3Vkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwb2ludENsb3VkID0gcG9pbnRDbG91ZHNbaV07XG4gICAgICAgICAgICAgICAgICAgIGlmICghcG9pbnRDbG91ZC5pbml0aWFsaXplZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBwb2ludENsb3VkLm51bVZpc2libGVQb2ludHMgPSAwO1xuICAgICAgICAgICAgICAgICAgICBwb2ludENsb3VkLnZpc2libGVOb2RlcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBwb2ludENsb3VkLnZpc2libGVHZW9tZXRyeSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBjYW1lcmEudXBkYXRlTWF0cml4V29ybGQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAvLyBGdXJzdHVtIGluIG9iamVjdCBzcGFjZS5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW52ZXJzZVZpZXdNYXRyaXggPSBjYW1lcmEubWF0cml4V29ybGRJbnZlcnNlO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB3b3JsZE1hdHJpeCA9IHBvaW50Q2xvdWQubWF0cml4V29ybGQ7XG4gICAgICAgICAgICAgICAgICAgIGZydXN0dW1NYXRyaXhcbiAgICAgICAgICAgICAgICAgICAgICAgIC5pZGVudGl0eSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAubXVsdGlwbHkoY2FtZXJhLnByb2plY3Rpb25NYXRyaXgpXG4gICAgICAgICAgICAgICAgICAgICAgICAubXVsdGlwbHkoaW52ZXJzZVZpZXdNYXRyaXgpXG4gICAgICAgICAgICAgICAgICAgICAgICAubXVsdGlwbHkod29ybGRNYXRyaXgpO1xuICAgICAgICAgICAgICAgICAgICBmcnVzdHVtcy5wdXNoKG5ldyBGcnVzdHVtKCkuc2V0RnJvbVByb2plY3Rpb25NYXRyaXgoZnJ1c3R1bU1hdHJpeCkpO1xuICAgICAgICAgICAgICAgICAgICAvLyBDYW1lcmEgcG9zaXRpb24gaW4gb2JqZWN0IHNwYWNlXG4gICAgICAgICAgICAgICAgICAgIGludmVyc2VXb3JsZE1hdHJpeC5jb3B5KHdvcmxkTWF0cml4KS5pbnZlcnQoKTtcbiAgICAgICAgICAgICAgICAgICAgY2FtZXJhTWF0cml4XG4gICAgICAgICAgICAgICAgICAgICAgICAuaWRlbnRpdHkoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLm11bHRpcGx5KGludmVyc2VXb3JsZE1hdHJpeClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5tdWx0aXBseShjYW1lcmEubWF0cml4V29ybGQpO1xuICAgICAgICAgICAgICAgICAgICBjYW1lcmFQb3NpdGlvbnMucHVzaChuZXcgVmVjdG9yMygpLnNldEZyb21NYXRyaXhQb3NpdGlvbihjYW1lcmFNYXRyaXgpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBvaW50Q2xvdWQudmlzaWJsZSAmJiBwb2ludENsb3VkLnJvb3QgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHdlaWdodCA9IE51bWJlci5NQVhfVkFMVUU7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmlvcml0eVF1ZXVlLnB1c2gobmV3IFF1ZXVlSXRlbShpLCB3ZWlnaHQsIHBvaW50Q2xvdWQucm9vdCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIEhpZGUgYW55IHByZXZpb3VzbHkgdmlzaWJsZSBub2Rlcy4gV2Ugd2lsbCBsYXRlciBzaG93IG9ubHkgdGhlIG5lZWRlZCBvbmVzLlxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNUcmVlTm9kZShwb2ludENsb3VkLnJvb3QpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb2ludENsb3VkLmhpZGVEZXNjZW5kYW50cyhwb2ludENsb3VkLnJvb3Quc2NlbmVOb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGJvdW5kaW5nQm94Tm9kZSBvZiBwb2ludENsb3VkLmJvdW5kaW5nQm94Tm9kZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvdW5kaW5nQm94Tm9kZS52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZnJ1c3R1bXMsIGNhbWVyYVBvc2l0aW9ucywgcHJpb3JpdHlRdWV1ZSB9O1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSkoKTtcbiAgICAgICAgdGhpcy5sb2FkR2VvbWV0cnkgPSBHRU9NRVRSWV9MT0FERVJTW3ZlcnNpb25dO1xuICAgIH1cbiAgICBsb2FkUG9pbnRDbG91ZCh1cmwsIGdldFVybCwgeGhyUmVxdWVzdCA9IChpbnB1dCwgaW5pdCkgPT4gZmV0Y2goaW5wdXQsIGluaXQpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvYWRHZW9tZXRyeSh1cmwsIGdldFVybCwgeGhyUmVxdWVzdCkudGhlbihnZW9tZXRyeSA9PiBuZXcgUG9pbnRDbG91ZE9jdHJlZSh0aGlzLCBnZW9tZXRyeSkpO1xuICAgIH1cbiAgICB1cGRhdGVQb2ludENsb3Vkcyhwb2ludENsb3VkcywgY2FtZXJhLCByZW5kZXJlcikge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLnVwZGF0ZVZpc2liaWxpdHkocG9pbnRDbG91ZHMsIGNhbWVyYSwgcmVuZGVyZXIpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvaW50Q2xvdWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBwb2ludENsb3VkID0gcG9pbnRDbG91ZHNbaV07XG4gICAgICAgICAgICBpZiAocG9pbnRDbG91ZC5kaXNwb3NlZCkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcG9pbnRDbG91ZC5tYXRlcmlhbC51cGRhdGVNYXRlcmlhbChwb2ludENsb3VkLCBwb2ludENsb3VkLnZpc2libGVOb2RlcywgY2FtZXJhLCByZW5kZXJlcik7XG4gICAgICAgICAgICBwb2ludENsb3VkLnVwZGF0ZVZpc2libGVCb3VuZHMoKTtcbiAgICAgICAgICAgIHBvaW50Q2xvdWQudXBkYXRlQm91bmRpbmdCb3hlcygpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubHJ1LmZyZWVNZW1vcnkoKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgc3RhdGljIHBpY2socG9pbnRDbG91ZHMsIHJlbmRlcmVyLCBjYW1lcmEsIHJheSwgcGFyYW1zID0ge30pIHtcbiAgICAgICAgUG90cmVlLnBpY2tlciA9IFBvdHJlZS5waWNrZXIgfHwgbmV3IFBvaW50Q2xvdWRPY3RyZWVQaWNrZXIoKTtcbiAgICAgICAgcmV0dXJuIFBvdHJlZS5waWNrZXIucGljayhyZW5kZXJlciwgY2FtZXJhLCByYXksIHBvaW50Q2xvdWRzLCBwYXJhbXMpO1xuICAgIH1cbiAgICBnZXQgcG9pbnRCdWRnZXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wb2ludEJ1ZGdldDtcbiAgICB9XG4gICAgc2V0IHBvaW50QnVkZ2V0KHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdGhpcy5fcG9pbnRCdWRnZXQpIHtcbiAgICAgICAgICAgIHRoaXMuX3BvaW50QnVkZ2V0ID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLmxydS5wb2ludEJ1ZGdldCA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5scnUuZnJlZU1lbW9yeSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyBzZXQgbWF4TG9hZGVyV29ya2Vycyh2YWx1ZSkge1xuICAgICAgICBCaW5hcnlMb2FkZXIuV09SS0VSX1BPT0wubWF4V29ya2VycyA9IHZhbHVlO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0IG1heExvYWRlcldvcmtlcnMoKSB7XG4gICAgICAgIHJldHVybiBCaW5hcnlMb2FkZXIuV09SS0VSX1BPT0wubWF4V29ya2VycztcbiAgICB9XG4gICAgdXBkYXRlVmlzaWJpbGl0eShwb2ludENsb3VkcywgY2FtZXJhLCByZW5kZXJlcikge1xuICAgICAgICBsZXQgbnVtVmlzaWJsZVBvaW50cyA9IDA7XG4gICAgICAgIGNvbnN0IHZpc2libGVOb2RlcyA9IFtdO1xuICAgICAgICBjb25zdCB1bmxvYWRlZEdlb21ldHJ5ID0gW107XG4gICAgICAgIC8vIGNhbGN1bGF0ZSBvYmplY3Qgc3BhY2UgZnJ1c3R1bSBhbmQgY2FtIHBvcyBhbmQgc2V0dXAgcHJpb3JpdHkgcXVldWVcbiAgICAgICAgY29uc3QgeyBmcnVzdHVtcywgY2FtZXJhUG9zaXRpb25zLCBwcmlvcml0eVF1ZXVlIH0gPSB0aGlzLnVwZGF0ZVZpc2liaWxpdHlTdHJ1Y3R1cmVzKHBvaW50Q2xvdWRzLCBjYW1lcmEpO1xuICAgICAgICBsZXQgbG9hZGVkVG9HUFVUaGlzRnJhbWUgPSAwO1xuICAgICAgICBsZXQgZXhjZWVkZWRNYXhMb2Fkc1RvR1BVID0gZmFsc2U7XG4gICAgICAgIGxldCBub2RlTG9hZEZhaWxlZCA9IGZhbHNlO1xuICAgICAgICBsZXQgcXVldWVJdGVtO1xuICAgICAgICB3aGlsZSAoKHF1ZXVlSXRlbSA9IHByaW9yaXR5UXVldWUucG9wKCkpICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGxldCBub2RlID0gcXVldWVJdGVtLm5vZGU7XG4gICAgICAgICAgICAvLyBJZiB3ZSB3aWxsIGVuZCB1cCB3aXRoIHRvbyBtYW55IHBvaW50cywgd2Ugc3RvcCByaWdodCBhd2F5LlxuICAgICAgICAgICAgaWYgKG51bVZpc2libGVQb2ludHMgKyBub2RlLm51bVBvaW50cyA+IHRoaXMucG9pbnRCdWRnZXQpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHBvaW50Q2xvdWRJbmRleCA9IHF1ZXVlSXRlbS5wb2ludENsb3VkSW5kZXg7XG4gICAgICAgICAgICBjb25zdCBwb2ludENsb3VkID0gcG9pbnRDbG91ZHNbcG9pbnRDbG91ZEluZGV4XTtcbiAgICAgICAgICAgIGNvbnN0IG1heExldmVsID0gcG9pbnRDbG91ZC5tYXhMZXZlbCAhPT0gdW5kZWZpbmVkID8gcG9pbnRDbG91ZC5tYXhMZXZlbCA6IEluZmluaXR5O1xuICAgICAgICAgICAgaWYgKG5vZGUubGV2ZWwgPiBtYXhMZXZlbCB8fFxuICAgICAgICAgICAgICAgICFmcnVzdHVtc1twb2ludENsb3VkSW5kZXhdLmludGVyc2VjdHNCb3gobm9kZS5ib3VuZGluZ0JveCkgfHxcbiAgICAgICAgICAgICAgICB0aGlzLnNob3VsZENsaXAocG9pbnRDbG91ZCwgbm9kZS5ib3VuZGluZ0JveCkpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG51bVZpc2libGVQb2ludHMgKz0gbm9kZS5udW1Qb2ludHM7XG4gICAgICAgICAgICBwb2ludENsb3VkLm51bVZpc2libGVQb2ludHMgKz0gbm9kZS5udW1Qb2ludHM7XG4gICAgICAgICAgICBjb25zdCBwYXJlbnROb2RlID0gcXVldWVJdGVtLnBhcmVudDtcbiAgICAgICAgICAgIGlmIChpc0dlb21ldHJ5Tm9kZShub2RlKSAmJiAoIXBhcmVudE5vZGUgfHwgaXNUcmVlTm9kZShwYXJlbnROb2RlKSkpIHtcbiAgICAgICAgICAgICAgICBpZiAobm9kZS5sb2FkZWQgJiYgbG9hZGVkVG9HUFVUaGlzRnJhbWUgPCBNQVhfTE9BRFNfVE9fR1BVKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUgPSBwb2ludENsb3VkLnRvVHJlZU5vZGUobm9kZSwgcGFyZW50Tm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIGxvYWRlZFRvR1BVVGhpc0ZyYW1lKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFub2RlLmZhaWxlZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS5sb2FkZWQgJiYgbG9hZGVkVG9HUFVUaGlzRnJhbWUgPj0gTUFYX0xPQURTX1RPX0dQVSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXhjZWVkZWRNYXhMb2Fkc1RvR1BVID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB1bmxvYWRlZEdlb21ldHJ5LnB1c2gobm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIHBvaW50Q2xvdWQudmlzaWJsZUdlb21ldHJ5LnB1c2gobm9kZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBub2RlTG9hZEZhaWxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc1RyZWVOb2RlKG5vZGUpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVUcmVlTm9kZVZpc2liaWxpdHkocG9pbnRDbG91ZCwgbm9kZSwgdmlzaWJsZU5vZGVzKTtcbiAgICAgICAgICAgICAgICBwb2ludENsb3VkLnZpc2libGVHZW9tZXRyeS5wdXNoKG5vZGUuZ2VvbWV0cnlOb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGhhbGZIZWlnaHQgPSAwLjUgKiByZW5kZXJlci5nZXRTaXplKHRoaXMuX3JlbmRlcmVyU2l6ZSkuaGVpZ2h0ICogcmVuZGVyZXIuZ2V0UGl4ZWxSYXRpbygpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVDaGlsZFZpc2liaWxpdHkocXVldWVJdGVtLCBwcmlvcml0eVF1ZXVlLCBwb2ludENsb3VkLCBub2RlLCBjYW1lcmFQb3NpdGlvbnNbcG9pbnRDbG91ZEluZGV4XSwgY2FtZXJhLCBoYWxmSGVpZ2h0KTtcbiAgICAgICAgfSAvLyBlbmQgcHJpb3JpdHkgcXVldWUgbG9vcFxuICAgICAgICBjb25zdCBudW1Ob2Rlc1RvTG9hZCA9IE1hdGgubWluKHRoaXMubWF4TnVtTm9kZXNMb2FkaW5nLCB1bmxvYWRlZEdlb21ldHJ5Lmxlbmd0aCk7XG4gICAgICAgIGNvbnN0IG5vZGVMb2FkUHJvbWlzZXMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1Ob2Rlc1RvTG9hZDsgaSsrKSB7XG4gICAgICAgICAgICBub2RlTG9hZFByb21pc2VzLnB1c2godW5sb2FkZWRHZW9tZXRyeVtpXS5sb2FkKCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2aXNpYmxlTm9kZXM6IHZpc2libGVOb2RlcyxcbiAgICAgICAgICAgIG51bVZpc2libGVQb2ludHM6IG51bVZpc2libGVQb2ludHMsXG4gICAgICAgICAgICBleGNlZWRlZE1heExvYWRzVG9HUFU6IGV4Y2VlZGVkTWF4TG9hZHNUb0dQVSxcbiAgICAgICAgICAgIG5vZGVMb2FkRmFpbGVkOiBub2RlTG9hZEZhaWxlZCxcbiAgICAgICAgICAgIG5vZGVMb2FkUHJvbWlzZXM6IG5vZGVMb2FkUHJvbWlzZXMsXG4gICAgICAgIH07XG4gICAgfVxuICAgIHVwZGF0ZVRyZWVOb2RlVmlzaWJpbGl0eShwb2ludENsb3VkLCBub2RlLCB2aXNpYmxlTm9kZXMpIHtcbiAgICAgICAgdGhpcy5scnUudG91Y2gobm9kZS5nZW9tZXRyeU5vZGUpO1xuICAgICAgICBjb25zdCBzY2VuZU5vZGUgPSBub2RlLnNjZW5lTm9kZTtcbiAgICAgICAgc2NlbmVOb2RlLnZpc2libGUgPSB0cnVlO1xuICAgICAgICBzY2VuZU5vZGUubWF0ZXJpYWwgPSBwb2ludENsb3VkLm1hdGVyaWFsO1xuICAgICAgICBzY2VuZU5vZGUudXBkYXRlTWF0cml4KCk7XG4gICAgICAgIHNjZW5lTm9kZS5tYXRyaXhXb3JsZC5tdWx0aXBseU1hdHJpY2VzKHBvaW50Q2xvdWQubWF0cml4V29ybGQsIHNjZW5lTm9kZS5tYXRyaXgpO1xuICAgICAgICB2aXNpYmxlTm9kZXMucHVzaChub2RlKTtcbiAgICAgICAgcG9pbnRDbG91ZC52aXNpYmxlTm9kZXMucHVzaChub2RlKTtcbiAgICAgICAgdGhpcy51cGRhdGVCb3VuZGluZ0JveFZpc2liaWxpdHkocG9pbnRDbG91ZCwgbm9kZSk7XG4gICAgfVxuICAgIHVwZGF0ZUNoaWxkVmlzaWJpbGl0eShxdWV1ZUl0ZW0sIHByaW9yaXR5UXVldWUsIHBvaW50Q2xvdWQsIG5vZGUsIGNhbWVyYVBvc2l0aW9uLCBjYW1lcmEsIGhhbGZIZWlnaHQpIHtcbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBub2RlLmNoaWxkcmVuO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuICAgICAgICAgICAgaWYgKGNoaWxkID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBzcGhlcmUgPSBjaGlsZC5ib3VuZGluZ1NwaGVyZTtcbiAgICAgICAgICAgIGNvbnN0IGRpc3RhbmNlID0gc3BoZXJlLmNlbnRlci5kaXN0YW5jZVRvKGNhbWVyYVBvc2l0aW9uKTtcbiAgICAgICAgICAgIGNvbnN0IHJhZGl1cyA9IHNwaGVyZS5yYWRpdXM7XG4gICAgICAgICAgICBsZXQgcHJvamVjdGlvbkZhY3RvciA9IDAuMDtcbiAgICAgICAgICAgIGlmIChjYW1lcmEudHlwZSA9PT0gUEVSU1BFQ1RJVkVfQ0FNRVJBKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGVyc3BlY3RpdmUgPSBjYW1lcmE7XG4gICAgICAgICAgICAgICAgY29uc3QgZm92ID0gKHBlcnNwZWN0aXZlLmZvdiAqIE1hdGguUEkpIC8gMTgwLjA7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2xvcGUgPSBNYXRoLnRhbihmb3YgLyAyLjApO1xuICAgICAgICAgICAgICAgIHByb2plY3Rpb25GYWN0b3IgPSBoYWxmSGVpZ2h0IC8gKHNsb3BlICogZGlzdGFuY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3J0aG9ncmFwaGljID0gY2FtZXJhO1xuICAgICAgICAgICAgICAgIHByb2plY3Rpb25GYWN0b3IgPSAoMiAqIGhhbGZIZWlnaHQpIC8gKG9ydGhvZ3JhcGhpYy50b3AgLSBvcnRob2dyYXBoaWMuYm90dG9tKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHNjcmVlblBpeGVsUmFkaXVzID0gcmFkaXVzICogcHJvamVjdGlvbkZhY3RvcjtcbiAgICAgICAgICAgIC8vIERvbid0IGFkZCB0aGUgbm9kZSBpZiBpdCdsbCBiZSB0b28gc21hbGwgb24gdGhlIHNjcmVlbi5cbiAgICAgICAgICAgIGlmIChzY3JlZW5QaXhlbFJhZGl1cyA8IHBvaW50Q2xvdWQubWluTm9kZVBpeGVsU2l6ZSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTm9kZXMgd2hpY2ggYXJlIGxhcmdlciB3aWxsIGhhdmUgcHJpb3JpdHkgaW4gbG9hZGluZy9kaXNwbGF5aW5nLlxuICAgICAgICAgICAgY29uc3Qgd2VpZ2h0ID0gZGlzdGFuY2UgPCByYWRpdXMgPyBOdW1iZXIuTUFYX1ZBTFVFIDogc2NyZWVuUGl4ZWxSYWRpdXMgKyAxIC8gZGlzdGFuY2U7XG4gICAgICAgICAgICBwcmlvcml0eVF1ZXVlLnB1c2gobmV3IFF1ZXVlSXRlbShxdWV1ZUl0ZW0ucG9pbnRDbG91ZEluZGV4LCB3ZWlnaHQsIGNoaWxkLCBub2RlKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdXBkYXRlQm91bmRpbmdCb3hWaXNpYmlsaXR5KHBvaW50Q2xvdWQsIG5vZGUpIHtcbiAgICAgICAgaWYgKHBvaW50Q2xvdWQuc2hvd0JvdW5kaW5nQm94ICYmICFub2RlLmJvdW5kaW5nQm94Tm9kZSkge1xuICAgICAgICAgICAgY29uc3QgYm94SGVscGVyID0gbmV3IEJveDNIZWxwZXIobm9kZS5ib3VuZGluZ0JveCk7XG4gICAgICAgICAgICBib3hIZWxwZXIubWF0cml4QXV0b1VwZGF0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgcG9pbnRDbG91ZC5ib3VuZGluZ0JveE5vZGVzLnB1c2goYm94SGVscGVyKTtcbiAgICAgICAgICAgIG5vZGUuYm91bmRpbmdCb3hOb2RlID0gYm94SGVscGVyO1xuICAgICAgICAgICAgbm9kZS5ib3VuZGluZ0JveE5vZGUubWF0cml4LmNvcHkocG9pbnRDbG91ZC5tYXRyaXhXb3JsZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocG9pbnRDbG91ZC5zaG93Qm91bmRpbmdCb3ggJiYgbm9kZS5ib3VuZGluZ0JveE5vZGUpIHtcbiAgICAgICAgICAgIG5vZGUuYm91bmRpbmdCb3hOb2RlLnZpc2libGUgPSB0cnVlO1xuICAgICAgICAgICAgbm9kZS5ib3VuZGluZ0JveE5vZGUubWF0cml4LmNvcHkocG9pbnRDbG91ZC5tYXRyaXhXb3JsZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIXBvaW50Q2xvdWQuc2hvd0JvdW5kaW5nQm94ICYmIG5vZGUuYm91bmRpbmdCb3hOb2RlKSB7XG4gICAgICAgICAgICBub2RlLmJvdW5kaW5nQm94Tm9kZS52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2hvdWxkQ2xpcChwb2ludENsb3VkLCBib3VuZGluZ0JveCkge1xuICAgICAgICBjb25zdCBtYXRlcmlhbCA9IHBvaW50Q2xvdWQubWF0ZXJpYWw7XG4gICAgICAgIGlmIChtYXRlcmlhbC5udW1DbGlwQm94ZXMgPT09IDAgfHwgbWF0ZXJpYWwuY2xpcE1vZGUgIT09IENsaXBNb2RlLkNMSVBfT1VUU0lERSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGJveDIgPSBib3VuZGluZ0JveC5jbG9uZSgpO1xuICAgICAgICBwb2ludENsb3VkLnVwZGF0ZU1hdHJpeFdvcmxkKHRydWUpO1xuICAgICAgICBib3gyLmFwcGx5TWF0cml4NChwb2ludENsb3VkLm1hdHJpeFdvcmxkKTtcbiAgICAgICAgY29uc3QgY2xpcEJveGVzID0gbWF0ZXJpYWwuY2xpcEJveGVzO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNsaXBCb3hlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY2xpcE1hdHJpeFdvcmxkID0gY2xpcEJveGVzW2ldLm1hdHJpeDtcbiAgICAgICAgICAgIGNvbnN0IGNsaXBCb3hXb3JsZCA9IG5ldyBCb3gzKG5ldyBWZWN0b3IzKC0wLjUsIC0wLjUsIC0wLjUpLCBuZXcgVmVjdG9yMygwLjUsIDAuNSwgMC41KSkuYXBwbHlNYXRyaXg0KGNsaXBNYXRyaXhXb3JsZCk7XG4gICAgICAgICAgICBpZiAoYm94Mi5pbnRlcnNlY3RzQm94KGNsaXBCb3hXb3JsZCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/potree.ts\n");

/***/ }),

/***/ "./src/type-predicates.ts":
/*!********************************!*\
  !*** ./src/type-predicates.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isGeometryNode: () => (/* binding */ isGeometryNode),\n/* harmony export */   isTreeNode: () => (/* binding */ isTreeNode)\n/* harmony export */ });\nfunction isGeometryNode(node) {\n    return node !== undefined && node !== null && node.isGeometryNode;\n}\nfunction isTreeNode(node) {\n    return node !== undefined && node !== null && node.isTreeNode;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdHlwZS1wcmVkaWNhdGVzLnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcG90cmVlLy4vc3JjL3R5cGUtcHJlZGljYXRlcy50cz8zMTQzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBpc0dlb21ldHJ5Tm9kZShub2RlKSB7XG4gICAgcmV0dXJuIG5vZGUgIT09IHVuZGVmaW5lZCAmJiBub2RlICE9PSBudWxsICYmIG5vZGUuaXNHZW9tZXRyeU5vZGU7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNUcmVlTm9kZShub2RlKSB7XG4gICAgcmV0dXJuIG5vZGUgIT09IHVuZGVmaW5lZCAmJiBub2RlICE9PSBudWxsICYmIG5vZGUuaXNUcmVlTm9kZTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/type-predicates.ts\n");

/***/ }),

/***/ "./src/types.ts":
/*!**********************!*\
  !*** ./src/types.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdHlwZXMudHMiLCJtYXBwaW5ncyI6IjtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcG90cmVlLy4vc3JjL3R5cGVzLnRzP2YzZmUiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHt9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/types.ts\n");

/***/ }),

/***/ "./src/utils/async-blocking-queue.ts":
/*!*******************************************!*\
  !*** ./src/utils/async-blocking-queue.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AsyncBlockingQueue: () => (/* binding */ AsyncBlockingQueue)\n/* harmony export */ });\nclass AsyncBlockingQueue {\n    constructor() {\n        this.resolvers = [];\n        this.promises = [];\n    }\n    enqueue(t) {\n        if (!this.resolvers.length) {\n            this.add();\n        }\n        const resolve = this.resolvers.shift();\n        resolve(t);\n    }\n    dequeue() {\n        if (!this.promises.length) {\n            this.add();\n        }\n        return this.promises.shift();\n    }\n    add() {\n        this.promises.push(new Promise(resolve => {\n            this.resolvers.push(resolve);\n        }));\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdXRpbHMvYXN5bmMtYmxvY2tpbmctcXVldWUudHMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3BvdHJlZS8uL3NyYy91dGlscy9hc3luYy1ibG9ja2luZy1xdWV1ZS50cz8zYjMzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBBc3luY0Jsb2NraW5nUXVldWUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnJlc29sdmVycyA9IFtdO1xuICAgICAgICB0aGlzLnByb21pc2VzID0gW107XG4gICAgfVxuICAgIGVucXVldWUodCkge1xuICAgICAgICBpZiAoIXRoaXMucmVzb2x2ZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5hZGQoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXNvbHZlID0gdGhpcy5yZXNvbHZlcnMuc2hpZnQoKTtcbiAgICAgICAgcmVzb2x2ZSh0KTtcbiAgICB9XG4gICAgZGVxdWV1ZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnByb21pc2VzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5hZGQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5wcm9taXNlcy5zaGlmdCgpO1xuICAgIH1cbiAgICBhZGQoKSB7XG4gICAgICAgIHRoaXMucHJvbWlzZXMucHVzaChuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVzb2x2ZXJzLnB1c2gocmVzb2x2ZSk7XG4gICAgICAgIH0pKTtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/utils/async-blocking-queue.ts\n");

/***/ }),

/***/ "./src/utils/bounds.ts":
/*!*****************************!*\
  !*** ./src/utils/bounds.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   computeTransformedBoundingBox: () => (/* binding */ computeTransformedBoundingBox),\n/* harmony export */   createChildAABB: () => (/* binding */ createChildAABB)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"three\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(three__WEBPACK_IMPORTED_MODULE_0__);\n\n/**\n * adapted from mhluska at https://github.com/mrdoob/three.js/issues/1561\n */\nfunction computeTransformedBoundingBox(box, transform) {\n    return new three__WEBPACK_IMPORTED_MODULE_0__.Box3().setFromPoints([\n        new three__WEBPACK_IMPORTED_MODULE_0__.Vector3(box.min.x, box.min.y, box.min.z).applyMatrix4(transform),\n        new three__WEBPACK_IMPORTED_MODULE_0__.Vector3(box.min.x, box.min.y, box.min.z).applyMatrix4(transform),\n        new three__WEBPACK_IMPORTED_MODULE_0__.Vector3(box.max.x, box.min.y, box.min.z).applyMatrix4(transform),\n        new three__WEBPACK_IMPORTED_MODULE_0__.Vector3(box.min.x, box.max.y, box.min.z).applyMatrix4(transform),\n        new three__WEBPACK_IMPORTED_MODULE_0__.Vector3(box.min.x, box.min.y, box.max.z).applyMatrix4(transform),\n        new three__WEBPACK_IMPORTED_MODULE_0__.Vector3(box.min.x, box.max.y, box.max.z).applyMatrix4(transform),\n        new three__WEBPACK_IMPORTED_MODULE_0__.Vector3(box.max.x, box.max.y, box.min.z).applyMatrix4(transform),\n        new three__WEBPACK_IMPORTED_MODULE_0__.Vector3(box.max.x, box.min.y, box.max.z).applyMatrix4(transform),\n        new three__WEBPACK_IMPORTED_MODULE_0__.Vector3(box.max.x, box.max.y, box.max.z).applyMatrix4(transform),\n    ]);\n}\nfunction createChildAABB(aabb, index) {\n    const min = aabb.min.clone();\n    const max = aabb.max.clone();\n    const size = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3().subVectors(max, min);\n    // tslint:disable-next-line:no-bitwise\n    if ((index & 0b0001) > 0) {\n        min.z += size.z / 2;\n    }\n    else {\n        max.z -= size.z / 2;\n    }\n    // tslint:disable-next-line:no-bitwise\n    if ((index & 0b0010) > 0) {\n        min.y += size.y / 2;\n    }\n    else {\n        max.y -= size.y / 2;\n    }\n    // tslint:disable-next-line:no-bitwise\n    if ((index & 0b0100) > 0) {\n        min.x += size.x / 2;\n    }\n    else {\n        max.x -= size.x / 2;\n    }\n    return new three__WEBPACK_IMPORTED_MODULE_0__.Box3(min, max);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdXRpbHMvYm91bmRzLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcG90cmVlLy4vc3JjL3V0aWxzL2JvdW5kcy50cz9kNTBlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJveDMsIFZlY3RvcjMgfSBmcm9tICd0aHJlZSc7XG4vKipcbiAqIGFkYXB0ZWQgZnJvbSBtaGx1c2thIGF0IGh0dHBzOi8vZ2l0aHViLmNvbS9tcmRvb2IvdGhyZWUuanMvaXNzdWVzLzE1NjFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVUcmFuc2Zvcm1lZEJvdW5kaW5nQm94KGJveCwgdHJhbnNmb3JtKSB7XG4gICAgcmV0dXJuIG5ldyBCb3gzKCkuc2V0RnJvbVBvaW50cyhbXG4gICAgICAgIG5ldyBWZWN0b3IzKGJveC5taW4ueCwgYm94Lm1pbi55LCBib3gubWluLnopLmFwcGx5TWF0cml4NCh0cmFuc2Zvcm0pLFxuICAgICAgICBuZXcgVmVjdG9yMyhib3gubWluLngsIGJveC5taW4ueSwgYm94Lm1pbi56KS5hcHBseU1hdHJpeDQodHJhbnNmb3JtKSxcbiAgICAgICAgbmV3IFZlY3RvcjMoYm94Lm1heC54LCBib3gubWluLnksIGJveC5taW4ueikuYXBwbHlNYXRyaXg0KHRyYW5zZm9ybSksXG4gICAgICAgIG5ldyBWZWN0b3IzKGJveC5taW4ueCwgYm94Lm1heC55LCBib3gubWluLnopLmFwcGx5TWF0cml4NCh0cmFuc2Zvcm0pLFxuICAgICAgICBuZXcgVmVjdG9yMyhib3gubWluLngsIGJveC5taW4ueSwgYm94Lm1heC56KS5hcHBseU1hdHJpeDQodHJhbnNmb3JtKSxcbiAgICAgICAgbmV3IFZlY3RvcjMoYm94Lm1pbi54LCBib3gubWF4LnksIGJveC5tYXgueikuYXBwbHlNYXRyaXg0KHRyYW5zZm9ybSksXG4gICAgICAgIG5ldyBWZWN0b3IzKGJveC5tYXgueCwgYm94Lm1heC55LCBib3gubWluLnopLmFwcGx5TWF0cml4NCh0cmFuc2Zvcm0pLFxuICAgICAgICBuZXcgVmVjdG9yMyhib3gubWF4LngsIGJveC5taW4ueSwgYm94Lm1heC56KS5hcHBseU1hdHJpeDQodHJhbnNmb3JtKSxcbiAgICAgICAgbmV3IFZlY3RvcjMoYm94Lm1heC54LCBib3gubWF4LnksIGJveC5tYXgueikuYXBwbHlNYXRyaXg0KHRyYW5zZm9ybSksXG4gICAgXSk7XG59XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ2hpbGRBQUJCKGFhYmIsIGluZGV4KSB7XG4gICAgY29uc3QgbWluID0gYWFiYi5taW4uY2xvbmUoKTtcbiAgICBjb25zdCBtYXggPSBhYWJiLm1heC5jbG9uZSgpO1xuICAgIGNvbnN0IHNpemUgPSBuZXcgVmVjdG9yMygpLnN1YlZlY3RvcnMobWF4LCBtaW4pO1xuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1iaXR3aXNlXG4gICAgaWYgKChpbmRleCAmIDBiMDAwMSkgPiAwKSB7XG4gICAgICAgIG1pbi56ICs9IHNpemUueiAvIDI7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBtYXgueiAtPSBzaXplLnogLyAyO1xuICAgIH1cbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYml0d2lzZVxuICAgIGlmICgoaW5kZXggJiAwYjAwMTApID4gMCkge1xuICAgICAgICBtaW4ueSArPSBzaXplLnkgLyAyO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbWF4LnkgLT0gc2l6ZS55IC8gMjtcbiAgICB9XG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWJpdHdpc2VcbiAgICBpZiAoKGluZGV4ICYgMGIwMTAwKSA+IDApIHtcbiAgICAgICAgbWluLnggKz0gc2l6ZS54IC8gMjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIG1heC54IC09IHNpemUueCAvIDI7XG4gICAgfVxuICAgIHJldHVybiBuZXcgQm94MyhtaW4sIG1heCk7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/utils/bounds.ts\n");

/***/ }),

/***/ "./src/utils/box3-helper.ts":
/*!**********************************!*\
  !*** ./src/utils/box3-helper.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Box3Helper: () => (/* binding */ Box3Helper)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"three\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(three__WEBPACK_IMPORTED_MODULE_0__);\n\n/**\n *\n * code adapted from three.js BoxHelper.js\n * https://github.com/mrdoob/three.js/blob/dev/src/helpers/BoxHelper.js\n *\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / http://github.com/Mugen87\n * @author mschuetz / http://potree.org\n */\nclass Box3Helper extends three__WEBPACK_IMPORTED_MODULE_0__.LineSegments {\n    constructor(box, color = new three__WEBPACK_IMPORTED_MODULE_0__.Color(0xffff00)) {\n        // prettier-ignore\n        const indices = new Uint16Array([0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7]);\n        // prettier-ignore\n        const positions = new Float32Array([\n            box.min.x, box.min.y, box.min.z,\n            box.max.x, box.min.y, box.min.z,\n            box.max.x, box.min.y, box.max.z,\n            box.min.x, box.min.y, box.max.z,\n            box.min.x, box.max.y, box.min.z,\n            box.max.x, box.max.y, box.min.z,\n            box.max.x, box.max.y, box.max.z,\n            box.min.x, box.max.y, box.max.z\n        ]);\n        const geometry = new three__WEBPACK_IMPORTED_MODULE_0__.BufferGeometry();\n        geometry.setIndex(new three__WEBPACK_IMPORTED_MODULE_0__.BufferAttribute(indices, 1));\n        geometry.setAttribute('position', new three__WEBPACK_IMPORTED_MODULE_0__.BufferAttribute(positions, 3));\n        const material = new three__WEBPACK_IMPORTED_MODULE_0__.LineBasicMaterial({ color: color });\n        super(geometry, material);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdXRpbHMvYm94My1oZWxwZXIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3BvdHJlZS8uL3NyYy91dGlscy9ib3gzLWhlbHBlci50cz83MWEwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJ1ZmZlckF0dHJpYnV0ZSwgQnVmZmVyR2VvbWV0cnksIENvbG9yLCBMaW5lQmFzaWNNYXRlcmlhbCwgTGluZVNlZ21lbnRzLCB9IGZyb20gJ3RocmVlJztcbi8qKlxuICpcbiAqIGNvZGUgYWRhcHRlZCBmcm9tIHRocmVlLmpzIEJveEhlbHBlci5qc1xuICogaHR0cHM6Ly9naXRodWIuY29tL21yZG9vYi90aHJlZS5qcy9ibG9iL2Rldi9zcmMvaGVscGVycy9Cb3hIZWxwZXIuanNcbiAqXG4gKiBAYXV0aG9yIG1yZG9vYiAvIGh0dHA6Ly9tcmRvb2IuY29tL1xuICogQGF1dGhvciBNdWdlbjg3IC8gaHR0cDovL2dpdGh1Yi5jb20vTXVnZW44N1xuICogQGF1dGhvciBtc2NodWV0eiAvIGh0dHA6Ly9wb3RyZWUub3JnXG4gKi9cbmV4cG9ydCBjbGFzcyBCb3gzSGVscGVyIGV4dGVuZHMgTGluZVNlZ21lbnRzIHtcbiAgICBjb25zdHJ1Y3Rvcihib3gsIGNvbG9yID0gbmV3IENvbG9yKDB4ZmZmZjAwKSkge1xuICAgICAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICAgICAgY29uc3QgaW5kaWNlcyA9IG5ldyBVaW50MTZBcnJheShbMCwgMSwgMSwgMiwgMiwgMywgMywgMCwgNCwgNSwgNSwgNiwgNiwgNywgNywgNCwgMCwgNCwgMSwgNSwgMiwgNiwgMywgN10pO1xuICAgICAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICAgICAgY29uc3QgcG9zaXRpb25zID0gbmV3IEZsb2F0MzJBcnJheShbXG4gICAgICAgICAgICBib3gubWluLngsIGJveC5taW4ueSwgYm94Lm1pbi56LFxuICAgICAgICAgICAgYm94Lm1heC54LCBib3gubWluLnksIGJveC5taW4ueixcbiAgICAgICAgICAgIGJveC5tYXgueCwgYm94Lm1pbi55LCBib3gubWF4LnosXG4gICAgICAgICAgICBib3gubWluLngsIGJveC5taW4ueSwgYm94Lm1heC56LFxuICAgICAgICAgICAgYm94Lm1pbi54LCBib3gubWF4LnksIGJveC5taW4ueixcbiAgICAgICAgICAgIGJveC5tYXgueCwgYm94Lm1heC55LCBib3gubWluLnosXG4gICAgICAgICAgICBib3gubWF4LngsIGJveC5tYXgueSwgYm94Lm1heC56LFxuICAgICAgICAgICAgYm94Lm1pbi54LCBib3gubWF4LnksIGJveC5tYXguelxuICAgICAgICBdKTtcbiAgICAgICAgY29uc3QgZ2VvbWV0cnkgPSBuZXcgQnVmZmVyR2VvbWV0cnkoKTtcbiAgICAgICAgZ2VvbWV0cnkuc2V0SW5kZXgobmV3IEJ1ZmZlckF0dHJpYnV0ZShpbmRpY2VzLCAxKSk7XG4gICAgICAgIGdlb21ldHJ5LnNldEF0dHJpYnV0ZSgncG9zaXRpb24nLCBuZXcgQnVmZmVyQXR0cmlidXRlKHBvc2l0aW9ucywgMykpO1xuICAgICAgICBjb25zdCBtYXRlcmlhbCA9IG5ldyBMaW5lQmFzaWNNYXRlcmlhbCh7IGNvbG9yOiBjb2xvciB9KTtcbiAgICAgICAgc3VwZXIoZ2VvbWV0cnksIG1hdGVyaWFsKTtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/utils/box3-helper.ts\n");

/***/ }),

/***/ "./src/utils/lru.ts":
/*!**************************!*\
  !*** ./src/utils/lru.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LRU: () => (/* binding */ LRU),\n/* harmony export */   LRUItem: () => (/* binding */ LRUItem)\n/* harmony export */ });\nclass LRUItem {\n    constructor(node) {\n        this.node = node;\n        this.next = null;\n        this.previous = null;\n    }\n}\n/**\n * A doubly-linked-list of the least recently used elements.\n */\nclass LRU {\n    constructor(pointBudget = 1000000) {\n        this.pointBudget = pointBudget;\n        // the least recently used item\n        this.first = null;\n        // the most recently used item\n        this.last = null;\n        this.numPoints = 0;\n        this.items = new Map();\n    }\n    get size() {\n        return this.items.size;\n    }\n    has(node) {\n        return this.items.has(node.id);\n    }\n    /**\n     * Makes the specified the most recently used item. if the list does not contain node, it will\n     * be added.\n     */\n    touch(node) {\n        if (!node.loaded) {\n            return;\n        }\n        const item = this.items.get(node.id);\n        if (item) {\n            this.touchExisting(item);\n        }\n        else {\n            this.addNew(node);\n        }\n    }\n    addNew(node) {\n        const item = new LRUItem(node);\n        item.previous = this.last;\n        this.last = item;\n        if (item.previous) {\n            item.previous.next = item;\n        }\n        if (!this.first) {\n            this.first = item;\n        }\n        this.items.set(node.id, item);\n        this.numPoints += node.numPoints;\n    }\n    touchExisting(item) {\n        if (!item.previous) {\n            // handle touch on first element\n            if (item.next) {\n                this.first = item.next;\n                this.first.previous = null;\n                item.previous = this.last;\n                item.next = null;\n                this.last = item;\n                if (item.previous) {\n                    item.previous.next = item;\n                }\n            }\n        }\n        else if (!item.next) {\n            // handle touch on last element\n        }\n        else {\n            // handle touch on any other element\n            item.previous.next = item.next;\n            item.next.previous = item.previous;\n            item.previous = this.last;\n            item.next = null;\n            this.last = item;\n            if (item.previous) {\n                item.previous.next = item;\n            }\n        }\n    }\n    remove(node) {\n        const item = this.items.get(node.id);\n        if (!item) {\n            return;\n        }\n        if (this.items.size === 1) {\n            this.first = null;\n            this.last = null;\n        }\n        else {\n            if (!item.previous) {\n                this.first = item.next;\n                this.first.previous = null;\n            }\n            if (!item.next) {\n                this.last = item.previous;\n                this.last.next = null;\n            }\n            if (item.previous && item.next) {\n                item.previous.next = item.next;\n                item.next.previous = item.previous;\n            }\n        }\n        this.items.delete(node.id);\n        this.numPoints -= node.numPoints;\n    }\n    getLRUItem() {\n        return this.first ? this.first.node : undefined;\n    }\n    freeMemory() {\n        if (this.items.size <= 1) {\n            return;\n        }\n        while (this.numPoints > this.pointBudget * 2) {\n            const node = this.getLRUItem();\n            if (node) {\n                this.disposeSubtree(node);\n            }\n        }\n    }\n    disposeSubtree(node) {\n        // Collect all the nodes which are to be disposed and removed.\n        const nodesToDispose = [node];\n        node.traverse(n => {\n            if (n.loaded) {\n                nodesToDispose.push(n);\n            }\n        });\n        // Dispose of all the nodes in one go.\n        for (const n of nodesToDispose) {\n            n.dispose();\n            this.remove(n);\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdXRpbHMvbHJ1LnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb3RyZWUvLi9zcmMvdXRpbHMvbHJ1LnRzPzhlMGUiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIExSVUl0ZW0ge1xuICAgIGNvbnN0cnVjdG9yKG5vZGUpIHtcbiAgICAgICAgdGhpcy5ub2RlID0gbm9kZTtcbiAgICAgICAgdGhpcy5uZXh0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcmV2aW91cyA9IG51bGw7XG4gICAgfVxufVxuLyoqXG4gKiBBIGRvdWJseS1saW5rZWQtbGlzdCBvZiB0aGUgbGVhc3QgcmVjZW50bHkgdXNlZCBlbGVtZW50cy5cbiAqL1xuZXhwb3J0IGNsYXNzIExSVSB7XG4gICAgY29uc3RydWN0b3IocG9pbnRCdWRnZXQgPSAxMDAwMDAwKSB7XG4gICAgICAgIHRoaXMucG9pbnRCdWRnZXQgPSBwb2ludEJ1ZGdldDtcbiAgICAgICAgLy8gdGhlIGxlYXN0IHJlY2VudGx5IHVzZWQgaXRlbVxuICAgICAgICB0aGlzLmZpcnN0ID0gbnVsbDtcbiAgICAgICAgLy8gdGhlIG1vc3QgcmVjZW50bHkgdXNlZCBpdGVtXG4gICAgICAgIHRoaXMubGFzdCA9IG51bGw7XG4gICAgICAgIHRoaXMubnVtUG9pbnRzID0gMDtcbiAgICAgICAgdGhpcy5pdGVtcyA9IG5ldyBNYXAoKTtcbiAgICB9XG4gICAgZ2V0IHNpemUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLml0ZW1zLnNpemU7XG4gICAgfVxuICAgIGhhcyhub2RlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLml0ZW1zLmhhcyhub2RlLmlkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWFrZXMgdGhlIHNwZWNpZmllZCB0aGUgbW9zdCByZWNlbnRseSB1c2VkIGl0ZW0uIGlmIHRoZSBsaXN0IGRvZXMgbm90IGNvbnRhaW4gbm9kZSwgaXQgd2lsbFxuICAgICAqIGJlIGFkZGVkLlxuICAgICAqL1xuICAgIHRvdWNoKG5vZGUpIHtcbiAgICAgICAgaWYgKCFub2RlLmxvYWRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLml0ZW1zLmdldChub2RlLmlkKTtcbiAgICAgICAgaWYgKGl0ZW0pIHtcbiAgICAgICAgICAgIHRoaXMudG91Y2hFeGlzdGluZyhpdGVtKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYWRkTmV3KG5vZGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFkZE5ldyhub2RlKSB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSBuZXcgTFJVSXRlbShub2RlKTtcbiAgICAgICAgaXRlbS5wcmV2aW91cyA9IHRoaXMubGFzdDtcbiAgICAgICAgdGhpcy5sYXN0ID0gaXRlbTtcbiAgICAgICAgaWYgKGl0ZW0ucHJldmlvdXMpIHtcbiAgICAgICAgICAgIGl0ZW0ucHJldmlvdXMubmV4dCA9IGl0ZW07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmZpcnN0KSB7XG4gICAgICAgICAgICB0aGlzLmZpcnN0ID0gaXRlbTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLml0ZW1zLnNldChub2RlLmlkLCBpdGVtKTtcbiAgICAgICAgdGhpcy5udW1Qb2ludHMgKz0gbm9kZS5udW1Qb2ludHM7XG4gICAgfVxuICAgIHRvdWNoRXhpc3RpbmcoaXRlbSkge1xuICAgICAgICBpZiAoIWl0ZW0ucHJldmlvdXMpIHtcbiAgICAgICAgICAgIC8vIGhhbmRsZSB0b3VjaCBvbiBmaXJzdCBlbGVtZW50XG4gICAgICAgICAgICBpZiAoaXRlbS5uZXh0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5maXJzdCA9IGl0ZW0ubmV4dDtcbiAgICAgICAgICAgICAgICB0aGlzLmZpcnN0LnByZXZpb3VzID0gbnVsbDtcbiAgICAgICAgICAgICAgICBpdGVtLnByZXZpb3VzID0gdGhpcy5sYXN0O1xuICAgICAgICAgICAgICAgIGl0ZW0ubmV4dCA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0ID0gaXRlbTtcbiAgICAgICAgICAgICAgICBpZiAoaXRlbS5wcmV2aW91cykge1xuICAgICAgICAgICAgICAgICAgICBpdGVtLnByZXZpb3VzLm5leHQgPSBpdGVtO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghaXRlbS5uZXh0KSB7XG4gICAgICAgICAgICAvLyBoYW5kbGUgdG91Y2ggb24gbGFzdCBlbGVtZW50XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBoYW5kbGUgdG91Y2ggb24gYW55IG90aGVyIGVsZW1lbnRcbiAgICAgICAgICAgIGl0ZW0ucHJldmlvdXMubmV4dCA9IGl0ZW0ubmV4dDtcbiAgICAgICAgICAgIGl0ZW0ubmV4dC5wcmV2aW91cyA9IGl0ZW0ucHJldmlvdXM7XG4gICAgICAgICAgICBpdGVtLnByZXZpb3VzID0gdGhpcy5sYXN0O1xuICAgICAgICAgICAgaXRlbS5uZXh0ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMubGFzdCA9IGl0ZW07XG4gICAgICAgICAgICBpZiAoaXRlbS5wcmV2aW91cykge1xuICAgICAgICAgICAgICAgIGl0ZW0ucHJldmlvdXMubmV4dCA9IGl0ZW07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVtb3ZlKG5vZGUpIHtcbiAgICAgICAgY29uc3QgaXRlbSA9IHRoaXMuaXRlbXMuZ2V0KG5vZGUuaWQpO1xuICAgICAgICBpZiAoIWl0ZW0pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5pdGVtcy5zaXplID09PSAxKSB7XG4gICAgICAgICAgICB0aGlzLmZpcnN0ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMubGFzdCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoIWl0ZW0ucHJldmlvdXMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpcnN0ID0gaXRlbS5uZXh0O1xuICAgICAgICAgICAgICAgIHRoaXMuZmlyc3QucHJldmlvdXMgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFpdGVtLm5leHQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3QgPSBpdGVtLnByZXZpb3VzO1xuICAgICAgICAgICAgICAgIHRoaXMubGFzdC5uZXh0ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpdGVtLnByZXZpb3VzICYmIGl0ZW0ubmV4dCkge1xuICAgICAgICAgICAgICAgIGl0ZW0ucHJldmlvdXMubmV4dCA9IGl0ZW0ubmV4dDtcbiAgICAgICAgICAgICAgICBpdGVtLm5leHQucHJldmlvdXMgPSBpdGVtLnByZXZpb3VzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXRlbXMuZGVsZXRlKG5vZGUuaWQpO1xuICAgICAgICB0aGlzLm51bVBvaW50cyAtPSBub2RlLm51bVBvaW50cztcbiAgICB9XG4gICAgZ2V0TFJVSXRlbSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmlyc3QgPyB0aGlzLmZpcnN0Lm5vZGUgOiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGZyZWVNZW1vcnkoKSB7XG4gICAgICAgIGlmICh0aGlzLml0ZW1zLnNpemUgPD0gMSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlICh0aGlzLm51bVBvaW50cyA+IHRoaXMucG9pbnRCdWRnZXQgKiAyKSB7XG4gICAgICAgICAgICBjb25zdCBub2RlID0gdGhpcy5nZXRMUlVJdGVtKCk7XG4gICAgICAgICAgICBpZiAobm9kZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcG9zZVN1YnRyZWUobm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGlzcG9zZVN1YnRyZWUobm9kZSkge1xuICAgICAgICAvLyBDb2xsZWN0IGFsbCB0aGUgbm9kZXMgd2hpY2ggYXJlIHRvIGJlIGRpc3Bvc2VkIGFuZCByZW1vdmVkLlxuICAgICAgICBjb25zdCBub2Rlc1RvRGlzcG9zZSA9IFtub2RlXTtcbiAgICAgICAgbm9kZS50cmF2ZXJzZShuID0+IHtcbiAgICAgICAgICAgIGlmIChuLmxvYWRlZCkge1xuICAgICAgICAgICAgICAgIG5vZGVzVG9EaXNwb3NlLnB1c2gobik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBEaXNwb3NlIG9mIGFsbCB0aGUgbm9kZXMgaW4gb25lIGdvLlxuICAgICAgICBmb3IgKGNvbnN0IG4gb2Ygbm9kZXNUb0Rpc3Bvc2UpIHtcbiAgICAgICAgICAgIG4uZGlzcG9zZSgpO1xuICAgICAgICAgICAgdGhpcy5yZW1vdmUobik7XG4gICAgICAgIH1cbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/utils/lru.ts\n");

/***/ }),

/***/ "./src/utils/math.ts":
/*!***************************!*\
  !*** ./src/utils/math.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clamp: () => (/* binding */ clamp)\n/* harmony export */ });\nfunction clamp(value, min, max) {\n    return Math.min(Math.max(min, value), max);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdXRpbHMvbWF0aC50cyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcG90cmVlLy4vc3JjL3V0aWxzL21hdGgudHM/NjFmOCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gY2xhbXAodmFsdWUsIG1pbiwgbWF4KSB7XG4gICAgcmV0dXJuIE1hdGgubWluKE1hdGgubWF4KG1pbiwgdmFsdWUpLCBtYXgpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/utils/math.ts\n");

/***/ }),

/***/ "./src/utils/utils.ts":
/*!****************************!*\
  !*** ./src/utils/utils.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   byLevelAndIndex: () => (/* binding */ byLevelAndIndex),\n/* harmony export */   getIndexFromName: () => (/* binding */ getIndexFromName),\n/* harmony export */   handleEmptyBuffer: () => (/* binding */ handleEmptyBuffer),\n/* harmony export */   handleFailedRequest: () => (/* binding */ handleFailedRequest)\n/* harmony export */ });\nfunction getIndexFromName(name) {\n    return parseInt(name.charAt(name.length - 1), 10);\n}\n/**\n * When passed to `[].sort`, sorts the array by level and index: r, r0, r3, r4, r01, r07, r30, ...\n */\nfunction byLevelAndIndex(a, b) {\n    const na = a.name;\n    const nb = b.name;\n    if (na.length !== nb.length) {\n        return na.length - nb.length;\n    }\n    else if (na < nb) {\n        return -1;\n    }\n    else if (na > nb) {\n        return 1;\n    }\n    else {\n        return 0;\n    }\n}\nfunction handleFailedRequest(response) {\n    if (response.status !== 200) {\n        throw Error('Response error');\n    }\n    return response;\n}\nfunction handleEmptyBuffer(buffer) {\n    if (!buffer || buffer.byteLength === 0) {\n        throw Error('Empty buffer');\n    }\n    return buffer;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdXRpbHMvdXRpbHMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcG90cmVlLy4vc3JjL3V0aWxzL3V0aWxzLnRzPzU2MjIiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIGdldEluZGV4RnJvbU5hbWUobmFtZSkge1xuICAgIHJldHVybiBwYXJzZUludChuYW1lLmNoYXJBdChuYW1lLmxlbmd0aCAtIDEpLCAxMCk7XG59XG4vKipcbiAqIFdoZW4gcGFzc2VkIHRvIGBbXS5zb3J0YCwgc29ydHMgdGhlIGFycmF5IGJ5IGxldmVsIGFuZCBpbmRleDogciwgcjAsIHIzLCByNCwgcjAxLCByMDcsIHIzMCwgLi4uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBieUxldmVsQW5kSW5kZXgoYSwgYikge1xuICAgIGNvbnN0IG5hID0gYS5uYW1lO1xuICAgIGNvbnN0IG5iID0gYi5uYW1lO1xuICAgIGlmIChuYS5sZW5ndGggIT09IG5iLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gbmEubGVuZ3RoIC0gbmIubGVuZ3RoO1xuICAgIH1cbiAgICBlbHNlIGlmIChuYSA8IG5iKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9XG4gICAgZWxzZSBpZiAobmEgPiBuYikge1xuICAgICAgICByZXR1cm4gMTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVGYWlsZWRSZXF1ZXN0KHJlc3BvbnNlKSB7XG4gICAgaWYgKHJlc3BvbnNlLnN0YXR1cyAhPT0gMjAwKSB7XG4gICAgICAgIHRocm93IEVycm9yKCdSZXNwb25zZSBlcnJvcicpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzcG9uc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlRW1wdHlCdWZmZXIoYnVmZmVyKSB7XG4gICAgaWYgKCFidWZmZXIgfHwgYnVmZmVyLmJ5dGVMZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoJ0VtcHR5IGJ1ZmZlcicpO1xuICAgIH1cbiAgICByZXR1cm4gYnVmZmVyO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/utils/utils.ts\n");

/***/ }),

/***/ "./src/utils/worker-pool.ts":
/*!**********************************!*\
  !*** ./src/utils/worker-pool.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AutoTerminatingWorker: () => (/* binding */ AutoTerminatingWorker),\n/* harmony export */   WorkerPool: () => (/* binding */ WorkerPool)\n/* harmony export */ });\n/* harmony import */ var _async_blocking_queue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./async-blocking-queue */ \"./src/utils/async-blocking-queue.ts\");\n\nclass AutoTerminatingWorker {\n    constructor(wrappedWorker, maxIdle) {\n        this.wrappedWorker = wrappedWorker;\n        this.maxIdle = maxIdle;\n        this.timeoutId = undefined;\n        this.terminated = false;\n    }\n    get worker() {\n        return this.wrappedWorker;\n    }\n    get isTerminated() {\n        return this.terminated;\n    }\n    markIdle() {\n        this.timeoutId = window.setTimeout(() => {\n            this.terminated = true;\n            this.wrappedWorker.terminate();\n        }, this.maxIdle);\n    }\n    markInUse() {\n        if (this.timeoutId) {\n            window.clearTimeout(this.timeoutId);\n        }\n    }\n}\nclass WorkerPool {\n    constructor(maxWorkers, workerType) {\n        this.maxWorkers = maxWorkers;\n        this.workerType = workerType;\n        this.pool = new _async_blocking_queue__WEBPACK_IMPORTED_MODULE_0__.AsyncBlockingQueue();\n        this.poolSize = 0;\n    }\n    /**\n     * Returns a worker promise which is resolved when one is available.\n     */\n    getWorker() {\n        // If the number of active workers is smaller than the maximum, return a new one.\n        // Otherwise, return a promise for worker from the pool.\n        if (this.poolSize < this.maxWorkers) {\n            this.poolSize++;\n            return Promise.resolve(new AutoTerminatingWorker(new this.workerType(), WorkerPool.POOL_MAX_IDLE));\n        }\n        else {\n            return this.pool.dequeue().then(worker => {\n                worker.markInUse();\n                // If the dequeued worker has been terminated, decrease the pool size and make a recursive call to get a new worker\n                if (worker.isTerminated) {\n                    this.poolSize--;\n                    return this.getWorker();\n                }\n                return worker;\n            });\n        }\n    }\n    /**\n     * Releases a Worker back into the pool\n     * @param worker\n     */\n    releaseWorker(worker) {\n        worker.markIdle();\n        this.pool.enqueue(worker);\n    }\n}\n/**\n * The maximum amount of idle time that can elapse before a worker from this pool is automatically terminated\n */\nWorkerPool.POOL_MAX_IDLE = 7000;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdXRpbHMvd29ya2VyLXBvb2wudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3BvdHJlZS8uL3NyYy91dGlscy93b3JrZXItcG9vbC50cz8zNmJmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFzeW5jQmxvY2tpbmdRdWV1ZSB9IGZyb20gJy4vYXN5bmMtYmxvY2tpbmctcXVldWUnO1xuZXhwb3J0IGNsYXNzIEF1dG9UZXJtaW5hdGluZ1dvcmtlciB7XG4gICAgY29uc3RydWN0b3Iod3JhcHBlZFdvcmtlciwgbWF4SWRsZSkge1xuICAgICAgICB0aGlzLndyYXBwZWRXb3JrZXIgPSB3cmFwcGVkV29ya2VyO1xuICAgICAgICB0aGlzLm1heElkbGUgPSBtYXhJZGxlO1xuICAgICAgICB0aGlzLnRpbWVvdXRJZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy50ZXJtaW5hdGVkID0gZmFsc2U7XG4gICAgfVxuICAgIGdldCB3b3JrZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndyYXBwZWRXb3JrZXI7XG4gICAgfVxuICAgIGdldCBpc1Rlcm1pbmF0ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRlcm1pbmF0ZWQ7XG4gICAgfVxuICAgIG1hcmtJZGxlKCkge1xuICAgICAgICB0aGlzLnRpbWVvdXRJZCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMudGVybWluYXRlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLndyYXBwZWRXb3JrZXIudGVybWluYXRlKCk7XG4gICAgICAgIH0sIHRoaXMubWF4SWRsZSk7XG4gICAgfVxuICAgIG1hcmtJblVzZSgpIHtcbiAgICAgICAgaWYgKHRoaXMudGltZW91dElkKSB7XG4gICAgICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dElkKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBXb3JrZXJQb29sIHtcbiAgICBjb25zdHJ1Y3RvcihtYXhXb3JrZXJzLCB3b3JrZXJUeXBlKSB7XG4gICAgICAgIHRoaXMubWF4V29ya2VycyA9IG1heFdvcmtlcnM7XG4gICAgICAgIHRoaXMud29ya2VyVHlwZSA9IHdvcmtlclR5cGU7XG4gICAgICAgIHRoaXMucG9vbCA9IG5ldyBBc3luY0Jsb2NraW5nUXVldWUoKTtcbiAgICAgICAgdGhpcy5wb29sU2l6ZSA9IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSB3b3JrZXIgcHJvbWlzZSB3aGljaCBpcyByZXNvbHZlZCB3aGVuIG9uZSBpcyBhdmFpbGFibGUuXG4gICAgICovXG4gICAgZ2V0V29ya2VyKCkge1xuICAgICAgICAvLyBJZiB0aGUgbnVtYmVyIG9mIGFjdGl2ZSB3b3JrZXJzIGlzIHNtYWxsZXIgdGhhbiB0aGUgbWF4aW11bSwgcmV0dXJuIGEgbmV3IG9uZS5cbiAgICAgICAgLy8gT3RoZXJ3aXNlLCByZXR1cm4gYSBwcm9taXNlIGZvciB3b3JrZXIgZnJvbSB0aGUgcG9vbC5cbiAgICAgICAgaWYgKHRoaXMucG9vbFNpemUgPCB0aGlzLm1heFdvcmtlcnMpIHtcbiAgICAgICAgICAgIHRoaXMucG9vbFNpemUrKztcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobmV3IEF1dG9UZXJtaW5hdGluZ1dvcmtlcihuZXcgdGhpcy53b3JrZXJUeXBlKCksIFdvcmtlclBvb2wuUE9PTF9NQVhfSURMRSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9vbC5kZXF1ZXVlKCkudGhlbih3b3JrZXIgPT4ge1xuICAgICAgICAgICAgICAgIHdvcmtlci5tYXJrSW5Vc2UoKTtcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgZGVxdWV1ZWQgd29ya2VyIGhhcyBiZWVuIHRlcm1pbmF0ZWQsIGRlY3JlYXNlIHRoZSBwb29sIHNpemUgYW5kIG1ha2UgYSByZWN1cnNpdmUgY2FsbCB0byBnZXQgYSBuZXcgd29ya2VyXG4gICAgICAgICAgICAgICAgaWYgKHdvcmtlci5pc1Rlcm1pbmF0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb29sU2l6ZS0tO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRXb3JrZXIoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHdvcmtlcjtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbGVhc2VzIGEgV29ya2VyIGJhY2sgaW50byB0aGUgcG9vbFxuICAgICAqIEBwYXJhbSB3b3JrZXJcbiAgICAgKi9cbiAgICByZWxlYXNlV29ya2VyKHdvcmtlcikge1xuICAgICAgICB3b3JrZXIubWFya0lkbGUoKTtcbiAgICAgICAgdGhpcy5wb29sLmVucXVldWUod29ya2VyKTtcbiAgICB9XG59XG4vKipcbiAqIFRoZSBtYXhpbXVtIGFtb3VudCBvZiBpZGxlIHRpbWUgdGhhdCBjYW4gZWxhcHNlIGJlZm9yZSBhIHdvcmtlciBmcm9tIHRoaXMgcG9vbCBpcyBhdXRvbWF0aWNhbGx5IHRlcm1pbmF0ZWRcbiAqL1xuV29ya2VyUG9vbC5QT09MX01BWF9JRExFID0gNzAwMDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/utils/worker-pool.ts\n");

/***/ }),

/***/ "./src/version.ts":
/*!************************!*\
  !*** ./src/version.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Version: () => (/* binding */ Version)\n/* harmony export */ });\nclass Version {\n    constructor(version) {\n        this.versionMinor = 0;\n        this.version = version;\n        const vmLength = version.indexOf('.') === -1 ? version.length : version.indexOf('.');\n        this.versionMajor = parseInt(version.substr(0, vmLength), 10);\n        this.versionMinor = parseInt(version.substr(vmLength + 1), 10);\n        if (isNaN(this.versionMinor)) {\n            this.versionMinor = 0;\n        }\n    }\n    newerThan(version) {\n        const v = new Version(version);\n        if (this.versionMajor > v.versionMajor) {\n            return true;\n        }\n        else if (this.versionMajor === v.versionMajor && this.versionMinor > v.versionMinor) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n    equalOrHigher(version) {\n        const v = new Version(version);\n        if (this.versionMajor > v.versionMajor) {\n            return true;\n        }\n        else if (this.versionMajor === v.versionMajor && this.versionMinor >= v.versionMinor) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n    upTo(version) {\n        return !this.newerThan(version);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdmVyc2lvbi50cyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcG90cmVlLy4vc3JjL3ZlcnNpb24udHM/MTAyOSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgVmVyc2lvbiB7XG4gICAgY29uc3RydWN0b3IodmVyc2lvbikge1xuICAgICAgICB0aGlzLnZlcnNpb25NaW5vciA9IDA7XG4gICAgICAgIHRoaXMudmVyc2lvbiA9IHZlcnNpb247XG4gICAgICAgIGNvbnN0IHZtTGVuZ3RoID0gdmVyc2lvbi5pbmRleE9mKCcuJykgPT09IC0xID8gdmVyc2lvbi5sZW5ndGggOiB2ZXJzaW9uLmluZGV4T2YoJy4nKTtcbiAgICAgICAgdGhpcy52ZXJzaW9uTWFqb3IgPSBwYXJzZUludCh2ZXJzaW9uLnN1YnN0cigwLCB2bUxlbmd0aCksIDEwKTtcbiAgICAgICAgdGhpcy52ZXJzaW9uTWlub3IgPSBwYXJzZUludCh2ZXJzaW9uLnN1YnN0cih2bUxlbmd0aCArIDEpLCAxMCk7XG4gICAgICAgIGlmIChpc05hTih0aGlzLnZlcnNpb25NaW5vcikpIHtcbiAgICAgICAgICAgIHRoaXMudmVyc2lvbk1pbm9yID0gMDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBuZXdlclRoYW4odmVyc2lvbikge1xuICAgICAgICBjb25zdCB2ID0gbmV3IFZlcnNpb24odmVyc2lvbik7XG4gICAgICAgIGlmICh0aGlzLnZlcnNpb25NYWpvciA+IHYudmVyc2lvbk1ham9yKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnZlcnNpb25NYWpvciA9PT0gdi52ZXJzaW9uTWFqb3IgJiYgdGhpcy52ZXJzaW9uTWlub3IgPiB2LnZlcnNpb25NaW5vcikge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZXF1YWxPckhpZ2hlcih2ZXJzaW9uKSB7XG4gICAgICAgIGNvbnN0IHYgPSBuZXcgVmVyc2lvbih2ZXJzaW9uKTtcbiAgICAgICAgaWYgKHRoaXMudmVyc2lvbk1ham9yID4gdi52ZXJzaW9uTWFqb3IpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMudmVyc2lvbk1ham9yID09PSB2LnZlcnNpb25NYWpvciAmJiB0aGlzLnZlcnNpb25NaW5vciA+PSB2LnZlcnNpb25NaW5vcikge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdXBUbyh2ZXJzaW9uKSB7XG4gICAgICAgIHJldHVybiAhdGhpcy5uZXdlclRoYW4odmVyc2lvbik7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/version.ts\n");

/***/ }),

/***/ "./src/loading2/decoder.worker.js":
/*!****************************************!*\
  !*** ./src/loading2/decoder.worker.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Worker_fn)\n/* harmony export */ });\n/* harmony import */ var _node_modules_worker_loader_dist_runtime_inline_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !!../../node_modules/worker-loader/dist/runtime/inline.js */ \"./node_modules/worker-loader/dist/runtime/inline.js\");\n/* harmony import */ var _node_modules_worker_loader_dist_runtime_inline_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_worker_loader_dist_runtime_inline_js__WEBPACK_IMPORTED_MODULE_0__);\n\n\n\nfunction Worker_fn() {\n  return _node_modules_worker_loader_dist_runtime_inline_js__WEBPACK_IMPORTED_MODULE_0___default()(\"/*\\n * ATTENTION: An \\\"eval-source-map\\\" devtool has been used.\\n * This devtool is neither made for production nor for readable output files.\\n * It uses \\\"eval()\\\" calls to create a separate source file with attached SourceMaps in the browser devtools.\\n * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)\\n * or disable the default devtool with \\\"devtool: false\\\".\\n * If you are looking for production-ready output files, see mode: \\\"production\\\" (https://webpack.js.org/configuration/mode/).\\n */\\n/******/ (() => { // webpackBootstrap\\n/******/ \\t\\\"use strict\\\";\\n/******/ \\tvar __webpack_modules__ = ({\\n\\n/***/ \\\"./node_modules/babel-loader/lib/index.js!./src/loading2/decoder.worker.js\\\":\\n/*!*********************************************************************************!*\\\\\\n  !*** ./node_modules/babel-loader/lib/index.js!./src/loading2/decoder.worker.js ***!\\n  \\\\*********************************************************************************/\\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\\n\\neval(\\\"__webpack_require__.r(__webpack_exports__);\\\\n/* harmony import */ var _point_attributes_ts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./point-attributes.ts */ \\\\\\\"./src/loading2/point-attributes.ts\\\\\\\");\\\\nfunction _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }\\\\nfunction _nonIterableRest() { throw new TypeError(\\\\\\\"Invalid attempt to destructure non-iterable instance.\\\\\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\\\\\\\"); }\\\\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \\\\\\\"undefined\\\\\\\" != typeof Symbol && r[Symbol.iterator] || r[\\\\\\\"@@iterator\\\\\\\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\\\\nfunction _arrayWithHoles(r) { if (Array.isArray(r)) return r; }\\\\nfunction _createForOfIteratorHelper(r, e) { var t = \\\\\\\"undefined\\\\\\\" != typeof Symbol && r[Symbol.iterator] || r[\\\\\\\"@@iterator\\\\\\\"]; if (!t) { if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && \\\\\\\"number\\\\\\\" == typeof r.length) { t && (r = t); var _n = 0, F = function F() {}; return { s: F, n: function n() { return _n >= r.length ? { done: !0 } : { done: !1, value: r[_n++] }; }, e: function e(r) { throw r; }, f: F }; } throw new TypeError(\\\\\\\"Invalid attempt to iterate non-iterable instance.\\\\\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\\\\\\\"); } var o, a = !0, u = !1; return { s: function s() { t = t.call(r); }, n: function n() { var r = t.next(); return a = r.done, r; }, e: function e(r) { u = !0, o = r; }, f: function f() { try { a || null == t.return || t.return(); } finally { if (u) throw o; } } }; }\\\\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\\\\\\\"string\\\\\\\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \\\\\\\"Object\\\\\\\" === t && r.constructor && (t = r.constructor.name), \\\\\\\"Map\\\\\\\" === t || \\\\\\\"Set\\\\\\\" === t ? Array.from(r) : \\\\\\\"Arguments\\\\\\\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\\\\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\\\\n\\\\nvar typedArrayMapping = {\\\\n  'int8': Int8Array,\\\\n  'int16': Int16Array,\\\\n  'int32': Int32Array,\\\\n  'int64': Float64Array,\\\\n  'uint8': Uint8Array,\\\\n  'uint16': Uint16Array,\\\\n  'uint32': Uint32Array,\\\\n  'uint64': Float64Array,\\\\n  'float': Float32Array,\\\\n  'double': Float64Array\\\\n};\\\\nonmessage = function onmessage(event) {\\\\n  var _event$data = event.data,\\\\n    buffer = _event$data.buffer,\\\\n    pointAttributes = _event$data.pointAttributes,\\\\n    scale = _event$data.scale,\\\\n    name = _event$data.name,\\\\n    min = _event$data.min,\\\\n    max = _event$data.max,\\\\n    size = _event$data.size,\\\\n    offset = _event$data.offset,\\\\n    numPoints = _event$data.numPoints;\\\\n  var view = new DataView(buffer);\\\\n  var attributeBuffers = {};\\\\n  var attributeOffset = 0;\\\\n  var bytesPerPoint = 0;\\\\n  var _iterator = _createForOfIteratorHelper(pointAttributes.attributes),\\\\n    _step;\\\\n  try {\\\\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\\\\n      var pointAttribute = _step.value;\\\\n      bytesPerPoint += pointAttribute.byteSize;\\\\n    }\\\\n  } catch (err) {\\\\n    _iterator.e(err);\\\\n  } finally {\\\\n    _iterator.f();\\\\n  }\\\\n  var gridSize = 32;\\\\n  var grid = new Uint32Array(Math.pow(gridSize, 3));\\\\n  var toIndex = function toIndex(x, y, z) {\\\\n    // min is already subtracted\\\\n    var dx = gridSize * x / size.x;\\\\n    var dy = gridSize * y / size.y;\\\\n    var dz = gridSize * z / size.z;\\\\n    var ix = Math.min(parseInt(dx), gridSize - 1);\\\\n    var iy = Math.min(parseInt(dy), gridSize - 1);\\\\n    var iz = Math.min(parseInt(dz), gridSize - 1);\\\\n    var index = ix + iy * gridSize + iz * gridSize * gridSize;\\\\n    return index;\\\\n  };\\\\n  var numOccupiedCells = 0;\\\\n  var tightBoxMin = [Number.POSITIVE_INFINITY, Number.POSITIVE_INFINITY, Number.POSITIVE_INFINITY];\\\\n  var tightBoxMax = [Number.NEGATIVE_INFINITY, Number.NEGATIVE_INFINITY, Number.NEGATIVE_INFINITY];\\\\n  var _iterator2 = _createForOfIteratorHelper(pointAttributes.attributes),\\\\n    _step2;\\\\n  try {\\\\n    for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\\\\n      var _pointAttribute = _step2.value;\\\\n      if (['POSITION_CARTESIAN', 'position'].includes(_pointAttribute.name)) {\\\\n        var _buff = new ArrayBuffer(numPoints * 4 * 3);\\\\n        var positions = new Float32Array(_buff);\\\\n        for (var _j = 0; _j < numPoints; _j++) {\\\\n          var pointOffset = _j * bytesPerPoint;\\\\n          var x = view.getInt32(pointOffset + attributeOffset + 0, true) * scale[0] + offset[0] - min.x;\\\\n          var y = view.getInt32(pointOffset + attributeOffset + 4, true) * scale[1] + offset[1] - min.y;\\\\n          var z = view.getInt32(pointOffset + attributeOffset + 8, true) * scale[2] + offset[2] - min.z;\\\\n          tightBoxMin[0] = Math.min(tightBoxMin[0], x);\\\\n          tightBoxMin[1] = Math.min(tightBoxMin[1], y);\\\\n          tightBoxMin[2] = Math.min(tightBoxMin[2], z);\\\\n          tightBoxMax[0] = Math.max(tightBoxMax[0], x);\\\\n          tightBoxMax[1] = Math.max(tightBoxMax[1], y);\\\\n          tightBoxMax[2] = Math.max(tightBoxMax[2], z);\\\\n          var index = toIndex(x, y, z);\\\\n          var count = grid[index]++;\\\\n          if (count === 0) {\\\\n            numOccupiedCells++;\\\\n          }\\\\n          positions[3 * _j + 0] = x;\\\\n          positions[3 * _j + 1] = y;\\\\n          positions[3 * _j + 2] = z;\\\\n        }\\\\n        attributeBuffers[_pointAttribute.name] = {\\\\n          buffer: _buff,\\\\n          attribute: _pointAttribute\\\\n        };\\\\n      } else if (['RGBA', 'rgba'].includes(_pointAttribute.name)) {\\\\n        var _buff2 = new ArrayBuffer(numPoints * 4);\\\\n        var colors = new Uint8Array(_buff2);\\\\n        for (var _j2 = 0; _j2 < numPoints; _j2++) {\\\\n          var _pointOffset = _j2 * bytesPerPoint;\\\\n          var r = view.getUint16(_pointOffset + attributeOffset + 0, true);\\\\n          var g = view.getUint16(_pointOffset + attributeOffset + 2, true);\\\\n          var b = view.getUint16(_pointOffset + attributeOffset + 4, true);\\\\n          colors[4 * _j2 + 0] = r > 255 ? r / 256 : r;\\\\n          colors[4 * _j2 + 1] = g > 255 ? g / 256 : g;\\\\n          colors[4 * _j2 + 2] = b > 255 ? b / 256 : b;\\\\n        }\\\\n        attributeBuffers[_pointAttribute.name] = {\\\\n          buffer: _buff2,\\\\n          attribute: _pointAttribute\\\\n        };\\\\n      } else {\\\\n        var _buff3 = new ArrayBuffer(numPoints * 4);\\\\n        var _f = new Float32Array(_buff3);\\\\n        var TypedArray = typedArrayMapping[_pointAttribute.type.name];\\\\n        var preciseBuffer = new TypedArray(numPoints);\\\\n        var _offset2 = 0,\\\\n          _scale2 = 1;\\\\n        var getterMap = {\\\\n          'int8': view.getInt8,\\\\n          'int16': view.getInt16,\\\\n          'int32': view.getInt32,\\\\n          // 'int64':  view.getInt64,\\\\n          'uint8': view.getUint8,\\\\n          'uint16': view.getUint16,\\\\n          'uint32': view.getUint32,\\\\n          // 'uint64': view.getUint64,\\\\n          'float': view.getFloat32,\\\\n          'double': view.getFloat64\\\\n        };\\\\n        var _getter = getterMap[_pointAttribute.type.name].bind(view);\\\\n\\\\n        // compute offset and scale to pack larger types into 32 bit floats\\\\n        if (_pointAttribute.type.size > 4) {\\\\n          var _pointAttribute$range = _slicedToArray(_pointAttribute.range, 2),\\\\n            amin = _pointAttribute$range[0],\\\\n            amax = _pointAttribute$range[1];\\\\n          _offset2 = amin;\\\\n          _scale2 = 1 / (amax - amin);\\\\n        }\\\\n        for (var _j3 = 0; _j3 < numPoints; _j3++) {\\\\n          var _pointOffset2 = _j3 * bytesPerPoint;\\\\n          var _value = _getter(_pointOffset2 + attributeOffset, true);\\\\n          _f[_j3] = (_value - _offset2) * _scale2;\\\\n          preciseBuffer[_j3] = _value;\\\\n        }\\\\n        attributeBuffers[_pointAttribute.name] = {\\\\n          buffer: _buff3,\\\\n          preciseBuffer: preciseBuffer,\\\\n          attribute: _pointAttribute,\\\\n          offset: _offset2,\\\\n          scale: _scale2\\\\n        };\\\\n      }\\\\n      attributeOffset += _pointAttribute.byteSize;\\\\n    }\\\\n  } catch (err) {\\\\n    _iterator2.e(err);\\\\n  } finally {\\\\n    _iterator2.f();\\\\n  }\\\\n  var occupancy = parseInt(numPoints / numOccupiedCells);\\\\n  {\\\\n    // add indices\\\\n    var buff = new ArrayBuffer(numPoints * 4);\\\\n    var indices = new Uint32Array(buff);\\\\n    for (var i = 0; i < numPoints; i++) {\\\\n      indices[i] = i;\\\\n    }\\\\n    attributeBuffers['INDICES'] = {\\\\n      buffer: buff,\\\\n      attribute: _point_attributes_ts__WEBPACK_IMPORTED_MODULE_0__.PointAttribute.INDICES\\\\n    };\\\\n  }\\\\n  {\\\\n    // handle attribute vectors\\\\n    var vectors = pointAttributes.vectors;\\\\n    var _iterator3 = _createForOfIteratorHelper(vectors),\\\\n      _step3;\\\\n    try {\\\\n      for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\\\\n        var vector = _step3.value;\\\\n        var _name = vector.name,\\\\n          attributes = vector.attributes;\\\\n        var numVectorElements = attributes.length;\\\\n        var _buffer = new ArrayBuffer(numVectorElements * numPoints * 4);\\\\n        var f32 = new Float32Array(_buffer);\\\\n        var iElement = 0;\\\\n        var _iterator4 = _createForOfIteratorHelper(attributes),\\\\n          _step4;\\\\n        try {\\\\n          for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\\\\n            var sourceName = _step4.value;\\\\n            var sourceBuffer = attributeBuffers[sourceName];\\\\n            var _offset = sourceBuffer.offset,\\\\n              _scale = sourceBuffer.scale;\\\\n            var _view = new DataView(sourceBuffer.buffer);\\\\n            var getter = _view.getFloat32.bind(_view);\\\\n            for (var j = 0; j < numPoints; j++) {\\\\n              var value = getter(j * 4, true);\\\\n              f32[j * numVectorElements + iElement] = value / _scale + _offset;\\\\n            }\\\\n            iElement++;\\\\n          }\\\\n        } catch (err) {\\\\n          _iterator4.e(err);\\\\n        } finally {\\\\n          _iterator4.f();\\\\n        }\\\\n        var vecAttribute = new _point_attributes_ts__WEBPACK_IMPORTED_MODULE_0__.PointAttribute(_name, _point_attributes_ts__WEBPACK_IMPORTED_MODULE_0__.PointAttributeTypes.DATA_TYPE_FLOAT, 3);\\\\n        attributeBuffers[_name] = {\\\\n          buffer: _buffer,\\\\n          attribute: vecAttribute\\\\n        };\\\\n      }\\\\n    } catch (err) {\\\\n      _iterator3.e(err);\\\\n    } finally {\\\\n      _iterator3.f();\\\\n    }\\\\n  }\\\\n  var message = {\\\\n    buffer: buffer,\\\\n    attributeBuffers: attributeBuffers,\\\\n    density: occupancy,\\\\n    tightBoundingBox: {\\\\n      min: tightBoxMin,\\\\n      max: tightBoxMax\\\\n    }\\\\n  };\\\\n  var transferables = [];\\\\n  for (var property in message.attributeBuffers) {\\\\n    transferables.push(message.attributeBuffers[property].buffer);\\\\n  }\\\\n  transferables.push(buffer);\\\\n  postMessage(message, transferables);\\\\n};//# sourceURL=[module]\\\\n\\\");\\n\\n/***/ }),\\n\\n/***/ \\\"./src/loading2/point-attributes.ts\\\":\\n/*!******************************************!*\\\\\\n  !*** ./src/loading2/point-attributes.ts ***!\\n  \\\\******************************************/\\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\\n\\neval(\\\"__webpack_require__.r(__webpack_exports__);\\\\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\\\\n/* harmony export */   POINT_ATTRIBUTES: () => (/* binding */ POINT_ATTRIBUTES),\\\\n/* harmony export */   PointAttribute: () => (/* binding */ PointAttribute),\\\\n/* harmony export */   PointAttributeTypes: () => (/* binding */ PointAttributeTypes),\\\\n/* harmony export */   PointAttributes: () => (/* binding */ PointAttributes)\\\\n/* harmony export */ });\\\\n/**\\\\n * Some types of possible point attribute data formats\\\\n *\\\\n * @class\\\\n */\\\\nconst PointAttributeTypes = {\\\\n    DATA_TYPE_DOUBLE: { ordinal: 0, name: 'double', size: 8 },\\\\n    DATA_TYPE_FLOAT: { ordinal: 1, name: 'float', size: 4 },\\\\n    DATA_TYPE_INT8: { ordinal: 2, name: 'int8', size: 1 },\\\\n    DATA_TYPE_UINT8: { ordinal: 3, name: 'uint8', size: 1 },\\\\n    DATA_TYPE_INT16: { ordinal: 4, name: 'int16', size: 2 },\\\\n    DATA_TYPE_UINT16: { ordinal: 5, name: 'uint16', size: 2 },\\\\n    DATA_TYPE_INT32: { ordinal: 6, name: 'int32', size: 4 },\\\\n    DATA_TYPE_UINT32: { ordinal: 7, name: 'uint32', size: 4 },\\\\n    DATA_TYPE_INT64: { ordinal: 8, name: 'int64', size: 8 },\\\\n    DATA_TYPE_UINT64: { ordinal: 9, name: 'uint64', size: 8 }\\\\n};\\\\nlet i = 0;\\\\nfor (const obj in PointAttributeTypes) {\\\\n    PointAttributeTypes[i] = PointAttributeTypes[obj];\\\\n    i++;\\\\n}\\\\n\\\\nclass PointAttribute {\\\\n    constructor(name, type, numElements, range = [Infinity, -Infinity], uri = undefined) {\\\\n        this.name = name;\\\\n        this.type = type;\\\\n        this.numElements = numElements;\\\\n        this.range = range;\\\\n        this.uri = uri;\\\\n        this.byteSize = this.numElements * this.type.size;\\\\n        this.description = '';\\\\n    }\\\\n}\\\\n\\\\nconst POINT_ATTRIBUTES = {\\\\n    POSITION_CARTESIAN: new PointAttribute('POSITION_CARTESIAN', PointAttributeTypes.DATA_TYPE_FLOAT, 3),\\\\n    RGBA_PACKED: new PointAttribute('COLOR_PACKED', PointAttributeTypes.DATA_TYPE_INT8, 4),\\\\n    COLOR_PACKED: new PointAttribute('COLOR_PACKED', PointAttributeTypes.DATA_TYPE_INT8, 4),\\\\n    RGB_PACKED: new PointAttribute('COLOR_PACKED', PointAttributeTypes.DATA_TYPE_INT8, 3),\\\\n    NORMAL_FLOATS: new PointAttribute('NORMAL_FLOATS', PointAttributeTypes.DATA_TYPE_FLOAT, 3),\\\\n    INTENSITY: new PointAttribute('INTENSITY', PointAttributeTypes.DATA_TYPE_UINT16, 1),\\\\n    CLASSIFICATION: new PointAttribute('CLASSIFICATION', PointAttributeTypes.DATA_TYPE_UINT8, 1),\\\\n    NORMAL_SPHEREMAPPED: new PointAttribute('NORMAL_SPHEREMAPPED', PointAttributeTypes.DATA_TYPE_UINT8, 2),\\\\n    NORMAL_OCT16: new PointAttribute('NORMAL_OCT16', PointAttributeTypes.DATA_TYPE_UINT8, 2),\\\\n    NORMAL: new PointAttribute('NORMAL', PointAttributeTypes.DATA_TYPE_FLOAT, 3),\\\\n    RETURN_NUMBER: new PointAttribute('RETURN_NUMBER', PointAttributeTypes.DATA_TYPE_UINT8, 1),\\\\n    NUMBER_OF_RETURNS: new PointAttribute('NUMBER_OF_RETURNS', PointAttributeTypes.DATA_TYPE_UINT8, 1),\\\\n    SOURCE_ID: new PointAttribute('SOURCE_ID', PointAttributeTypes.DATA_TYPE_UINT16, 1),\\\\n    INDICES: new PointAttribute('INDICES', PointAttributeTypes.DATA_TYPE_UINT32, 1),\\\\n    SPACING: new PointAttribute('SPACING', PointAttributeTypes.DATA_TYPE_FLOAT, 1),\\\\n    GPS_TIME: new PointAttribute('GPS_TIME', PointAttributeTypes.DATA_TYPE_DOUBLE, 1)\\\\n};\\\\nclass PointAttributes {\\\\n    constructor(pointAttributes, attributes = [], byteSize = 0, size = 0, vectors = []) {\\\\n        this.attributes = attributes;\\\\n        this.byteSize = byteSize;\\\\n        this.size = size;\\\\n        this.vectors = vectors;\\\\n        if (pointAttributes != null) {\\\\n            for (let i = 0; i < pointAttributes.length; i++) {\\\\n                const pointAttributeName = pointAttributes[i];\\\\n                const pointAttribute = POINT_ATTRIBUTES[pointAttributeName];\\\\n                this.attributes.push(pointAttribute);\\\\n                this.byteSize += pointAttribute.byteSize;\\\\n                this.size++;\\\\n            }\\\\n        }\\\\n    }\\\\n    add(pointAttribute) {\\\\n        this.attributes.push(pointAttribute);\\\\n        this.byteSize += pointAttribute.byteSize;\\\\n        this.size++;\\\\n    }\\\\n    addVector(vector) {\\\\n        this.vectors.push(vector);\\\\n    }\\\\n    hasNormals() {\\\\n        for (const name in this.attributes) {\\\\n            const pointAttribute = this.attributes[name];\\\\n            if (pointAttribute === POINT_ATTRIBUTES.NORMAL_SPHEREMAPPED ||\\\\n                pointAttribute === POINT_ATTRIBUTES.NORMAL_FLOATS ||\\\\n                pointAttribute === POINT_ATTRIBUTES.NORMAL ||\\\\n                pointAttribute === POINT_ATTRIBUTES.NORMAL_OCT16) {\\\\n                return true;\\\\n            }\\\\n        }\\\\n        return false;\\\\n    }\\\\n    getAttribute(attributeName) {\\\\n        return this.attributes.find(attr => attr.name === attributeName);\\\\n    }\\\\n}\\\\n//# sourceURL=[module]\\\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbG9hZGluZzIvcG9pbnQtYXR0cmlidXRlcy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcG90cmVlLy4vc3JjL2xvYWRpbmcyL3BvaW50LWF0dHJpYnV0ZXMudHM/ZGNlMCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFNvbWUgdHlwZXMgb2YgcG9zc2libGUgcG9pbnQgYXR0cmlidXRlIGRhdGEgZm9ybWF0c1xuICpcbiAqIEBjbGFzc1xuICovXG5jb25zdCBQb2ludEF0dHJpYnV0ZVR5cGVzID0ge1xuICAgIERBVEFfVFlQRV9ET1VCTEU6IHsgb3JkaW5hbDogMCwgbmFtZTogJ2RvdWJsZScsIHNpemU6IDggfSxcbiAgICBEQVRBX1RZUEVfRkxPQVQ6IHsgb3JkaW5hbDogMSwgbmFtZTogJ2Zsb2F0Jywgc2l6ZTogNCB9LFxuICAgIERBVEFfVFlQRV9JTlQ4OiB7IG9yZGluYWw6IDIsIG5hbWU6ICdpbnQ4Jywgc2l6ZTogMSB9LFxuICAgIERBVEFfVFlQRV9VSU5UODogeyBvcmRpbmFsOiAzLCBuYW1lOiAndWludDgnLCBzaXplOiAxIH0sXG4gICAgREFUQV9UWVBFX0lOVDE2OiB7IG9yZGluYWw6IDQsIG5hbWU6ICdpbnQxNicsIHNpemU6IDIgfSxcbiAgICBEQVRBX1RZUEVfVUlOVDE2OiB7IG9yZGluYWw6IDUsIG5hbWU6ICd1aW50MTYnLCBzaXplOiAyIH0sXG4gICAgREFUQV9UWVBFX0lOVDMyOiB7IG9yZGluYWw6IDYsIG5hbWU6ICdpbnQzMicsIHNpemU6IDQgfSxcbiAgICBEQVRBX1RZUEVfVUlOVDMyOiB7IG9yZGluYWw6IDcsIG5hbWU6ICd1aW50MzInLCBzaXplOiA0IH0sXG4gICAgREFUQV9UWVBFX0lOVDY0OiB7IG9yZGluYWw6IDgsIG5hbWU6ICdpbnQ2NCcsIHNpemU6IDggfSxcbiAgICBEQVRBX1RZUEVfVUlOVDY0OiB7IG9yZGluYWw6IDksIG5hbWU6ICd1aW50NjQnLCBzaXplOiA4IH1cbn07XG5sZXQgaSA9IDA7XG5mb3IgKGNvbnN0IG9iaiBpbiBQb2ludEF0dHJpYnV0ZVR5cGVzKSB7XG4gICAgUG9pbnRBdHRyaWJ1dGVUeXBlc1tpXSA9IFBvaW50QXR0cmlidXRlVHlwZXNbb2JqXTtcbiAgICBpKys7XG59XG5leHBvcnQgeyBQb2ludEF0dHJpYnV0ZVR5cGVzIH07XG5jbGFzcyBQb2ludEF0dHJpYnV0ZSB7XG4gICAgY29uc3RydWN0b3IobmFtZSwgdHlwZSwgbnVtRWxlbWVudHMsIHJhbmdlID0gW0luZmluaXR5LCAtSW5maW5pdHldLCB1cmkgPSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICAgICAgdGhpcy5udW1FbGVtZW50cyA9IG51bUVsZW1lbnRzO1xuICAgICAgICB0aGlzLnJhbmdlID0gcmFuZ2U7XG4gICAgICAgIHRoaXMudXJpID0gdXJpO1xuICAgICAgICB0aGlzLmJ5dGVTaXplID0gdGhpcy5udW1FbGVtZW50cyAqIHRoaXMudHlwZS5zaXplO1xuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gJyc7XG4gICAgfVxufVxuZXhwb3J0IHsgUG9pbnRBdHRyaWJ1dGUgfTtcbmV4cG9ydCBjb25zdCBQT0lOVF9BVFRSSUJVVEVTID0ge1xuICAgIFBPU0lUSU9OX0NBUlRFU0lBTjogbmV3IFBvaW50QXR0cmlidXRlKCdQT1NJVElPTl9DQVJURVNJQU4nLCBQb2ludEF0dHJpYnV0ZVR5cGVzLkRBVEFfVFlQRV9GTE9BVCwgMyksXG4gICAgUkdCQV9QQUNLRUQ6IG5ldyBQb2ludEF0dHJpYnV0ZSgnQ09MT1JfUEFDS0VEJywgUG9pbnRBdHRyaWJ1dGVUeXBlcy5EQVRBX1RZUEVfSU5UOCwgNCksXG4gICAgQ09MT1JfUEFDS0VEOiBuZXcgUG9pbnRBdHRyaWJ1dGUoJ0NPTE9SX1BBQ0tFRCcsIFBvaW50QXR0cmlidXRlVHlwZXMuREFUQV9UWVBFX0lOVDgsIDQpLFxuICAgIFJHQl9QQUNLRUQ6IG5ldyBQb2ludEF0dHJpYnV0ZSgnQ09MT1JfUEFDS0VEJywgUG9pbnRBdHRyaWJ1dGVUeXBlcy5EQVRBX1RZUEVfSU5UOCwgMyksXG4gICAgTk9STUFMX0ZMT0FUUzogbmV3IFBvaW50QXR0cmlidXRlKCdOT1JNQUxfRkxPQVRTJywgUG9pbnRBdHRyaWJ1dGVUeXBlcy5EQVRBX1RZUEVfRkxPQVQsIDMpLFxuICAgIElOVEVOU0lUWTogbmV3IFBvaW50QXR0cmlidXRlKCdJTlRFTlNJVFknLCBQb2ludEF0dHJpYnV0ZVR5cGVzLkRBVEFfVFlQRV9VSU5UMTYsIDEpLFxuICAgIENMQVNTSUZJQ0FUSU9OOiBuZXcgUG9pbnRBdHRyaWJ1dGUoJ0NMQVNTSUZJQ0FUSU9OJywgUG9pbnRBdHRyaWJ1dGVUeXBlcy5EQVRBX1RZUEVfVUlOVDgsIDEpLFxuICAgIE5PUk1BTF9TUEhFUkVNQVBQRUQ6IG5ldyBQb2ludEF0dHJpYnV0ZSgnTk9STUFMX1NQSEVSRU1BUFBFRCcsIFBvaW50QXR0cmlidXRlVHlwZXMuREFUQV9UWVBFX1VJTlQ4LCAyKSxcbiAgICBOT1JNQUxfT0NUMTY6IG5ldyBQb2ludEF0dHJpYnV0ZSgnTk9STUFMX09DVDE2JywgUG9pbnRBdHRyaWJ1dGVUeXBlcy5EQVRBX1RZUEVfVUlOVDgsIDIpLFxuICAgIE5PUk1BTDogbmV3IFBvaW50QXR0cmlidXRlKCdOT1JNQUwnLCBQb2ludEF0dHJpYnV0ZVR5cGVzLkRBVEFfVFlQRV9GTE9BVCwgMyksXG4gICAgUkVUVVJOX05VTUJFUjogbmV3IFBvaW50QXR0cmlidXRlKCdSRVRVUk5fTlVNQkVSJywgUG9pbnRBdHRyaWJ1dGVUeXBlcy5EQVRBX1RZUEVfVUlOVDgsIDEpLFxuICAgIE5VTUJFUl9PRl9SRVRVUk5TOiBuZXcgUG9pbnRBdHRyaWJ1dGUoJ05VTUJFUl9PRl9SRVRVUk5TJywgUG9pbnRBdHRyaWJ1dGVUeXBlcy5EQVRBX1RZUEVfVUlOVDgsIDEpLFxuICAgIFNPVVJDRV9JRDogbmV3IFBvaW50QXR0cmlidXRlKCdTT1VSQ0VfSUQnLCBQb2ludEF0dHJpYnV0ZVR5cGVzLkRBVEFfVFlQRV9VSU5UMTYsIDEpLFxuICAgIElORElDRVM6IG5ldyBQb2ludEF0dHJpYnV0ZSgnSU5ESUNFUycsIFBvaW50QXR0cmlidXRlVHlwZXMuREFUQV9UWVBFX1VJTlQzMiwgMSksXG4gICAgU1BBQ0lORzogbmV3IFBvaW50QXR0cmlidXRlKCdTUEFDSU5HJywgUG9pbnRBdHRyaWJ1dGVUeXBlcy5EQVRBX1RZUEVfRkxPQVQsIDEpLFxuICAgIEdQU19USU1FOiBuZXcgUG9pbnRBdHRyaWJ1dGUoJ0dQU19USU1FJywgUG9pbnRBdHRyaWJ1dGVUeXBlcy5EQVRBX1RZUEVfRE9VQkxFLCAxKVxufTtcbmV4cG9ydCBjbGFzcyBQb2ludEF0dHJpYnV0ZXMge1xuICAgIGNvbnN0cnVjdG9yKHBvaW50QXR0cmlidXRlcywgYXR0cmlidXRlcyA9IFtdLCBieXRlU2l6ZSA9IDAsIHNpemUgPSAwLCB2ZWN0b3JzID0gW10pIHtcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVzID0gYXR0cmlidXRlcztcbiAgICAgICAgdGhpcy5ieXRlU2l6ZSA9IGJ5dGVTaXplO1xuICAgICAgICB0aGlzLnNpemUgPSBzaXplO1xuICAgICAgICB0aGlzLnZlY3RvcnMgPSB2ZWN0b3JzO1xuICAgICAgICBpZiAocG9pbnRBdHRyaWJ1dGVzICE9IG51bGwpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRBdHRyaWJ1dGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcG9pbnRBdHRyaWJ1dGVOYW1lID0gcG9pbnRBdHRyaWJ1dGVzW2ldO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBvaW50QXR0cmlidXRlID0gUE9JTlRfQVRUUklCVVRFU1twb2ludEF0dHJpYnV0ZU5hbWVdO1xuICAgICAgICAgICAgICAgIHRoaXMuYXR0cmlidXRlcy5wdXNoKHBvaW50QXR0cmlidXRlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmJ5dGVTaXplICs9IHBvaW50QXR0cmlidXRlLmJ5dGVTaXplO1xuICAgICAgICAgICAgICAgIHRoaXMuc2l6ZSsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGFkZChwb2ludEF0dHJpYnV0ZSkge1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZXMucHVzaChwb2ludEF0dHJpYnV0ZSk7XG4gICAgICAgIHRoaXMuYnl0ZVNpemUgKz0gcG9pbnRBdHRyaWJ1dGUuYnl0ZVNpemU7XG4gICAgICAgIHRoaXMuc2l6ZSsrO1xuICAgIH1cbiAgICBhZGRWZWN0b3IodmVjdG9yKSB7XG4gICAgICAgIHRoaXMudmVjdG9ycy5wdXNoKHZlY3Rvcik7XG4gICAgfVxuICAgIGhhc05vcm1hbHMoKSB7XG4gICAgICAgIGZvciAoY29uc3QgbmFtZSBpbiB0aGlzLmF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHBvaW50QXR0cmlidXRlID0gdGhpcy5hdHRyaWJ1dGVzW25hbWVdO1xuICAgICAgICAgICAgaWYgKHBvaW50QXR0cmlidXRlID09PSBQT0lOVF9BVFRSSUJVVEVTLk5PUk1BTF9TUEhFUkVNQVBQRUQgfHxcbiAgICAgICAgICAgICAgICBwb2ludEF0dHJpYnV0ZSA9PT0gUE9JTlRfQVRUUklCVVRFUy5OT1JNQUxfRkxPQVRTIHx8XG4gICAgICAgICAgICAgICAgcG9pbnRBdHRyaWJ1dGUgPT09IFBPSU5UX0FUVFJJQlVURVMuTk9STUFMIHx8XG4gICAgICAgICAgICAgICAgcG9pbnRBdHRyaWJ1dGUgPT09IFBPSU5UX0FUVFJJQlVURVMuTk9STUFMX09DVDE2KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBnZXRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5hdHRyaWJ1dGVzLmZpbmQoYXR0ciA9PiBhdHRyLm5hbWUgPT09IGF0dHJpYnV0ZU5hbWUpO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\\\\n//# sourceURL=webpack-internal:///./src/loading2/point-attributes.ts\\\\n\\\");\\n\\n/***/ })\\n\\n/******/ \\t});\\n/************************************************************************/\\n/******/ \\t// The module cache\\n/******/ \\tvar __webpack_module_cache__ = {};\\n/******/ \\t\\n/******/ \\t// The require function\\n/******/ \\tfunction __webpack_require__(moduleId) {\\n/******/ \\t\\t// Check if module is in cache\\n/******/ \\t\\tvar cachedModule = __webpack_module_cache__[moduleId];\\n/******/ \\t\\tif (cachedModule !== undefined) {\\n/******/ \\t\\t\\treturn cachedModule.exports;\\n/******/ \\t\\t}\\n/******/ \\t\\t// Create a new module (and put it into the cache)\\n/******/ \\t\\tvar module = __webpack_module_cache__[moduleId] = {\\n/******/ \\t\\t\\t// no module.id needed\\n/******/ \\t\\t\\t// no module.loaded needed\\n/******/ \\t\\t\\texports: {}\\n/******/ \\t\\t};\\n/******/ \\t\\n/******/ \\t\\t// Execute the module function\\n/******/ \\t\\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\\n/******/ \\t\\n/******/ \\t\\t// Return the exports of the module\\n/******/ \\t\\treturn module.exports;\\n/******/ \\t}\\n/******/ \\t\\n/************************************************************************/\\n/******/ \\t/* webpack/runtime/define property getters */\\n/******/ \\t(() => {\\n/******/ \\t\\t// define getter functions for harmony exports\\n/******/ \\t\\t__webpack_require__.d = (exports, definition) => {\\n/******/ \\t\\t\\tfor(var key in definition) {\\n/******/ \\t\\t\\t\\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\\n/******/ \\t\\t\\t\\t\\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\\n/******/ \\t\\t\\t\\t}\\n/******/ \\t\\t\\t}\\n/******/ \\t\\t};\\n/******/ \\t})();\\n/******/ \\t\\n/******/ \\t/* webpack/runtime/hasOwnProperty shorthand */\\n/******/ \\t(() => {\\n/******/ \\t\\t__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))\\n/******/ \\t})();\\n/******/ \\t\\n/******/ \\t/* webpack/runtime/make namespace object */\\n/******/ \\t(() => {\\n/******/ \\t\\t// define __esModule on exports\\n/******/ \\t\\t__webpack_require__.r = (exports) => {\\n/******/ \\t\\t\\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\\n/******/ \\t\\t\\t\\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\\n/******/ \\t\\t\\t}\\n/******/ \\t\\t\\tObject.defineProperty(exports, '__esModule', { value: true });\\n/******/ \\t\\t};\\n/******/ \\t})();\\n/******/ \\t\\n/************************************************************************/\\n/******/ \\t\\n/******/ \\t// startup\\n/******/ \\t// Load entry module and return exports\\n/******/ \\t// This entry module can't be inlined because the eval-source-map devtool is used.\\n/******/ \\tvar __webpack_exports__ = __webpack_require__(\\\"./node_modules/babel-loader/lib/index.js!./src/loading2/decoder.worker.js\\\");\\n/******/ \\t\\n/******/ })()\\n;\", \"Worker\", undefined, undefined);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbG9hZGluZzIvZGVjb2Rlci53b3JrZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcG90cmVlLy4vc3JjL2xvYWRpbmcyL2RlY29kZXIud29ya2VyLmpzP2RiNzgiXSwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgd29ya2VyIGZyb20gXCIhIS4uLy4uL25vZGVfbW9kdWxlcy93b3JrZXItbG9hZGVyL2Rpc3QvcnVudGltZS9pbmxpbmUuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gV29ya2VyX2ZuKCkge1xuICByZXR1cm4gd29ya2VyKFwiLypcXG4gKiBBVFRFTlRJT046IEFuIFxcXCJldmFsLXNvdXJjZS1tYXBcXFwiIGRldnRvb2wgaGFzIGJlZW4gdXNlZC5cXG4gKiBUaGlzIGRldnRvb2wgaXMgbmVpdGhlciBtYWRlIGZvciBwcm9kdWN0aW9uIG5vciBmb3IgcmVhZGFibGUgb3V0cHV0IGZpbGVzLlxcbiAqIEl0IHVzZXMgXFxcImV2YWwoKVxcXCIgY2FsbHMgdG8gY3JlYXRlIGEgc2VwYXJhdGUgc291cmNlIGZpbGUgd2l0aCBhdHRhY2hlZCBTb3VyY2VNYXBzIGluIHRoZSBicm93c2VyIGRldnRvb2xzLlxcbiAqIElmIHlvdSBhcmUgdHJ5aW5nIHRvIHJlYWQgdGhlIG91dHB1dCBmaWxlLCBzZWxlY3QgYSBkaWZmZXJlbnQgZGV2dG9vbCAoaHR0cHM6Ly93ZWJwYWNrLmpzLm9yZy9jb25maWd1cmF0aW9uL2RldnRvb2wvKVxcbiAqIG9yIGRpc2FibGUgdGhlIGRlZmF1bHQgZGV2dG9vbCB3aXRoIFxcXCJkZXZ0b29sOiBmYWxzZVxcXCIuXFxuICogSWYgeW91IGFyZSBsb29raW5nIGZvciBwcm9kdWN0aW9uLXJlYWR5IG91dHB1dCBmaWxlcywgc2VlIG1vZGU6IFxcXCJwcm9kdWN0aW9uXFxcIiAoaHR0cHM6Ly93ZWJwYWNrLmpzLm9yZy9jb25maWd1cmF0aW9uL21vZGUvKS5cXG4gKi9cXG4vKioqKioqLyAoKCkgPT4geyAvLyB3ZWJwYWNrQm9vdHN0cmFwXFxuLyoqKioqKi8gXFx0XFxcInVzZSBzdHJpY3RcXFwiO1xcbi8qKioqKiovIFxcdHZhciBfX3dlYnBhY2tfbW9kdWxlc19fID0gKHtcXG5cXG4vKioqLyBcXFwiLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYi9pbmRleC5qcyEuL3NyYy9sb2FkaW5nMi9kZWNvZGVyLndvcmtlci5qc1xcXCI6XFxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIvaW5kZXguanMhLi9zcmMvbG9hZGluZzIvZGVjb2Rlci53b3JrZXIuanMgKioqIVxcbiAgXFxcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cXG4vKioqLyAoKF9fdW51c2VkX3dlYnBhY2tfbW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSA9PiB7XFxuXFxuZXZhbChcXFwiX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xcXFxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9wb2ludF9hdHRyaWJ1dGVzX3RzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3BvaW50LWF0dHJpYnV0ZXMudHMgKi8gXFxcXFxcXCIuL3NyYy9sb2FkaW5nMi9wb2ludC1hdHRyaWJ1dGVzLnRzXFxcXFxcXCIpO1xcXFxuZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkociwgZSkgeyByZXR1cm4gX2FycmF5V2l0aEhvbGVzKHIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChyLCBlKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkociwgZSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOyB9XFxcXG5mdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFxcXFxcXFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXFxcXFxcXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXFxcXFxcXCIpOyB9XFxcXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQociwgbCkgeyB2YXIgdCA9IG51bGwgPT0gciA/IG51bGwgOiBcXFxcXFxcInVuZGVmaW5lZFxcXFxcXFwiICE9IHR5cGVvZiBTeW1ib2wgJiYgcltTeW1ib2wuaXRlcmF0b3JdIHx8IHJbXFxcXFxcXCJAQGl0ZXJhdG9yXFxcXFxcXCJdOyBpZiAobnVsbCAhPSB0KSB7IHZhciBlLCBuLCBpLCB1LCBhID0gW10sIGYgPSAhMCwgbyA9ICExOyB0cnkgeyBpZiAoaSA9ICh0ID0gdC5jYWxsKHIpKS5uZXh0LCAwID09PSBsKSB7IGlmIChPYmplY3QodCkgIT09IHQpIHJldHVybjsgZiA9ICExOyB9IGVsc2UgZm9yICg7ICEoZiA9IChlID0gaS5jYWxsKHQpKS5kb25lKSAmJiAoYS5wdXNoKGUudmFsdWUpLCBhLmxlbmd0aCAhPT0gbCk7IGYgPSAhMCk7IH0gY2F0Y2ggKHIpIHsgbyA9ICEwLCBuID0gcjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFmICYmIG51bGwgIT0gdC5yZXR1cm4gJiYgKHUgPSB0LnJldHVybigpLCBPYmplY3QodSkgIT09IHUpKSByZXR1cm47IH0gZmluYWxseSB7IGlmIChvKSB0aHJvdyBuOyB9IH0gcmV0dXJuIGE7IH0gfVxcXFxuZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKHIpIHsgaWYgKEFycmF5LmlzQXJyYXkocikpIHJldHVybiByOyB9XFxcXG5mdW5jdGlvbiBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihyLCBlKSB7IHZhciB0ID0gXFxcXFxcXCJ1bmRlZmluZWRcXFxcXFxcIiAhPSB0eXBlb2YgU3ltYm9sICYmIHJbU3ltYm9sLml0ZXJhdG9yXSB8fCByW1xcXFxcXFwiQEBpdGVyYXRvclxcXFxcXFwiXTsgaWYgKCF0KSB7IGlmIChBcnJheS5pc0FycmF5KHIpIHx8ICh0ID0gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KHIpKSB8fCBlICYmIHIgJiYgXFxcXFxcXCJudW1iZXJcXFxcXFxcIiA9PSB0eXBlb2Ygci5sZW5ndGgpIHsgdCAmJiAociA9IHQpOyB2YXIgX24gPSAwLCBGID0gZnVuY3Rpb24gRigpIHt9OyByZXR1cm4geyBzOiBGLCBuOiBmdW5jdGlvbiBuKCkgeyByZXR1cm4gX24gPj0gci5sZW5ndGggPyB7IGRvbmU6ICEwIH0gOiB7IGRvbmU6ICExLCB2YWx1ZTogcltfbisrXSB9OyB9LCBlOiBmdW5jdGlvbiBlKHIpIHsgdGhyb3cgcjsgfSwgZjogRiB9OyB9IHRocm93IG5ldyBUeXBlRXJyb3IoXFxcXFxcXCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxcXFxcXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlxcXFxcXFwiKTsgfSB2YXIgbywgYSA9ICEwLCB1ID0gITE7IHJldHVybiB7IHM6IGZ1bmN0aW9uIHMoKSB7IHQgPSB0LmNhbGwocik7IH0sIG46IGZ1bmN0aW9uIG4oKSB7IHZhciByID0gdC5uZXh0KCk7IHJldHVybiBhID0gci5kb25lLCByOyB9LCBlOiBmdW5jdGlvbiBlKHIpIHsgdSA9ICEwLCBvID0gcjsgfSwgZjogZnVuY3Rpb24gZigpIHsgdHJ5IHsgYSB8fCBudWxsID09IHQucmV0dXJuIHx8IHQucmV0dXJuKCk7IH0gZmluYWxseSB7IGlmICh1KSB0aHJvdyBvOyB9IH0gfTsgfVxcXFxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KHIsIGEpIHsgaWYgKHIpIHsgaWYgKFxcXFxcXFwic3RyaW5nXFxcXFxcXCIgPT0gdHlwZW9mIHIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShyLCBhKTsgdmFyIHQgPSB7fS50b1N0cmluZy5jYWxsKHIpLnNsaWNlKDgsIC0xKTsgcmV0dXJuIFxcXFxcXFwiT2JqZWN0XFxcXFxcXCIgPT09IHQgJiYgci5jb25zdHJ1Y3RvciAmJiAodCA9IHIuY29uc3RydWN0b3IubmFtZSksIFxcXFxcXFwiTWFwXFxcXFxcXCIgPT09IHQgfHwgXFxcXFxcXCJTZXRcXFxcXFxcIiA9PT0gdCA/IEFycmF5LmZyb20ocikgOiBcXFxcXFxcIkFyZ3VtZW50c1xcXFxcXFwiID09PSB0IHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KHQpID8gX2FycmF5TGlrZVRvQXJyYXkociwgYSkgOiB2b2lkIDA7IH0gfVxcXFxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkociwgYSkgeyAobnVsbCA9PSBhIHx8IGEgPiByLmxlbmd0aCkgJiYgKGEgPSByLmxlbmd0aCk7IGZvciAodmFyIGUgPSAwLCBuID0gQXJyYXkoYSk7IGUgPCBhOyBlKyspIG5bZV0gPSByW2VdOyByZXR1cm4gbjsgfVxcXFxuXFxcXG52YXIgdHlwZWRBcnJheU1hcHBpbmcgPSB7XFxcXG4gICdpbnQ4JzogSW50OEFycmF5LFxcXFxuICAnaW50MTYnOiBJbnQxNkFycmF5LFxcXFxuICAnaW50MzInOiBJbnQzMkFycmF5LFxcXFxuICAnaW50NjQnOiBGbG9hdDY0QXJyYXksXFxcXG4gICd1aW50OCc6IFVpbnQ4QXJyYXksXFxcXG4gICd1aW50MTYnOiBVaW50MTZBcnJheSxcXFxcbiAgJ3VpbnQzMic6IFVpbnQzMkFycmF5LFxcXFxuICAndWludDY0JzogRmxvYXQ2NEFycmF5LFxcXFxuICAnZmxvYXQnOiBGbG9hdDMyQXJyYXksXFxcXG4gICdkb3VibGUnOiBGbG9hdDY0QXJyYXlcXFxcbn07XFxcXG5vbm1lc3NhZ2UgPSBmdW5jdGlvbiBvbm1lc3NhZ2UoZXZlbnQpIHtcXFxcbiAgdmFyIF9ldmVudCRkYXRhID0gZXZlbnQuZGF0YSxcXFxcbiAgICBidWZmZXIgPSBfZXZlbnQkZGF0YS5idWZmZXIsXFxcXG4gICAgcG9pbnRBdHRyaWJ1dGVzID0gX2V2ZW50JGRhdGEucG9pbnRBdHRyaWJ1dGVzLFxcXFxuICAgIHNjYWxlID0gX2V2ZW50JGRhdGEuc2NhbGUsXFxcXG4gICAgbmFtZSA9IF9ldmVudCRkYXRhLm5hbWUsXFxcXG4gICAgbWluID0gX2V2ZW50JGRhdGEubWluLFxcXFxuICAgIG1heCA9IF9ldmVudCRkYXRhLm1heCxcXFxcbiAgICBzaXplID0gX2V2ZW50JGRhdGEuc2l6ZSxcXFxcbiAgICBvZmZzZXQgPSBfZXZlbnQkZGF0YS5vZmZzZXQsXFxcXG4gICAgbnVtUG9pbnRzID0gX2V2ZW50JGRhdGEubnVtUG9pbnRzO1xcXFxuICB2YXIgdmlldyA9IG5ldyBEYXRhVmlldyhidWZmZXIpO1xcXFxuICB2YXIgYXR0cmlidXRlQnVmZmVycyA9IHt9O1xcXFxuICB2YXIgYXR0cmlidXRlT2Zmc2V0ID0gMDtcXFxcbiAgdmFyIGJ5dGVzUGVyUG9pbnQgPSAwO1xcXFxuICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIocG9pbnRBdHRyaWJ1dGVzLmF0dHJpYnV0ZXMpLFxcXFxuICAgIF9zdGVwO1xcXFxuICB0cnkge1xcXFxuICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7XFxcXG4gICAgICB2YXIgcG9pbnRBdHRyaWJ1dGUgPSBfc3RlcC52YWx1ZTtcXFxcbiAgICAgIGJ5dGVzUGVyUG9pbnQgKz0gcG9pbnRBdHRyaWJ1dGUuYnl0ZVNpemU7XFxcXG4gICAgfVxcXFxuICB9IGNhdGNoIChlcnIpIHtcXFxcbiAgICBfaXRlcmF0b3IuZShlcnIpO1xcXFxuICB9IGZpbmFsbHkge1xcXFxuICAgIF9pdGVyYXRvci5mKCk7XFxcXG4gIH1cXFxcbiAgdmFyIGdyaWRTaXplID0gMzI7XFxcXG4gIHZhciBncmlkID0gbmV3IFVpbnQzMkFycmF5KE1hdGgucG93KGdyaWRTaXplLCAzKSk7XFxcXG4gIHZhciB0b0luZGV4ID0gZnVuY3Rpb24gdG9JbmRleCh4LCB5LCB6KSB7XFxcXG4gICAgLy8gbWluIGlzIGFscmVhZHkgc3VidHJhY3RlZFxcXFxuICAgIHZhciBkeCA9IGdyaWRTaXplICogeCAvIHNpemUueDtcXFxcbiAgICB2YXIgZHkgPSBncmlkU2l6ZSAqIHkgLyBzaXplLnk7XFxcXG4gICAgdmFyIGR6ID0gZ3JpZFNpemUgKiB6IC8gc2l6ZS56O1xcXFxuICAgIHZhciBpeCA9IE1hdGgubWluKHBhcnNlSW50KGR4KSwgZ3JpZFNpemUgLSAxKTtcXFxcbiAgICB2YXIgaXkgPSBNYXRoLm1pbihwYXJzZUludChkeSksIGdyaWRTaXplIC0gMSk7XFxcXG4gICAgdmFyIGl6ID0gTWF0aC5taW4ocGFyc2VJbnQoZHopLCBncmlkU2l6ZSAtIDEpO1xcXFxuICAgIHZhciBpbmRleCA9IGl4ICsgaXkgKiBncmlkU2l6ZSArIGl6ICogZ3JpZFNpemUgKiBncmlkU2l6ZTtcXFxcbiAgICByZXR1cm4gaW5kZXg7XFxcXG4gIH07XFxcXG4gIHZhciBudW1PY2N1cGllZENlbGxzID0gMDtcXFxcbiAgdmFyIHRpZ2h0Qm94TWluID0gW051bWJlci5QT1NJVElWRV9JTkZJTklUWSwgTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLCBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFldO1xcXFxuICB2YXIgdGlnaHRCb3hNYXggPSBbTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZLCBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksIE51bWJlci5ORUdBVElWRV9JTkZJTklUWV07XFxcXG4gIHZhciBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIocG9pbnRBdHRyaWJ1dGVzLmF0dHJpYnV0ZXMpLFxcXFxuICAgIF9zdGVwMjtcXFxcbiAgdHJ5IHtcXFxcbiAgICBmb3IgKF9pdGVyYXRvcjIucygpOyAhKF9zdGVwMiA9IF9pdGVyYXRvcjIubigpKS5kb25lOykge1xcXFxuICAgICAgdmFyIF9wb2ludEF0dHJpYnV0ZSA9IF9zdGVwMi52YWx1ZTtcXFxcbiAgICAgIGlmIChbJ1BPU0lUSU9OX0NBUlRFU0lBTicsICdwb3NpdGlvbiddLmluY2x1ZGVzKF9wb2ludEF0dHJpYnV0ZS5uYW1lKSkge1xcXFxuICAgICAgICB2YXIgX2J1ZmYgPSBuZXcgQXJyYXlCdWZmZXIobnVtUG9pbnRzICogNCAqIDMpO1xcXFxuICAgICAgICB2YXIgcG9zaXRpb25zID0gbmV3IEZsb2F0MzJBcnJheShfYnVmZik7XFxcXG4gICAgICAgIGZvciAodmFyIF9qID0gMDsgX2ogPCBudW1Qb2ludHM7IF9qKyspIHtcXFxcbiAgICAgICAgICB2YXIgcG9pbnRPZmZzZXQgPSBfaiAqIGJ5dGVzUGVyUG9pbnQ7XFxcXG4gICAgICAgICAgdmFyIHggPSB2aWV3LmdldEludDMyKHBvaW50T2Zmc2V0ICsgYXR0cmlidXRlT2Zmc2V0ICsgMCwgdHJ1ZSkgKiBzY2FsZVswXSArIG9mZnNldFswXSAtIG1pbi54O1xcXFxuICAgICAgICAgIHZhciB5ID0gdmlldy5nZXRJbnQzMihwb2ludE9mZnNldCArIGF0dHJpYnV0ZU9mZnNldCArIDQsIHRydWUpICogc2NhbGVbMV0gKyBvZmZzZXRbMV0gLSBtaW4ueTtcXFxcbiAgICAgICAgICB2YXIgeiA9IHZpZXcuZ2V0SW50MzIocG9pbnRPZmZzZXQgKyBhdHRyaWJ1dGVPZmZzZXQgKyA4LCB0cnVlKSAqIHNjYWxlWzJdICsgb2Zmc2V0WzJdIC0gbWluLno7XFxcXG4gICAgICAgICAgdGlnaHRCb3hNaW5bMF0gPSBNYXRoLm1pbih0aWdodEJveE1pblswXSwgeCk7XFxcXG4gICAgICAgICAgdGlnaHRCb3hNaW5bMV0gPSBNYXRoLm1pbih0aWdodEJveE1pblsxXSwgeSk7XFxcXG4gICAgICAgICAgdGlnaHRCb3hNaW5bMl0gPSBNYXRoLm1pbih0aWdodEJveE1pblsyXSwgeik7XFxcXG4gICAgICAgICAgdGlnaHRCb3hNYXhbMF0gPSBNYXRoLm1heCh0aWdodEJveE1heFswXSwgeCk7XFxcXG4gICAgICAgICAgdGlnaHRCb3hNYXhbMV0gPSBNYXRoLm1heCh0aWdodEJveE1heFsxXSwgeSk7XFxcXG4gICAgICAgICAgdGlnaHRCb3hNYXhbMl0gPSBNYXRoLm1heCh0aWdodEJveE1heFsyXSwgeik7XFxcXG4gICAgICAgICAgdmFyIGluZGV4ID0gdG9JbmRleCh4LCB5LCB6KTtcXFxcbiAgICAgICAgICB2YXIgY291bnQgPSBncmlkW2luZGV4XSsrO1xcXFxuICAgICAgICAgIGlmIChjb3VudCA9PT0gMCkge1xcXFxuICAgICAgICAgICAgbnVtT2NjdXBpZWRDZWxscysrO1xcXFxuICAgICAgICAgIH1cXFxcbiAgICAgICAgICBwb3NpdGlvbnNbMyAqIF9qICsgMF0gPSB4O1xcXFxuICAgICAgICAgIHBvc2l0aW9uc1szICogX2ogKyAxXSA9IHk7XFxcXG4gICAgICAgICAgcG9zaXRpb25zWzMgKiBfaiArIDJdID0gejtcXFxcbiAgICAgICAgfVxcXFxuICAgICAgICBhdHRyaWJ1dGVCdWZmZXJzW19wb2ludEF0dHJpYnV0ZS5uYW1lXSA9IHtcXFxcbiAgICAgICAgICBidWZmZXI6IF9idWZmLFxcXFxuICAgICAgICAgIGF0dHJpYnV0ZTogX3BvaW50QXR0cmlidXRlXFxcXG4gICAgICAgIH07XFxcXG4gICAgICB9IGVsc2UgaWYgKFsnUkdCQScsICdyZ2JhJ10uaW5jbHVkZXMoX3BvaW50QXR0cmlidXRlLm5hbWUpKSB7XFxcXG4gICAgICAgIHZhciBfYnVmZjIgPSBuZXcgQXJyYXlCdWZmZXIobnVtUG9pbnRzICogNCk7XFxcXG4gICAgICAgIHZhciBjb2xvcnMgPSBuZXcgVWludDhBcnJheShfYnVmZjIpO1xcXFxuICAgICAgICBmb3IgKHZhciBfajIgPSAwOyBfajIgPCBudW1Qb2ludHM7IF9qMisrKSB7XFxcXG4gICAgICAgICAgdmFyIF9wb2ludE9mZnNldCA9IF9qMiAqIGJ5dGVzUGVyUG9pbnQ7XFxcXG4gICAgICAgICAgdmFyIHIgPSB2aWV3LmdldFVpbnQxNihfcG9pbnRPZmZzZXQgKyBhdHRyaWJ1dGVPZmZzZXQgKyAwLCB0cnVlKTtcXFxcbiAgICAgICAgICB2YXIgZyA9IHZpZXcuZ2V0VWludDE2KF9wb2ludE9mZnNldCArIGF0dHJpYnV0ZU9mZnNldCArIDIsIHRydWUpO1xcXFxuICAgICAgICAgIHZhciBiID0gdmlldy5nZXRVaW50MTYoX3BvaW50T2Zmc2V0ICsgYXR0cmlidXRlT2Zmc2V0ICsgNCwgdHJ1ZSk7XFxcXG4gICAgICAgICAgY29sb3JzWzQgKiBfajIgKyAwXSA9IHIgPiAyNTUgPyByIC8gMjU2IDogcjtcXFxcbiAgICAgICAgICBjb2xvcnNbNCAqIF9qMiArIDFdID0gZyA+IDI1NSA/IGcgLyAyNTYgOiBnO1xcXFxuICAgICAgICAgIGNvbG9yc1s0ICogX2oyICsgMl0gPSBiID4gMjU1ID8gYiAvIDI1NiA6IGI7XFxcXG4gICAgICAgIH1cXFxcbiAgICAgICAgYXR0cmlidXRlQnVmZmVyc1tfcG9pbnRBdHRyaWJ1dGUubmFtZV0gPSB7XFxcXG4gICAgICAgICAgYnVmZmVyOiBfYnVmZjIsXFxcXG4gICAgICAgICAgYXR0cmlidXRlOiBfcG9pbnRBdHRyaWJ1dGVcXFxcbiAgICAgICAgfTtcXFxcbiAgICAgIH0gZWxzZSB7XFxcXG4gICAgICAgIHZhciBfYnVmZjMgPSBuZXcgQXJyYXlCdWZmZXIobnVtUG9pbnRzICogNCk7XFxcXG4gICAgICAgIHZhciBfZiA9IG5ldyBGbG9hdDMyQXJyYXkoX2J1ZmYzKTtcXFxcbiAgICAgICAgdmFyIFR5cGVkQXJyYXkgPSB0eXBlZEFycmF5TWFwcGluZ1tfcG9pbnRBdHRyaWJ1dGUudHlwZS5uYW1lXTtcXFxcbiAgICAgICAgdmFyIHByZWNpc2VCdWZmZXIgPSBuZXcgVHlwZWRBcnJheShudW1Qb2ludHMpO1xcXFxuICAgICAgICB2YXIgX29mZnNldDIgPSAwLFxcXFxuICAgICAgICAgIF9zY2FsZTIgPSAxO1xcXFxuICAgICAgICB2YXIgZ2V0dGVyTWFwID0ge1xcXFxuICAgICAgICAgICdpbnQ4Jzogdmlldy5nZXRJbnQ4LFxcXFxuICAgICAgICAgICdpbnQxNic6IHZpZXcuZ2V0SW50MTYsXFxcXG4gICAgICAgICAgJ2ludDMyJzogdmlldy5nZXRJbnQzMixcXFxcbiAgICAgICAgICAvLyAnaW50NjQnOiAgdmlldy5nZXRJbnQ2NCxcXFxcbiAgICAgICAgICAndWludDgnOiB2aWV3LmdldFVpbnQ4LFxcXFxuICAgICAgICAgICd1aW50MTYnOiB2aWV3LmdldFVpbnQxNixcXFxcbiAgICAgICAgICAndWludDMyJzogdmlldy5nZXRVaW50MzIsXFxcXG4gICAgICAgICAgLy8gJ3VpbnQ2NCc6IHZpZXcuZ2V0VWludDY0LFxcXFxuICAgICAgICAgICdmbG9hdCc6IHZpZXcuZ2V0RmxvYXQzMixcXFxcbiAgICAgICAgICAnZG91YmxlJzogdmlldy5nZXRGbG9hdDY0XFxcXG4gICAgICAgIH07XFxcXG4gICAgICAgIHZhciBfZ2V0dGVyID0gZ2V0dGVyTWFwW19wb2ludEF0dHJpYnV0ZS50eXBlLm5hbWVdLmJpbmQodmlldyk7XFxcXG5cXFxcbiAgICAgICAgLy8gY29tcHV0ZSBvZmZzZXQgYW5kIHNjYWxlIHRvIHBhY2sgbGFyZ2VyIHR5cGVzIGludG8gMzIgYml0IGZsb2F0c1xcXFxuICAgICAgICBpZiAoX3BvaW50QXR0cmlidXRlLnR5cGUuc2l6ZSA+IDQpIHtcXFxcbiAgICAgICAgICB2YXIgX3BvaW50QXR0cmlidXRlJHJhbmdlID0gX3NsaWNlZFRvQXJyYXkoX3BvaW50QXR0cmlidXRlLnJhbmdlLCAyKSxcXFxcbiAgICAgICAgICAgIGFtaW4gPSBfcG9pbnRBdHRyaWJ1dGUkcmFuZ2VbMF0sXFxcXG4gICAgICAgICAgICBhbWF4ID0gX3BvaW50QXR0cmlidXRlJHJhbmdlWzFdO1xcXFxuICAgICAgICAgIF9vZmZzZXQyID0gYW1pbjtcXFxcbiAgICAgICAgICBfc2NhbGUyID0gMSAvIChhbWF4IC0gYW1pbik7XFxcXG4gICAgICAgIH1cXFxcbiAgICAgICAgZm9yICh2YXIgX2ozID0gMDsgX2ozIDwgbnVtUG9pbnRzOyBfajMrKykge1xcXFxuICAgICAgICAgIHZhciBfcG9pbnRPZmZzZXQyID0gX2ozICogYnl0ZXNQZXJQb2ludDtcXFxcbiAgICAgICAgICB2YXIgX3ZhbHVlID0gX2dldHRlcihfcG9pbnRPZmZzZXQyICsgYXR0cmlidXRlT2Zmc2V0LCB0cnVlKTtcXFxcbiAgICAgICAgICBfZltfajNdID0gKF92YWx1ZSAtIF9vZmZzZXQyKSAqIF9zY2FsZTI7XFxcXG4gICAgICAgICAgcHJlY2lzZUJ1ZmZlcltfajNdID0gX3ZhbHVlO1xcXFxuICAgICAgICB9XFxcXG4gICAgICAgIGF0dHJpYnV0ZUJ1ZmZlcnNbX3BvaW50QXR0cmlidXRlLm5hbWVdID0ge1xcXFxuICAgICAgICAgIGJ1ZmZlcjogX2J1ZmYzLFxcXFxuICAgICAgICAgIHByZWNpc2VCdWZmZXI6IHByZWNpc2VCdWZmZXIsXFxcXG4gICAgICAgICAgYXR0cmlidXRlOiBfcG9pbnRBdHRyaWJ1dGUsXFxcXG4gICAgICAgICAgb2Zmc2V0OiBfb2Zmc2V0MixcXFxcbiAgICAgICAgICBzY2FsZTogX3NjYWxlMlxcXFxuICAgICAgICB9O1xcXFxuICAgICAgfVxcXFxuICAgICAgYXR0cmlidXRlT2Zmc2V0ICs9IF9wb2ludEF0dHJpYnV0ZS5ieXRlU2l6ZTtcXFxcbiAgICB9XFxcXG4gIH0gY2F0Y2ggKGVycikge1xcXFxuICAgIF9pdGVyYXRvcjIuZShlcnIpO1xcXFxuICB9IGZpbmFsbHkge1xcXFxuICAgIF9pdGVyYXRvcjIuZigpO1xcXFxuICB9XFxcXG4gIHZhciBvY2N1cGFuY3kgPSBwYXJzZUludChudW1Qb2ludHMgLyBudW1PY2N1cGllZENlbGxzKTtcXFxcbiAge1xcXFxuICAgIC8vIGFkZCBpbmRpY2VzXFxcXG4gICAgdmFyIGJ1ZmYgPSBuZXcgQXJyYXlCdWZmZXIobnVtUG9pbnRzICogNCk7XFxcXG4gICAgdmFyIGluZGljZXMgPSBuZXcgVWludDMyQXJyYXkoYnVmZik7XFxcXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1Qb2ludHM7IGkrKykge1xcXFxuICAgICAgaW5kaWNlc1tpXSA9IGk7XFxcXG4gICAgfVxcXFxuICAgIGF0dHJpYnV0ZUJ1ZmZlcnNbJ0lORElDRVMnXSA9IHtcXFxcbiAgICAgIGJ1ZmZlcjogYnVmZixcXFxcbiAgICAgIGF0dHJpYnV0ZTogX3BvaW50X2F0dHJpYnV0ZXNfdHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXy5Qb2ludEF0dHJpYnV0ZS5JTkRJQ0VTXFxcXG4gICAgfTtcXFxcbiAgfVxcXFxuICB7XFxcXG4gICAgLy8gaGFuZGxlIGF0dHJpYnV0ZSB2ZWN0b3JzXFxcXG4gICAgdmFyIHZlY3RvcnMgPSBwb2ludEF0dHJpYnV0ZXMudmVjdG9ycztcXFxcbiAgICB2YXIgX2l0ZXJhdG9yMyA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHZlY3RvcnMpLFxcXFxuICAgICAgX3N0ZXAzO1xcXFxuICAgIHRyeSB7XFxcXG4gICAgICBmb3IgKF9pdGVyYXRvcjMucygpOyAhKF9zdGVwMyA9IF9pdGVyYXRvcjMubigpKS5kb25lOykge1xcXFxuICAgICAgICB2YXIgdmVjdG9yID0gX3N0ZXAzLnZhbHVlO1xcXFxuICAgICAgICB2YXIgX25hbWUgPSB2ZWN0b3IubmFtZSxcXFxcbiAgICAgICAgICBhdHRyaWJ1dGVzID0gdmVjdG9yLmF0dHJpYnV0ZXM7XFxcXG4gICAgICAgIHZhciBudW1WZWN0b3JFbGVtZW50cyA9IGF0dHJpYnV0ZXMubGVuZ3RoO1xcXFxuICAgICAgICB2YXIgX2J1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcihudW1WZWN0b3JFbGVtZW50cyAqIG51bVBvaW50cyAqIDQpO1xcXFxuICAgICAgICB2YXIgZjMyID0gbmV3IEZsb2F0MzJBcnJheShfYnVmZmVyKTtcXFxcbiAgICAgICAgdmFyIGlFbGVtZW50ID0gMDtcXFxcbiAgICAgICAgdmFyIF9pdGVyYXRvcjQgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihhdHRyaWJ1dGVzKSxcXFxcbiAgICAgICAgICBfc3RlcDQ7XFxcXG4gICAgICAgIHRyeSB7XFxcXG4gICAgICAgICAgZm9yIChfaXRlcmF0b3I0LnMoKTsgIShfc3RlcDQgPSBfaXRlcmF0b3I0Lm4oKSkuZG9uZTspIHtcXFxcbiAgICAgICAgICAgIHZhciBzb3VyY2VOYW1lID0gX3N0ZXA0LnZhbHVlO1xcXFxuICAgICAgICAgICAgdmFyIHNvdXJjZUJ1ZmZlciA9IGF0dHJpYnV0ZUJ1ZmZlcnNbc291cmNlTmFtZV07XFxcXG4gICAgICAgICAgICB2YXIgX29mZnNldCA9IHNvdXJjZUJ1ZmZlci5vZmZzZXQsXFxcXG4gICAgICAgICAgICAgIF9zY2FsZSA9IHNvdXJjZUJ1ZmZlci5zY2FsZTtcXFxcbiAgICAgICAgICAgIHZhciBfdmlldyA9IG5ldyBEYXRhVmlldyhzb3VyY2VCdWZmZXIuYnVmZmVyKTtcXFxcbiAgICAgICAgICAgIHZhciBnZXR0ZXIgPSBfdmlldy5nZXRGbG9hdDMyLmJpbmQoX3ZpZXcpO1xcXFxuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBudW1Qb2ludHM7IGorKykge1xcXFxuICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBnZXR0ZXIoaiAqIDQsIHRydWUpO1xcXFxuICAgICAgICAgICAgICBmMzJbaiAqIG51bVZlY3RvckVsZW1lbnRzICsgaUVsZW1lbnRdID0gdmFsdWUgLyBfc2NhbGUgKyBfb2Zmc2V0O1xcXFxuICAgICAgICAgICAgfVxcXFxuICAgICAgICAgICAgaUVsZW1lbnQrKztcXFxcbiAgICAgICAgICB9XFxcXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xcXFxuICAgICAgICAgIF9pdGVyYXRvcjQuZShlcnIpO1xcXFxuICAgICAgICB9IGZpbmFsbHkge1xcXFxuICAgICAgICAgIF9pdGVyYXRvcjQuZigpO1xcXFxuICAgICAgICB9XFxcXG4gICAgICAgIHZhciB2ZWNBdHRyaWJ1dGUgPSBuZXcgX3BvaW50X2F0dHJpYnV0ZXNfdHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXy5Qb2ludEF0dHJpYnV0ZShfbmFtZSwgX3BvaW50X2F0dHJpYnV0ZXNfdHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXy5Qb2ludEF0dHJpYnV0ZVR5cGVzLkRBVEFfVFlQRV9GTE9BVCwgMyk7XFxcXG4gICAgICAgIGF0dHJpYnV0ZUJ1ZmZlcnNbX25hbWVdID0ge1xcXFxuICAgICAgICAgIGJ1ZmZlcjogX2J1ZmZlcixcXFxcbiAgICAgICAgICBhdHRyaWJ1dGU6IHZlY0F0dHJpYnV0ZVxcXFxuICAgICAgICB9O1xcXFxuICAgICAgfVxcXFxuICAgIH0gY2F0Y2ggKGVycikge1xcXFxuICAgICAgX2l0ZXJhdG9yMy5lKGVycik7XFxcXG4gICAgfSBmaW5hbGx5IHtcXFxcbiAgICAgIF9pdGVyYXRvcjMuZigpO1xcXFxuICAgIH1cXFxcbiAgfVxcXFxuICB2YXIgbWVzc2FnZSA9IHtcXFxcbiAgICBidWZmZXI6IGJ1ZmZlcixcXFxcbiAgICBhdHRyaWJ1dGVCdWZmZXJzOiBhdHRyaWJ1dGVCdWZmZXJzLFxcXFxuICAgIGRlbnNpdHk6IG9jY3VwYW5jeSxcXFxcbiAgICB0aWdodEJvdW5kaW5nQm94OiB7XFxcXG4gICAgICBtaW46IHRpZ2h0Qm94TWluLFxcXFxuICAgICAgbWF4OiB0aWdodEJveE1heFxcXFxuICAgIH1cXFxcbiAgfTtcXFxcbiAgdmFyIHRyYW5zZmVyYWJsZXMgPSBbXTtcXFxcbiAgZm9yICh2YXIgcHJvcGVydHkgaW4gbWVzc2FnZS5hdHRyaWJ1dGVCdWZmZXJzKSB7XFxcXG4gICAgdHJhbnNmZXJhYmxlcy5wdXNoKG1lc3NhZ2UuYXR0cmlidXRlQnVmZmVyc1twcm9wZXJ0eV0uYnVmZmVyKTtcXFxcbiAgfVxcXFxuICB0cmFuc2ZlcmFibGVzLnB1c2goYnVmZmVyKTtcXFxcbiAgcG9zdE1lc3NhZ2UobWVzc2FnZSwgdHJhbnNmZXJhYmxlcyk7XFxcXG59Oy8vIyBzb3VyY2VVUkw9W21vZHVsZV1cXFxcblxcXCIpO1xcblxcbi8qKiovIH0pLFxcblxcbi8qKiovIFxcXCIuL3NyYy9sb2FkaW5nMi9wb2ludC1hdHRyaWJ1dGVzLnRzXFxcIjpcXG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXFxcXG4gICEqKiogLi9zcmMvbG9hZGluZzIvcG9pbnQtYXR0cmlidXRlcy50cyAqKiohXFxuICBcXFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xcbi8qKiovICgoX191bnVzZWRfd2VicGFja19tb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pID0+IHtcXG5cXG5ldmFsKFxcXCJfX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XFxcXG4vKiBoYXJtb255IGV4cG9ydCAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywge1xcXFxuLyogaGFybW9ueSBleHBvcnQgKi8gICBQT0lOVF9BVFRSSUJVVEVTOiAoKSA9PiAoLyogYmluZGluZyAqLyBQT0lOVF9BVFRSSUJVVEVTKSxcXFxcbi8qIGhhcm1vbnkgZXhwb3J0ICovICAgUG9pbnRBdHRyaWJ1dGU6ICgpID0+ICgvKiBiaW5kaW5nICovIFBvaW50QXR0cmlidXRlKSxcXFxcbi8qIGhhcm1vbnkgZXhwb3J0ICovICAgUG9pbnRBdHRyaWJ1dGVUeXBlczogKCkgPT4gKC8qIGJpbmRpbmcgKi8gUG9pbnRBdHRyaWJ1dGVUeXBlcyksXFxcXG4vKiBoYXJtb255IGV4cG9ydCAqLyAgIFBvaW50QXR0cmlidXRlczogKCkgPT4gKC8qIGJpbmRpbmcgKi8gUG9pbnRBdHRyaWJ1dGVzKVxcXFxuLyogaGFybW9ueSBleHBvcnQgKi8gfSk7XFxcXG4vKipcXFxcbiAqIFNvbWUgdHlwZXMgb2YgcG9zc2libGUgcG9pbnQgYXR0cmlidXRlIGRhdGEgZm9ybWF0c1xcXFxuICpcXFxcbiAqIEBjbGFzc1xcXFxuICovXFxcXG5jb25zdCBQb2ludEF0dHJpYnV0ZVR5cGVzID0ge1xcXFxuICAgIERBVEFfVFlQRV9ET1VCTEU6IHsgb3JkaW5hbDogMCwgbmFtZTogJ2RvdWJsZScsIHNpemU6IDggfSxcXFxcbiAgICBEQVRBX1RZUEVfRkxPQVQ6IHsgb3JkaW5hbDogMSwgbmFtZTogJ2Zsb2F0Jywgc2l6ZTogNCB9LFxcXFxuICAgIERBVEFfVFlQRV9JTlQ4OiB7IG9yZGluYWw6IDIsIG5hbWU6ICdpbnQ4Jywgc2l6ZTogMSB9LFxcXFxuICAgIERBVEFfVFlQRV9VSU5UODogeyBvcmRpbmFsOiAzLCBuYW1lOiAndWludDgnLCBzaXplOiAxIH0sXFxcXG4gICAgREFUQV9UWVBFX0lOVDE2OiB7IG9yZGluYWw6IDQsIG5hbWU6ICdpbnQxNicsIHNpemU6IDIgfSxcXFxcbiAgICBEQVRBX1RZUEVfVUlOVDE2OiB7IG9yZGluYWw6IDUsIG5hbWU6ICd1aW50MTYnLCBzaXplOiAyIH0sXFxcXG4gICAgREFUQV9UWVBFX0lOVDMyOiB7IG9yZGluYWw6IDYsIG5hbWU6ICdpbnQzMicsIHNpemU6IDQgfSxcXFxcbiAgICBEQVRBX1RZUEVfVUlOVDMyOiB7IG9yZGluYWw6IDcsIG5hbWU6ICd1aW50MzInLCBzaXplOiA0IH0sXFxcXG4gICAgREFUQV9UWVBFX0lOVDY0OiB7IG9yZGluYWw6IDgsIG5hbWU6ICdpbnQ2NCcsIHNpemU6IDggfSxcXFxcbiAgICBEQVRBX1RZUEVfVUlOVDY0OiB7IG9yZGluYWw6IDksIG5hbWU6ICd1aW50NjQnLCBzaXplOiA4IH1cXFxcbn07XFxcXG5sZXQgaSA9IDA7XFxcXG5mb3IgKGNvbnN0IG9iaiBpbiBQb2ludEF0dHJpYnV0ZVR5cGVzKSB7XFxcXG4gICAgUG9pbnRBdHRyaWJ1dGVUeXBlc1tpXSA9IFBvaW50QXR0cmlidXRlVHlwZXNbb2JqXTtcXFxcbiAgICBpKys7XFxcXG59XFxcXG5cXFxcbmNsYXNzIFBvaW50QXR0cmlidXRlIHtcXFxcbiAgICBjb25zdHJ1Y3RvcihuYW1lLCB0eXBlLCBudW1FbGVtZW50cywgcmFuZ2UgPSBbSW5maW5pdHksIC1JbmZpbml0eV0sIHVyaSA9IHVuZGVmaW5lZCkge1xcXFxuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xcXFxuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xcXFxuICAgICAgICB0aGlzLm51bUVsZW1lbnRzID0gbnVtRWxlbWVudHM7XFxcXG4gICAgICAgIHRoaXMucmFuZ2UgPSByYW5nZTtcXFxcbiAgICAgICAgdGhpcy51cmkgPSB1cmk7XFxcXG4gICAgICAgIHRoaXMuYnl0ZVNpemUgPSB0aGlzLm51bUVsZW1lbnRzICogdGhpcy50eXBlLnNpemU7XFxcXG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSAnJztcXFxcbiAgICB9XFxcXG59XFxcXG5cXFxcbmNvbnN0IFBPSU5UX0FUVFJJQlVURVMgPSB7XFxcXG4gICAgUE9TSVRJT05fQ0FSVEVTSUFOOiBuZXcgUG9pbnRBdHRyaWJ1dGUoJ1BPU0lUSU9OX0NBUlRFU0lBTicsIFBvaW50QXR0cmlidXRlVHlwZXMuREFUQV9UWVBFX0ZMT0FULCAzKSxcXFxcbiAgICBSR0JBX1BBQ0tFRDogbmV3IFBvaW50QXR0cmlidXRlKCdDT0xPUl9QQUNLRUQnLCBQb2ludEF0dHJpYnV0ZVR5cGVzLkRBVEFfVFlQRV9JTlQ4LCA0KSxcXFxcbiAgICBDT0xPUl9QQUNLRUQ6IG5ldyBQb2ludEF0dHJpYnV0ZSgnQ09MT1JfUEFDS0VEJywgUG9pbnRBdHRyaWJ1dGVUeXBlcy5EQVRBX1RZUEVfSU5UOCwgNCksXFxcXG4gICAgUkdCX1BBQ0tFRDogbmV3IFBvaW50QXR0cmlidXRlKCdDT0xPUl9QQUNLRUQnLCBQb2ludEF0dHJpYnV0ZVR5cGVzLkRBVEFfVFlQRV9JTlQ4LCAzKSxcXFxcbiAgICBOT1JNQUxfRkxPQVRTOiBuZXcgUG9pbnRBdHRyaWJ1dGUoJ05PUk1BTF9GTE9BVFMnLCBQb2ludEF0dHJpYnV0ZVR5cGVzLkRBVEFfVFlQRV9GTE9BVCwgMyksXFxcXG4gICAgSU5URU5TSVRZOiBuZXcgUG9pbnRBdHRyaWJ1dGUoJ0lOVEVOU0lUWScsIFBvaW50QXR0cmlidXRlVHlwZXMuREFUQV9UWVBFX1VJTlQxNiwgMSksXFxcXG4gICAgQ0xBU1NJRklDQVRJT046IG5ldyBQb2ludEF0dHJpYnV0ZSgnQ0xBU1NJRklDQVRJT04nLCBQb2ludEF0dHJpYnV0ZVR5cGVzLkRBVEFfVFlQRV9VSU5UOCwgMSksXFxcXG4gICAgTk9STUFMX1NQSEVSRU1BUFBFRDogbmV3IFBvaW50QXR0cmlidXRlKCdOT1JNQUxfU1BIRVJFTUFQUEVEJywgUG9pbnRBdHRyaWJ1dGVUeXBlcy5EQVRBX1RZUEVfVUlOVDgsIDIpLFxcXFxuICAgIE5PUk1BTF9PQ1QxNjogbmV3IFBvaW50QXR0cmlidXRlKCdOT1JNQUxfT0NUMTYnLCBQb2ludEF0dHJpYnV0ZVR5cGVzLkRBVEFfVFlQRV9VSU5UOCwgMiksXFxcXG4gICAgTk9STUFMOiBuZXcgUG9pbnRBdHRyaWJ1dGUoJ05PUk1BTCcsIFBvaW50QXR0cmlidXRlVHlwZXMuREFUQV9UWVBFX0ZMT0FULCAzKSxcXFxcbiAgICBSRVRVUk5fTlVNQkVSOiBuZXcgUG9pbnRBdHRyaWJ1dGUoJ1JFVFVSTl9OVU1CRVInLCBQb2ludEF0dHJpYnV0ZVR5cGVzLkRBVEFfVFlQRV9VSU5UOCwgMSksXFxcXG4gICAgTlVNQkVSX09GX1JFVFVSTlM6IG5ldyBQb2ludEF0dHJpYnV0ZSgnTlVNQkVSX09GX1JFVFVSTlMnLCBQb2ludEF0dHJpYnV0ZVR5cGVzLkRBVEFfVFlQRV9VSU5UOCwgMSksXFxcXG4gICAgU09VUkNFX0lEOiBuZXcgUG9pbnRBdHRyaWJ1dGUoJ1NPVVJDRV9JRCcsIFBvaW50QXR0cmlidXRlVHlwZXMuREFUQV9UWVBFX1VJTlQxNiwgMSksXFxcXG4gICAgSU5ESUNFUzogbmV3IFBvaW50QXR0cmlidXRlKCdJTkRJQ0VTJywgUG9pbnRBdHRyaWJ1dGVUeXBlcy5EQVRBX1RZUEVfVUlOVDMyLCAxKSxcXFxcbiAgICBTUEFDSU5HOiBuZXcgUG9pbnRBdHRyaWJ1dGUoJ1NQQUNJTkcnLCBQb2ludEF0dHJpYnV0ZVR5cGVzLkRBVEFfVFlQRV9GTE9BVCwgMSksXFxcXG4gICAgR1BTX1RJTUU6IG5ldyBQb2ludEF0dHJpYnV0ZSgnR1BTX1RJTUUnLCBQb2ludEF0dHJpYnV0ZVR5cGVzLkRBVEFfVFlQRV9ET1VCTEUsIDEpXFxcXG59O1xcXFxuY2xhc3MgUG9pbnRBdHRyaWJ1dGVzIHtcXFxcbiAgICBjb25zdHJ1Y3Rvcihwb2ludEF0dHJpYnV0ZXMsIGF0dHJpYnV0ZXMgPSBbXSwgYnl0ZVNpemUgPSAwLCBzaXplID0gMCwgdmVjdG9ycyA9IFtdKSB7XFxcXG4gICAgICAgIHRoaXMuYXR0cmlidXRlcyA9IGF0dHJpYnV0ZXM7XFxcXG4gICAgICAgIHRoaXMuYnl0ZVNpemUgPSBieXRlU2l6ZTtcXFxcbiAgICAgICAgdGhpcy5zaXplID0gc2l6ZTtcXFxcbiAgICAgICAgdGhpcy52ZWN0b3JzID0gdmVjdG9ycztcXFxcbiAgICAgICAgaWYgKHBvaW50QXR0cmlidXRlcyAhPSBudWxsKSB7XFxcXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvaW50QXR0cmlidXRlcy5sZW5ndGg7IGkrKykge1xcXFxuICAgICAgICAgICAgICAgIGNvbnN0IHBvaW50QXR0cmlidXRlTmFtZSA9IHBvaW50QXR0cmlidXRlc1tpXTtcXFxcbiAgICAgICAgICAgICAgICBjb25zdCBwb2ludEF0dHJpYnV0ZSA9IFBPSU5UX0FUVFJJQlVURVNbcG9pbnRBdHRyaWJ1dGVOYW1lXTtcXFxcbiAgICAgICAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMucHVzaChwb2ludEF0dHJpYnV0ZSk7XFxcXG4gICAgICAgICAgICAgICAgdGhpcy5ieXRlU2l6ZSArPSBwb2ludEF0dHJpYnV0ZS5ieXRlU2l6ZTtcXFxcbiAgICAgICAgICAgICAgICB0aGlzLnNpemUrKztcXFxcbiAgICAgICAgICAgIH1cXFxcbiAgICAgICAgfVxcXFxuICAgIH1cXFxcbiAgICBhZGQocG9pbnRBdHRyaWJ1dGUpIHtcXFxcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVzLnB1c2gocG9pbnRBdHRyaWJ1dGUpO1xcXFxuICAgICAgICB0aGlzLmJ5dGVTaXplICs9IHBvaW50QXR0cmlidXRlLmJ5dGVTaXplO1xcXFxuICAgICAgICB0aGlzLnNpemUrKztcXFxcbiAgICB9XFxcXG4gICAgYWRkVmVjdG9yKHZlY3Rvcikge1xcXFxuICAgICAgICB0aGlzLnZlY3RvcnMucHVzaCh2ZWN0b3IpO1xcXFxuICAgIH1cXFxcbiAgICBoYXNOb3JtYWxzKCkge1xcXFxuICAgICAgICBmb3IgKGNvbnN0IG5hbWUgaW4gdGhpcy5hdHRyaWJ1dGVzKSB7XFxcXG4gICAgICAgICAgICBjb25zdCBwb2ludEF0dHJpYnV0ZSA9IHRoaXMuYXR0cmlidXRlc1tuYW1lXTtcXFxcbiAgICAgICAgICAgIGlmIChwb2ludEF0dHJpYnV0ZSA9PT0gUE9JTlRfQVRUUklCVVRFUy5OT1JNQUxfU1BIRVJFTUFQUEVEIHx8XFxcXG4gICAgICAgICAgICAgICAgcG9pbnRBdHRyaWJ1dGUgPT09IFBPSU5UX0FUVFJJQlVURVMuTk9STUFMX0ZMT0FUUyB8fFxcXFxuICAgICAgICAgICAgICAgIHBvaW50QXR0cmlidXRlID09PSBQT0lOVF9BVFRSSUJVVEVTLk5PUk1BTCB8fFxcXFxuICAgICAgICAgICAgICAgIHBvaW50QXR0cmlidXRlID09PSBQT0lOVF9BVFRSSUJVVEVTLk5PUk1BTF9PQ1QxNikge1xcXFxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xcXFxuICAgICAgICAgICAgfVxcXFxuICAgICAgICB9XFxcXG4gICAgICAgIHJldHVybiBmYWxzZTtcXFxcbiAgICB9XFxcXG4gICAgZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUpIHtcXFxcbiAgICAgICAgcmV0dXJuIHRoaXMuYXR0cmlidXRlcy5maW5kKGF0dHIgPT4gYXR0ci5uYW1lID09PSBhdHRyaWJ1dGVOYW1lKTtcXFxcbiAgICB9XFxcXG59XFxcXG4vLyMgc291cmNlVVJMPVttb2R1bGVdXFxcXG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSm1hV3hsSWpvaUxpOXpjbU12Ykc5aFpHbHVaekl2Y0c5cGJuUXRZWFIwY21saWRYUmxjeTUwY3lJc0ltMWhjSEJwYm1keklqb2lPenM3T3pzN08wRkJRVUU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CSWl3aWMyOTFjbU5sY3lJNld5SjNaV0p3WVdOck9pOHZjRzkwY21WbEx5NHZjM0pqTDJ4dllXUnBibWN5TDNCdmFXNTBMV0YwZEhKcFluVjBaWE11ZEhNL1pHTmxNQ0pkTENKemIzVnlZMlZ6UTI5dWRHVnVkQ0k2V3lJdktpcGNiaUFxSUZOdmJXVWdkSGx3WlhNZ2IyWWdjRzl6YzJsaWJHVWdjRzlwYm5RZ1lYUjBjbWxpZFhSbElHUmhkR0VnWm05eWJXRjBjMXh1SUNwY2JpQXFJRUJqYkdGemMxeHVJQ292WEc1amIyNXpkQ0JRYjJsdWRFRjBkSEpwWW5WMFpWUjVjR1Z6SUQwZ2UxeHVJQ0FnSUVSQlZFRmZWRmxRUlY5RVQxVkNURVU2SUhzZ2IzSmthVzVoYkRvZ01Dd2dibUZ0WlRvZ0oyUnZkV0pzWlNjc0lITnBlbVU2SURnZ2ZTeGNiaUFnSUNCRVFWUkJYMVJaVUVWZlJreFBRVlE2SUhzZ2IzSmthVzVoYkRvZ01Td2dibUZ0WlRvZ0oyWnNiMkYwSnl3Z2MybDZaVG9nTkNCOUxGeHVJQ0FnSUVSQlZFRmZWRmxRUlY5SlRsUTRPaUI3SUc5eVpHbHVZV3c2SURJc0lHNWhiV1U2SUNkcGJuUTRKeXdnYzJsNlpUb2dNU0I5TEZ4dUlDQWdJRVJCVkVGZlZGbFFSVjlWU1U1VU9Eb2dleUJ2Y21ScGJtRnNPaUF6TENCdVlXMWxPaUFuZFdsdWREZ25MQ0J6YVhwbE9pQXhJSDBzWEc0Z0lDQWdSRUZVUVY5VVdWQkZYMGxPVkRFMk9pQjdJRzl5WkdsdVlXdzZJRFFzSUc1aGJXVTZJQ2RwYm5ReE5pY3NJSE5wZW1VNklESWdmU3hjYmlBZ0lDQkVRVlJCWDFSWlVFVmZWVWxPVkRFMk9pQjdJRzl5WkdsdVlXdzZJRFVzSUc1aGJXVTZJQ2QxYVc1ME1UWW5MQ0J6YVhwbE9pQXlJSDBzWEc0Z0lDQWdSRUZVUVY5VVdWQkZYMGxPVkRNeU9pQjdJRzl5WkdsdVlXdzZJRFlzSUc1aGJXVTZJQ2RwYm5Rek1pY3NJSE5wZW1VNklEUWdmU3hjYmlBZ0lDQkVRVlJCWDFSWlVFVmZWVWxPVkRNeU9pQjdJRzl5WkdsdVlXdzZJRGNzSUc1aGJXVTZJQ2QxYVc1ME16SW5MQ0J6YVhwbE9pQTBJSDBzWEc0Z0lDQWdSRUZVUVY5VVdWQkZYMGxPVkRZME9pQjdJRzl5WkdsdVlXdzZJRGdzSUc1aGJXVTZJQ2RwYm5RMk5DY3NJSE5wZW1VNklEZ2dmU3hjYmlBZ0lDQkVRVlJCWDFSWlVFVmZWVWxPVkRZME9pQjdJRzl5WkdsdVlXdzZJRGtzSUc1aGJXVTZJQ2QxYVc1ME5qUW5MQ0J6YVhwbE9pQTRJSDFjYm4wN1hHNXNaWFFnYVNBOUlEQTdYRzVtYjNJZ0tHTnZibk4wSUc5aWFpQnBiaUJRYjJsdWRFRjBkSEpwWW5WMFpWUjVjR1Z6S1NCN1hHNGdJQ0FnVUc5cGJuUkJkSFJ5YVdKMWRHVlVlWEJsYzF0cFhTQTlJRkJ2YVc1MFFYUjBjbWxpZFhSbFZIbHdaWE5iYjJKcVhUdGNiaUFnSUNCcEt5czdYRzU5WEc1bGVIQnZjblFnZXlCUWIybHVkRUYwZEhKcFluVjBaVlI1Y0dWeklIMDdYRzVqYkdGemN5QlFiMmx1ZEVGMGRISnBZblYwWlNCN1hHNGdJQ0FnWTI5dWMzUnlkV04wYjNJb2JtRnRaU3dnZEhsd1pTd2diblZ0Uld4bGJXVnVkSE1zSUhKaGJtZGxJRDBnVzBsdVptbHVhWFI1TENBdFNXNW1hVzVwZEhsZExDQjFjbWtnUFNCMWJtUmxabWx1WldRcElIdGNiaUFnSUNBZ0lDQWdkR2hwY3k1dVlXMWxJRDBnYm1GdFpUdGNiaUFnSUNBZ0lDQWdkR2hwY3k1MGVYQmxJRDBnZEhsd1pUdGNiaUFnSUNBZ0lDQWdkR2hwY3k1dWRXMUZiR1Z0Wlc1MGN5QTlJRzUxYlVWc1pXMWxiblJ6TzF4dUlDQWdJQ0FnSUNCMGFHbHpMbkpoYm1kbElEMGdjbUZ1WjJVN1hHNGdJQ0FnSUNBZ0lIUm9hWE11ZFhKcElEMGdkWEpwTzF4dUlDQWdJQ0FnSUNCMGFHbHpMbUo1ZEdWVGFYcGxJRDBnZEdocGN5NXVkVzFGYkdWdFpXNTBjeUFxSUhSb2FYTXVkSGx3WlM1emFYcGxPMXh1SUNBZ0lDQWdJQ0IwYUdsekxtUmxjMk55YVhCMGFXOXVJRDBnSnljN1hHNGdJQ0FnZlZ4dWZWeHVaWGh3YjNKMElIc2dVRzlwYm5SQmRIUnlhV0oxZEdVZ2ZUdGNibVY0Y0c5eWRDQmpiMjV6ZENCUVQwbE9WRjlCVkZSU1NVSlZWRVZUSUQwZ2UxeHVJQ0FnSUZCUFUwbFVTVTlPWDBOQlVsUkZVMGxCVGpvZ2JtVjNJRkJ2YVc1MFFYUjBjbWxpZFhSbEtDZFFUMU5KVkVsUFRsOURRVkpVUlZOSlFVNG5MQ0JRYjJsdWRFRjBkSEpwWW5WMFpWUjVjR1Z6TGtSQlZFRmZWRmxRUlY5R1RFOUJWQ3dnTXlrc1hHNGdJQ0FnVWtkQ1FWOVFRVU5MUlVRNklHNWxkeUJRYjJsdWRFRjBkSEpwWW5WMFpTZ25RMDlNVDFKZlVFRkRTMFZFSnl3Z1VHOXBiblJCZEhSeWFXSjFkR1ZVZVhCbGN5NUVRVlJCWDFSWlVFVmZTVTVVT0N3Z05Da3NYRzRnSUNBZ1EwOU1UMUpmVUVGRFMwVkVPaUJ1WlhjZ1VHOXBiblJCZEhSeWFXSjFkR1VvSjBOUFRFOVNYMUJCUTB0RlJDY3NJRkJ2YVc1MFFYUjBjbWxpZFhSbFZIbHdaWE11UkVGVVFWOVVXVkJGWDBsT1ZEZ3NJRFFwTEZ4dUlDQWdJRkpIUWw5UVFVTkxSVVE2SUc1bGR5QlFiMmx1ZEVGMGRISnBZblYwWlNnblEwOU1UMUpmVUVGRFMwVkVKeXdnVUc5cGJuUkJkSFJ5YVdKMWRHVlVlWEJsY3k1RVFWUkJYMVJaVUVWZlNVNVVPQ3dnTXlrc1hHNGdJQ0FnVGs5U1RVRk1YMFpNVDBGVVV6b2dibVYzSUZCdmFXNTBRWFIwY21saWRYUmxLQ2RPVDFKTlFVeGZSa3hQUVZSVEp5d2dVRzlwYm5SQmRIUnlhV0oxZEdWVWVYQmxjeTVFUVZSQlgxUlpVRVZmUmt4UFFWUXNJRE1wTEZ4dUlDQWdJRWxPVkVWT1UwbFVXVG9nYm1WM0lGQnZhVzUwUVhSMGNtbGlkWFJsS0NkSlRsUkZUbE5KVkZrbkxDQlFiMmx1ZEVGMGRISnBZblYwWlZSNWNHVnpMa1JCVkVGZlZGbFFSVjlWU1U1VU1UWXNJREVwTEZ4dUlDQWdJRU5NUVZOVFNVWkpRMEZVU1U5T09pQnVaWGNnVUc5cGJuUkJkSFJ5YVdKMWRHVW9KME5NUVZOVFNVWkpRMEZVU1U5T0p5d2dVRzlwYm5SQmRIUnlhV0oxZEdWVWVYQmxjeTVFUVZSQlgxUlpVRVZmVlVsT1ZEZ3NJREVwTEZ4dUlDQWdJRTVQVWsxQlRGOVRVRWhGVWtWTlFWQlFSVVE2SUc1bGR5QlFiMmx1ZEVGMGRISnBZblYwWlNnblRrOVNUVUZNWDFOUVNFVlNSVTFCVUZCRlJDY3NJRkJ2YVc1MFFYUjBjbWxpZFhSbFZIbHdaWE11UkVGVVFWOVVXVkJGWDFWSlRsUTRMQ0F5S1N4Y2JpQWdJQ0JPVDFKTlFVeGZUME5VTVRZNklHNWxkeUJRYjJsdWRFRjBkSEpwWW5WMFpTZ25UazlTVFVGTVgwOURWREUySnl3Z1VHOXBiblJCZEhSeWFXSjFkR1ZVZVhCbGN5NUVRVlJCWDFSWlVFVmZWVWxPVkRnc0lESXBMRnh1SUNBZ0lFNVBVazFCVERvZ2JtVjNJRkJ2YVc1MFFYUjBjbWxpZFhSbEtDZE9UMUpOUVV3bkxDQlFiMmx1ZEVGMGRISnBZblYwWlZSNWNHVnpMa1JCVkVGZlZGbFFSVjlHVEU5QlZDd2dNeWtzWEc0Z0lDQWdVa1ZVVlZKT1gwNVZUVUpGVWpvZ2JtVjNJRkJ2YVc1MFFYUjBjbWxpZFhSbEtDZFNSVlJWVWs1ZlRsVk5Ra1ZTSnl3Z1VHOXBiblJCZEhSeWFXSjFkR1ZVZVhCbGN5NUVRVlJCWDFSWlVFVmZWVWxPVkRnc0lERXBMRnh1SUNBZ0lFNVZUVUpGVWw5UFJsOVNSVlJWVWs1VE9pQnVaWGNnVUc5cGJuUkJkSFJ5YVdKMWRHVW9KMDVWVFVKRlVsOVBSbDlTUlZSVlVrNVRKeXdnVUc5cGJuUkJkSFJ5YVdKMWRHVlVlWEJsY3k1RVFWUkJYMVJaVUVWZlZVbE9WRGdzSURFcExGeHVJQ0FnSUZOUFZWSkRSVjlKUkRvZ2JtVjNJRkJ2YVc1MFFYUjBjbWxpZFhSbEtDZFRUMVZTUTBWZlNVUW5MQ0JRYjJsdWRFRjBkSEpwWW5WMFpWUjVjR1Z6TGtSQlZFRmZWRmxRUlY5VlNVNVVNVFlzSURFcExGeHVJQ0FnSUVsT1JFbERSVk02SUc1bGR5QlFiMmx1ZEVGMGRISnBZblYwWlNnblNVNUVTVU5GVXljc0lGQnZhVzUwUVhSMGNtbGlkWFJsVkhsd1pYTXVSRUZVUVY5VVdWQkZYMVZKVGxRek1pd2dNU2tzWEc0Z0lDQWdVMUJCUTBsT1J6b2dibVYzSUZCdmFXNTBRWFIwY21saWRYUmxLQ2RUVUVGRFNVNUhKeXdnVUc5cGJuUkJkSFJ5YVdKMWRHVlVlWEJsY3k1RVFWUkJYMVJaVUVWZlJreFBRVlFzSURFcExGeHVJQ0FnSUVkUVUxOVVTVTFGT2lCdVpYY2dVRzlwYm5SQmRIUnlhV0oxZEdVb0owZFFVMTlVU1UxRkp5d2dVRzlwYm5SQmRIUnlhV0oxZEdWVWVYQmxjeTVFUVZSQlgxUlpVRVZmUkU5VlFreEZMQ0F4S1Z4dWZUdGNibVY0Y0c5eWRDQmpiR0Z6Y3lCUWIybHVkRUYwZEhKcFluVjBaWE1nZTF4dUlDQWdJR052Ym5OMGNuVmpkRzl5S0hCdmFXNTBRWFIwY21saWRYUmxjeXdnWVhSMGNtbGlkWFJsY3lBOUlGdGRMQ0JpZVhSbFUybDZaU0E5SURBc0lITnBlbVVnUFNBd0xDQjJaV04wYjNKeklEMGdXMTBwSUh0Y2JpQWdJQ0FnSUNBZ2RHaHBjeTVoZEhSeWFXSjFkR1Z6SUQwZ1lYUjBjbWxpZFhSbGN6dGNiaUFnSUNBZ0lDQWdkR2hwY3k1aWVYUmxVMmw2WlNBOUlHSjVkR1ZUYVhwbE8xeHVJQ0FnSUNBZ0lDQjBhR2x6TG5OcGVtVWdQU0J6YVhwbE8xeHVJQ0FnSUNBZ0lDQjBhR2x6TG5abFkzUnZjbk1nUFNCMlpXTjBiM0p6TzF4dUlDQWdJQ0FnSUNCcFppQW9jRzlwYm5SQmRIUnlhV0oxZEdWeklDRTlJRzUxYkd3cElIdGNiaUFnSUNBZ0lDQWdJQ0FnSUdadmNpQW9iR1YwSUdrZ1BTQXdPeUJwSUR3Z2NHOXBiblJCZEhSeWFXSjFkR1Z6TG14bGJtZDBhRHNnYVNzcktTQjdYRzRnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdZMjl1YzNRZ2NHOXBiblJCZEhSeWFXSjFkR1ZPWVcxbElEMGdjRzlwYm5SQmRIUnlhV0oxZEdWelcybGRPMXh1SUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJR052Ym5OMElIQnZhVzUwUVhSMGNtbGlkWFJsSUQwZ1VFOUpUbFJmUVZSVVVrbENWVlJGVTF0d2IybHVkRUYwZEhKcFluVjBaVTVoYldWZE8xeHVJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lIUm9hWE11WVhSMGNtbGlkWFJsY3k1d2RYTm9LSEJ2YVc1MFFYUjBjbWxpZFhSbEtUdGNiaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQjBhR2x6TG1KNWRHVlRhWHBsSUNzOUlIQnZhVzUwUVhSMGNtbGlkWFJsTG1KNWRHVlRhWHBsTzF4dUlDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUhSb2FYTXVjMmw2WlNzck8xeHVJQ0FnSUNBZ0lDQWdJQ0FnZlZ4dUlDQWdJQ0FnSUNCOVhHNGdJQ0FnZlZ4dUlDQWdJR0ZrWkNod2IybHVkRUYwZEhKcFluVjBaU2tnZTF4dUlDQWdJQ0FnSUNCMGFHbHpMbUYwZEhKcFluVjBaWE11Y0hWemFDaHdiMmx1ZEVGMGRISnBZblYwWlNrN1hHNGdJQ0FnSUNBZ0lIUm9hWE11WW5sMFpWTnBlbVVnS3owZ2NHOXBiblJCZEhSeWFXSjFkR1V1WW5sMFpWTnBlbVU3WEc0Z0lDQWdJQ0FnSUhSb2FYTXVjMmw2WlNzck8xeHVJQ0FnSUgxY2JpQWdJQ0JoWkdSV1pXTjBiM0lvZG1WamRHOXlLU0I3WEc0Z0lDQWdJQ0FnSUhSb2FYTXVkbVZqZEc5eWN5NXdkWE5vS0habFkzUnZjaWs3WEc0Z0lDQWdmVnh1SUNBZ0lHaGhjMDV2Y20xaGJITW9LU0I3WEc0Z0lDQWdJQ0FnSUdadmNpQW9ZMjl1YzNRZ2JtRnRaU0JwYmlCMGFHbHpMbUYwZEhKcFluVjBaWE1wSUh0Y2JpQWdJQ0FnSUNBZ0lDQWdJR052Ym5OMElIQnZhVzUwUVhSMGNtbGlkWFJsSUQwZ2RHaHBjeTVoZEhSeWFXSjFkR1Z6VzI1aGJXVmRPMXh1SUNBZ0lDQWdJQ0FnSUNBZ2FXWWdLSEJ2YVc1MFFYUjBjbWxpZFhSbElEMDlQU0JRVDBsT1ZGOUJWRlJTU1VKVlZFVlRMazVQVWsxQlRGOVRVRWhGVWtWTlFWQlFSVVFnZkh4Y2JpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNCd2IybHVkRUYwZEhKcFluVjBaU0E5UFQwZ1VFOUpUbFJmUVZSVVVrbENWVlJGVXk1T1QxSk5RVXhmUmt4UFFWUlRJSHg4WEc0Z0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnY0c5cGJuUkJkSFJ5YVdKMWRHVWdQVDA5SUZCUFNVNVVYMEZVVkZKSlFsVlVSVk11VGs5U1RVRk1JSHg4WEc0Z0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnY0c5cGJuUkJkSFJ5YVdKMWRHVWdQVDA5SUZCUFNVNVVYMEZVVkZKSlFsVlVSVk11VGs5U1RVRk1YMDlEVkRFMktTQjdYRzRnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdjbVYwZFhKdUlIUnlkV1U3WEc0Z0lDQWdJQ0FnSUNBZ0lDQjlYRzRnSUNBZ0lDQWdJSDFjYmlBZ0lDQWdJQ0FnY21WMGRYSnVJR1poYkhObE8xeHVJQ0FnSUgxY2JpQWdJQ0JuWlhSQmRIUnlhV0oxZEdVb1lYUjBjbWxpZFhSbFRtRnRaU2tnZTF4dUlDQWdJQ0FnSUNCeVpYUjFjbTRnZEdocGN5NWhkSFJ5YVdKMWRHVnpMbVpwYm1Rb1lYUjBjaUE5UGlCaGRIUnlMbTVoYldVZ1BUMDlJR0YwZEhKcFluVjBaVTVoYldVcE8xeHVJQ0FnSUgxY2JuMWNiaUpkTENKdVlXMWxjeUk2VzEwc0luTnZkWEpqWlZKdmIzUWlPaUlpZlE9PVxcXFxuLy8jIHNvdXJjZVVSTD13ZWJwYWNrLWludGVybmFsOi8vLy4vc3JjL2xvYWRpbmcyL3BvaW50LWF0dHJpYnV0ZXMudHNcXFxcblxcXCIpO1xcblxcbi8qKiovIH0pXFxuXFxuLyoqKioqKi8gXFx0fSk7XFxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cXG4vKioqKioqLyBcXHQvLyBUaGUgbW9kdWxlIGNhY2hlXFxuLyoqKioqKi8gXFx0dmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xcbi8qKioqKiovIFxcdFxcbi8qKioqKiovIFxcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXFxuLyoqKioqKi8gXFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xcbi8qKioqKiovIFxcdFxcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxcbi8qKioqKiovIFxcdFxcdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xcbi8qKioqKiovIFxcdFxcdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xcbi8qKioqKiovIFxcdFxcdFxcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcXG4vKioqKioqLyBcXHRcXHR9XFxuLyoqKioqKi8gXFx0XFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcXG4vKioqKioqLyBcXHRcXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcXG4vKioqKioqLyBcXHRcXHRcXHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXFxuLyoqKioqKi8gXFx0XFx0XFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcXG4vKioqKioqLyBcXHRcXHRcXHRleHBvcnRzOiB7fVxcbi8qKioqKiovIFxcdFxcdH07XFxuLyoqKioqKi8gXFx0XFxuLyoqKioqKi8gXFx0XFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXFxuLyoqKioqKi8gXFx0XFx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XFxuLyoqKioqKi8gXFx0XFxuLyoqKioqKi8gXFx0XFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcXG4vKioqKioqLyBcXHRcXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XFxuLyoqKioqKi8gXFx0fVxcbi8qKioqKiovIFxcdFxcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXFxuLyoqKioqKi8gXFx0Lyogd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzICovXFxuLyoqKioqKi8gXFx0KCgpID0+IHtcXG4vKioqKioqLyBcXHRcXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXFxuLyoqKioqKi8gXFx0XFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcXG4vKioqKioqLyBcXHRcXHRcXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XFxuLyoqKioqKi8gXFx0XFx0XFx0XFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XFxuLyoqKioqKi8gXFx0XFx0XFx0XFx0XFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcXG4vKioqKioqLyBcXHRcXHRcXHRcXHR9XFxuLyoqKioqKi8gXFx0XFx0XFx0fVxcbi8qKioqKiovIFxcdFxcdH07XFxuLyoqKioqKi8gXFx0fSkoKTtcXG4vKioqKioqLyBcXHRcXG4vKioqKioqLyBcXHQvKiB3ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kICovXFxuLyoqKioqKi8gXFx0KCgpID0+IHtcXG4vKioqKioqLyBcXHRcXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpXFxuLyoqKioqKi8gXFx0fSkoKTtcXG4vKioqKioqLyBcXHRcXG4vKioqKioqLyBcXHQvKiB3ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0ICovXFxuLyoqKioqKi8gXFx0KCgpID0+IHtcXG4vKioqKioqLyBcXHRcXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXFxuLyoqKioqKi8gXFx0XFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcXG4vKioqKioqLyBcXHRcXHRcXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcXG4vKioqKioqLyBcXHRcXHRcXHRcXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcXG4vKioqKioqLyBcXHRcXHRcXHR9XFxuLyoqKioqKi8gXFx0XFx0XFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcXG4vKioqKioqLyBcXHRcXHR9O1xcbi8qKioqKiovIFxcdH0pKCk7XFxuLyoqKioqKi8gXFx0XFxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cXG4vKioqKioqLyBcXHRcXG4vKioqKioqLyBcXHQvLyBzdGFydHVwXFxuLyoqKioqKi8gXFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXFxuLyoqKioqKi8gXFx0Ly8gVGhpcyBlbnRyeSBtb2R1bGUgY2FuJ3QgYmUgaW5saW5lZCBiZWNhdXNlIHRoZSBldmFsLXNvdXJjZS1tYXAgZGV2dG9vbCBpcyB1c2VkLlxcbi8qKioqKiovIFxcdHZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcXFwiLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYi9pbmRleC5qcyEuL3NyYy9sb2FkaW5nMi9kZWNvZGVyLndvcmtlci5qc1xcXCIpO1xcbi8qKioqKiovIFxcdFxcbi8qKioqKiovIH0pKClcXG47XCIsIFwiV29ya2VyXCIsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/loading2/decoder.worker.js\n");

/***/ }),

/***/ "./src/loading2/gltf-decoder.worker.js":
/*!*********************************************!*\
  !*** ./src/loading2/gltf-decoder.worker.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Worker_fn)\n/* harmony export */ });\n/* harmony import */ var _node_modules_worker_loader_dist_runtime_inline_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !!../../node_modules/worker-loader/dist/runtime/inline.js */ \"./node_modules/worker-loader/dist/runtime/inline.js\");\n/* harmony import */ var _node_modules_worker_loader_dist_runtime_inline_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_worker_loader_dist_runtime_inline_js__WEBPACK_IMPORTED_MODULE_0__);\n\n\n\nfunction Worker_fn() {\n  return _node_modules_worker_loader_dist_runtime_inline_js__WEBPACK_IMPORTED_MODULE_0___default()(\"/*\\n * ATTENTION: An \\\"eval-source-map\\\" devtool has been used.\\n * This devtool is neither made for production nor for readable output files.\\n * It uses \\\"eval()\\\" calls to create a separate source file with attached SourceMaps in the browser devtools.\\n * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)\\n * or disable the default devtool with \\\"devtool: false\\\".\\n * If you are looking for production-ready output files, see mode: \\\"production\\\" (https://webpack.js.org/configuration/mode/).\\n */\\n/******/ (() => { // webpackBootstrap\\n/******/ \\t\\\"use strict\\\";\\n/******/ \\tvar __webpack_modules__ = ({\\n\\n/***/ \\\"./node_modules/babel-loader/lib/index.js!./src/loading2/gltf-decoder.worker.js\\\":\\n/*!**************************************************************************************!*\\\\\\n  !*** ./node_modules/babel-loader/lib/index.js!./src/loading2/gltf-decoder.worker.js ***!\\n  \\\\**************************************************************************************/\\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\\n\\neval(\\\"__webpack_require__.r(__webpack_exports__);\\\\n/* harmony import */ var _point_attributes_ts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./point-attributes.ts */ \\\\\\\"./src/loading2/point-attributes.ts\\\\\\\");\\\\nfunction _createForOfIteratorHelper(r, e) { var t = \\\\\\\"undefined\\\\\\\" != typeof Symbol && r[Symbol.iterator] || r[\\\\\\\"@@iterator\\\\\\\"]; if (!t) { if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && \\\\\\\"number\\\\\\\" == typeof r.length) { t && (r = t); var _n = 0, F = function F() {}; return { s: F, n: function n() { return _n >= r.length ? { done: !0 } : { done: !1, value: r[_n++] }; }, e: function e(r) { throw r; }, f: F }; } throw new TypeError(\\\\\\\"Invalid attempt to iterate non-iterable instance.\\\\\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\\\\\\\"); } var o, a = !0, u = !1; return { s: function s() { t = t.call(r); }, n: function n() { var r = t.next(); return a = r.done, r; }, e: function e(r) { u = !0, o = r; }, f: function f() { try { a || null == t.return || t.return(); } finally { if (u) throw o; } } }; }\\\\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\\\\\\\"string\\\\\\\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \\\\\\\"Object\\\\\\\" === t && r.constructor && (t = r.constructor.name), \\\\\\\"Map\\\\\\\" === t || \\\\\\\"Set\\\\\\\" === t ? Array.from(r) : \\\\\\\"Arguments\\\\\\\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\\\\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\\\\n\\\\nvar typedArrayMapping = {\\\\n  'int8': Int8Array,\\\\n  'int16': Int16Array,\\\\n  'int32': Int32Array,\\\\n  'int64': Float64Array,\\\\n  'uint8': Uint8Array,\\\\n  'uint16': Uint16Array,\\\\n  'uint32': Uint32Array,\\\\n  'uint64': Float64Array,\\\\n  'float': Float32Array,\\\\n  'double': Float64Array\\\\n};\\\\nonmessage = function onmessage(event) {\\\\n  var _event$data = event.data,\\\\n    buffer = _event$data.buffer,\\\\n    pointAttributes = _event$data.pointAttributes,\\\\n    scale = _event$data.scale,\\\\n    name = _event$data.name,\\\\n    min = _event$data.min,\\\\n    max = _event$data.max,\\\\n    size = _event$data.size,\\\\n    offset = _event$data.offset,\\\\n    numPoints = _event$data.numPoints;\\\\n  var view = new DataView(buffer);\\\\n  var attributeBuffers = {};\\\\n  var bytesPerPointPosition = 4 * 3;\\\\n  var gridSize = 32;\\\\n  var grid = new Uint32Array(Math.pow(gridSize, 3));\\\\n  var toIndex = function toIndex(x, y, z) {\\\\n    // min is already subtracted\\\\n    var dx = gridSize * x / size.x;\\\\n    var dy = gridSize * y / size.y;\\\\n    var dz = gridSize * z / size.z;\\\\n    var ix = Math.min(parseInt(dx), gridSize - 1);\\\\n    var iy = Math.min(parseInt(dy), gridSize - 1);\\\\n    var iz = Math.min(parseInt(dz), gridSize - 1);\\\\n    var index = ix + iy * gridSize + iz * gridSize * gridSize;\\\\n    return index;\\\\n  };\\\\n  var numOccupiedCells = 0;\\\\n  var tightBoxMin = [Number.POSITIVE_INFINITY, Number.POSITIVE_INFINITY, Number.POSITIVE_INFINITY];\\\\n  var tightBoxMax = [Number.NEGATIVE_INFINITY, Number.NEGATIVE_INFINITY, Number.NEGATIVE_INFINITY];\\\\n  var _iterator = _createForOfIteratorHelper(pointAttributes.attributes),\\\\n    _step;\\\\n  try {\\\\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\\\\n      var pointAttribute = _step.value;\\\\n      if ([\\\\\\\"POSITION_CARTESIAN\\\\\\\", \\\\\\\"position\\\\\\\"].includes(pointAttribute.name)) {\\\\n        var _buff = new ArrayBuffer(numPoints * 4 * 3);\\\\n        var positions = new Float32Array(_buff);\\\\n        for (var _j = 0; _j < numPoints; _j++) {\\\\n          var pointOffset = _j * bytesPerPointPosition;\\\\n          var x = view.getFloat32(pointOffset + 0, true) + offset[0] - min.x;\\\\n          var y = view.getFloat32(pointOffset + 4, true) + offset[1] - min.y;\\\\n          var z = view.getFloat32(pointOffset + 8, true) + offset[2] - min.z;\\\\n          tightBoxMin[0] = Math.min(tightBoxMin[0], x);\\\\n          tightBoxMin[1] = Math.min(tightBoxMin[1], y);\\\\n          tightBoxMin[2] = Math.min(tightBoxMin[2], z);\\\\n          tightBoxMax[0] = Math.max(tightBoxMax[0], x);\\\\n          tightBoxMax[1] = Math.max(tightBoxMax[1], y);\\\\n          tightBoxMax[2] = Math.max(tightBoxMax[2], z);\\\\n          var index = toIndex(x, y, z);\\\\n          var count = grid[index]++;\\\\n          if (count === 0) {\\\\n            numOccupiedCells++;\\\\n          }\\\\n          positions[3 * _j + 0] = x;\\\\n          positions[3 * _j + 1] = y;\\\\n          positions[3 * _j + 2] = z;\\\\n        }\\\\n        attributeBuffers[pointAttribute.name] = {\\\\n          buffer: _buff,\\\\n          attribute: pointAttribute\\\\n        };\\\\n      } else if ([\\\\\\\"RGBA\\\\\\\", \\\\\\\"rgba\\\\\\\"].includes(pointAttribute.name)) {\\\\n        attributeBuffers[pointAttribute.name] = {\\\\n          buffer: buffer.slice(numPoints * bytesPerPointPosition),\\\\n          attribute: pointAttribute\\\\n        };\\\\n      }\\\\n    }\\\\n  } catch (err) {\\\\n    _iterator.e(err);\\\\n  } finally {\\\\n    _iterator.f();\\\\n  }\\\\n  var occupancy = parseInt(numPoints / numOccupiedCells);\\\\n  {\\\\n    // add indices\\\\n    var buff = new ArrayBuffer(numPoints * 4);\\\\n    var indices = new Uint32Array(buff);\\\\n    for (var i = 0; i < numPoints; i++) {\\\\n      indices[i] = i;\\\\n    }\\\\n    attributeBuffers[\\\\\\\"INDICES\\\\\\\"] = {\\\\n      buffer: buff,\\\\n      attribute: _point_attributes_ts__WEBPACK_IMPORTED_MODULE_0__.PointAttribute.INDICES\\\\n    };\\\\n  }\\\\n  {\\\\n    // handle attribute vectors\\\\n    var vectors = pointAttributes.vectors;\\\\n    var _iterator2 = _createForOfIteratorHelper(vectors),\\\\n      _step2;\\\\n    try {\\\\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\\\\n        var vector = _step2.value;\\\\n        var _name = vector.name,\\\\n          attributes = vector.attributes;\\\\n        var numVectorElements = attributes.length;\\\\n        var _buffer = new ArrayBuffer(numVectorElements * numPoints * 4);\\\\n        var f32 = new Float32Array(_buffer);\\\\n        var iElement = 0;\\\\n        var _iterator3 = _createForOfIteratorHelper(attributes),\\\\n          _step3;\\\\n        try {\\\\n          for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\\\\n            var sourceName = _step3.value;\\\\n            var sourceBuffer = attributeBuffers[sourceName];\\\\n            var _offset = sourceBuffer.offset,\\\\n              _scale = sourceBuffer.scale;\\\\n            var _view = new DataView(sourceBuffer.buffer);\\\\n            var getter = _view.getFloat32.bind(_view);\\\\n            for (var j = 0; j < numPoints; j++) {\\\\n              var value = getter(j * 4, true);\\\\n              f32[j * numVectorElements + iElement] = value / _scale + _offset;\\\\n            }\\\\n            iElement++;\\\\n          }\\\\n        } catch (err) {\\\\n          _iterator3.e(err);\\\\n        } finally {\\\\n          _iterator3.f();\\\\n        }\\\\n        var vecAttribute = new _point_attributes_ts__WEBPACK_IMPORTED_MODULE_0__.PointAttribute(_name, _point_attributes_ts__WEBPACK_IMPORTED_MODULE_0__.PointAttributeTypes.DATA_TYPE_FLOAT, 3);\\\\n        attributeBuffers[_name] = {\\\\n          buffer: _buffer,\\\\n          attribute: vecAttribute\\\\n        };\\\\n      }\\\\n    } catch (err) {\\\\n      _iterator2.e(err);\\\\n    } finally {\\\\n      _iterator2.f();\\\\n    }\\\\n  }\\\\n  var message = {\\\\n    buffer: buffer,\\\\n    attributeBuffers: attributeBuffers,\\\\n    density: occupancy,\\\\n    tightBoundingBox: {\\\\n      min: tightBoxMin,\\\\n      max: tightBoxMax\\\\n    }\\\\n  };\\\\n  var transferables = [];\\\\n  for (var property in message.attributeBuffers) {\\\\n    transferables.push(message.attributeBuffers[property].buffer);\\\\n  }\\\\n  transferables.push(buffer);\\\\n  postMessage(message, transferables);\\\\n};//# sourceURL=[module]\\\\n\\\");\\n\\n/***/ }),\\n\\n/***/ \\\"./src/loading2/point-attributes.ts\\\":\\n/*!******************************************!*\\\\\\n  !*** ./src/loading2/point-attributes.ts ***!\\n  \\\\******************************************/\\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\\n\\neval(\\\"__webpack_require__.r(__webpack_exports__);\\\\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\\\\n/* harmony export */   POINT_ATTRIBUTES: () => (/* binding */ POINT_ATTRIBUTES),\\\\n/* harmony export */   PointAttribute: () => (/* binding */ PointAttribute),\\\\n/* harmony export */   PointAttributeTypes: () => (/* binding */ PointAttributeTypes),\\\\n/* harmony export */   PointAttributes: () => (/* binding */ PointAttributes)\\\\n/* harmony export */ });\\\\n/**\\\\n * Some types of possible point attribute data formats\\\\n *\\\\n * @class\\\\n */\\\\nconst PointAttributeTypes = {\\\\n    DATA_TYPE_DOUBLE: { ordinal: 0, name: 'double', size: 8 },\\\\n    DATA_TYPE_FLOAT: { ordinal: 1, name: 'float', size: 4 },\\\\n    DATA_TYPE_INT8: { ordinal: 2, name: 'int8', size: 1 },\\\\n    DATA_TYPE_UINT8: { ordinal: 3, name: 'uint8', size: 1 },\\\\n    DATA_TYPE_INT16: { ordinal: 4, name: 'int16', size: 2 },\\\\n    DATA_TYPE_UINT16: { ordinal: 5, name: 'uint16', size: 2 },\\\\n    DATA_TYPE_INT32: { ordinal: 6, name: 'int32', size: 4 },\\\\n    DATA_TYPE_UINT32: { ordinal: 7, name: 'uint32', size: 4 },\\\\n    DATA_TYPE_INT64: { ordinal: 8, name: 'int64', size: 8 },\\\\n    DATA_TYPE_UINT64: { ordinal: 9, name: 'uint64', size: 8 }\\\\n};\\\\nlet i = 0;\\\\nfor (const obj in PointAttributeTypes) {\\\\n    PointAttributeTypes[i] = PointAttributeTypes[obj];\\\\n    i++;\\\\n}\\\\n\\\\nclass PointAttribute {\\\\n    constructor(name, type, numElements, range = [Infinity, -Infinity], uri = undefined) {\\\\n        this.name = name;\\\\n        this.type = type;\\\\n        this.numElements = numElements;\\\\n        this.range = range;\\\\n        this.uri = uri;\\\\n        this.byteSize = this.numElements * this.type.size;\\\\n        this.description = '';\\\\n    }\\\\n}\\\\n\\\\nconst POINT_ATTRIBUTES = {\\\\n    POSITION_CARTESIAN: new PointAttribute('POSITION_CARTESIAN', PointAttributeTypes.DATA_TYPE_FLOAT, 3),\\\\n    RGBA_PACKED: new PointAttribute('COLOR_PACKED', PointAttributeTypes.DATA_TYPE_INT8, 4),\\\\n    COLOR_PACKED: new PointAttribute('COLOR_PACKED', PointAttributeTypes.DATA_TYPE_INT8, 4),\\\\n    RGB_PACKED: new PointAttribute('COLOR_PACKED', PointAttributeTypes.DATA_TYPE_INT8, 3),\\\\n    NORMAL_FLOATS: new PointAttribute('NORMAL_FLOATS', PointAttributeTypes.DATA_TYPE_FLOAT, 3),\\\\n    INTENSITY: new PointAttribute('INTENSITY', PointAttributeTypes.DATA_TYPE_UINT16, 1),\\\\n    CLASSIFICATION: new PointAttribute('CLASSIFICATION', PointAttributeTypes.DATA_TYPE_UINT8, 1),\\\\n    NORMAL_SPHEREMAPPED: new PointAttribute('NORMAL_SPHEREMAPPED', PointAttributeTypes.DATA_TYPE_UINT8, 2),\\\\n    NORMAL_OCT16: new PointAttribute('NORMAL_OCT16', PointAttributeTypes.DATA_TYPE_UINT8, 2),\\\\n    NORMAL: new PointAttribute('NORMAL', PointAttributeTypes.DATA_TYPE_FLOAT, 3),\\\\n    RETURN_NUMBER: new PointAttribute('RETURN_NUMBER', PointAttributeTypes.DATA_TYPE_UINT8, 1),\\\\n    NUMBER_OF_RETURNS: new PointAttribute('NUMBER_OF_RETURNS', PointAttributeTypes.DATA_TYPE_UINT8, 1),\\\\n    SOURCE_ID: new PointAttribute('SOURCE_ID', PointAttributeTypes.DATA_TYPE_UINT16, 1),\\\\n    INDICES: new PointAttribute('INDICES', PointAttributeTypes.DATA_TYPE_UINT32, 1),\\\\n    SPACING: new PointAttribute('SPACING', PointAttributeTypes.DATA_TYPE_FLOAT, 1),\\\\n    GPS_TIME: new PointAttribute('GPS_TIME', PointAttributeTypes.DATA_TYPE_DOUBLE, 1)\\\\n};\\\\nclass PointAttributes {\\\\n    constructor(pointAttributes, attributes = [], byteSize = 0, size = 0, vectors = []) {\\\\n        this.attributes = attributes;\\\\n        this.byteSize = byteSize;\\\\n        this.size = size;\\\\n        this.vectors = vectors;\\\\n        if (pointAttributes != null) {\\\\n            for (let i = 0; i < pointAttributes.length; i++) {\\\\n                const pointAttributeName = pointAttributes[i];\\\\n                const pointAttribute = POINT_ATTRIBUTES[pointAttributeName];\\\\n                this.attributes.push(pointAttribute);\\\\n                this.byteSize += pointAttribute.byteSize;\\\\n                this.size++;\\\\n            }\\\\n        }\\\\n    }\\\\n    add(pointAttribute) {\\\\n        this.attributes.push(pointAttribute);\\\\n        this.byteSize += pointAttribute.byteSize;\\\\n        this.size++;\\\\n    }\\\\n    addVector(vector) {\\\\n        this.vectors.push(vector);\\\\n    }\\\\n    hasNormals() {\\\\n        for (const name in this.attributes) {\\\\n            const pointAttribute = this.attributes[name];\\\\n            if (pointAttribute === POINT_ATTRIBUTES.NORMAL_SPHEREMAPPED ||\\\\n                pointAttribute === POINT_ATTRIBUTES.NORMAL_FLOATS ||\\\\n                pointAttribute === POINT_ATTRIBUTES.NORMAL ||\\\\n                pointAttribute === POINT_ATTRIBUTES.NORMAL_OCT16) {\\\\n                return true;\\\\n            }\\\\n        }\\\\n        return false;\\\\n    }\\\\n    getAttribute(attributeName) {\\\\n        return this.attributes.find(attr => attr.name === attributeName);\\\\n    }\\\\n}\\\\n//# sourceURL=[module]\\\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbG9hZGluZzIvcG9pbnQtYXR0cmlidXRlcy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcG90cmVlLy4vc3JjL2xvYWRpbmcyL3BvaW50LWF0dHJpYnV0ZXMudHM/ZGNlMCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFNvbWUgdHlwZXMgb2YgcG9zc2libGUgcG9pbnQgYXR0cmlidXRlIGRhdGEgZm9ybWF0c1xuICpcbiAqIEBjbGFzc1xuICovXG5jb25zdCBQb2ludEF0dHJpYnV0ZVR5cGVzID0ge1xuICAgIERBVEFfVFlQRV9ET1VCTEU6IHsgb3JkaW5hbDogMCwgbmFtZTogJ2RvdWJsZScsIHNpemU6IDggfSxcbiAgICBEQVRBX1RZUEVfRkxPQVQ6IHsgb3JkaW5hbDogMSwgbmFtZTogJ2Zsb2F0Jywgc2l6ZTogNCB9LFxuICAgIERBVEFfVFlQRV9JTlQ4OiB7IG9yZGluYWw6IDIsIG5hbWU6ICdpbnQ4Jywgc2l6ZTogMSB9LFxuICAgIERBVEFfVFlQRV9VSU5UODogeyBvcmRpbmFsOiAzLCBuYW1lOiAndWludDgnLCBzaXplOiAxIH0sXG4gICAgREFUQV9UWVBFX0lOVDE2OiB7IG9yZGluYWw6IDQsIG5hbWU6ICdpbnQxNicsIHNpemU6IDIgfSxcbiAgICBEQVRBX1RZUEVfVUlOVDE2OiB7IG9yZGluYWw6IDUsIG5hbWU6ICd1aW50MTYnLCBzaXplOiAyIH0sXG4gICAgREFUQV9UWVBFX0lOVDMyOiB7IG9yZGluYWw6IDYsIG5hbWU6ICdpbnQzMicsIHNpemU6IDQgfSxcbiAgICBEQVRBX1RZUEVfVUlOVDMyOiB7IG9yZGluYWw6IDcsIG5hbWU6ICd1aW50MzInLCBzaXplOiA0IH0sXG4gICAgREFUQV9UWVBFX0lOVDY0OiB7IG9yZGluYWw6IDgsIG5hbWU6ICdpbnQ2NCcsIHNpemU6IDggfSxcbiAgICBEQVRBX1RZUEVfVUlOVDY0OiB7IG9yZGluYWw6IDksIG5hbWU6ICd1aW50NjQnLCBzaXplOiA4IH1cbn07XG5sZXQgaSA9IDA7XG5mb3IgKGNvbnN0IG9iaiBpbiBQb2ludEF0dHJpYnV0ZVR5cGVzKSB7XG4gICAgUG9pbnRBdHRyaWJ1dGVUeXBlc1tpXSA9IFBvaW50QXR0cmlidXRlVHlwZXNbb2JqXTtcbiAgICBpKys7XG59XG5leHBvcnQgeyBQb2ludEF0dHJpYnV0ZVR5cGVzIH07XG5jbGFzcyBQb2ludEF0dHJpYnV0ZSB7XG4gICAgY29uc3RydWN0b3IobmFtZSwgdHlwZSwgbnVtRWxlbWVudHMsIHJhbmdlID0gW0luZmluaXR5LCAtSW5maW5pdHldLCB1cmkgPSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICAgICAgdGhpcy5udW1FbGVtZW50cyA9IG51bUVsZW1lbnRzO1xuICAgICAgICB0aGlzLnJhbmdlID0gcmFuZ2U7XG4gICAgICAgIHRoaXMudXJpID0gdXJpO1xuICAgICAgICB0aGlzLmJ5dGVTaXplID0gdGhpcy5udW1FbGVtZW50cyAqIHRoaXMudHlwZS5zaXplO1xuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gJyc7XG4gICAgfVxufVxuZXhwb3J0IHsgUG9pbnRBdHRyaWJ1dGUgfTtcbmV4cG9ydCBjb25zdCBQT0lOVF9BVFRSSUJVVEVTID0ge1xuICAgIFBPU0lUSU9OX0NBUlRFU0lBTjogbmV3IFBvaW50QXR0cmlidXRlKCdQT1NJVElPTl9DQVJURVNJQU4nLCBQb2ludEF0dHJpYnV0ZVR5cGVzLkRBVEFfVFlQRV9GTE9BVCwgMyksXG4gICAgUkdCQV9QQUNLRUQ6IG5ldyBQb2ludEF0dHJpYnV0ZSgnQ09MT1JfUEFDS0VEJywgUG9pbnRBdHRyaWJ1dGVUeXBlcy5EQVRBX1RZUEVfSU5UOCwgNCksXG4gICAgQ09MT1JfUEFDS0VEOiBuZXcgUG9pbnRBdHRyaWJ1dGUoJ0NPTE9SX1BBQ0tFRCcsIFBvaW50QXR0cmlidXRlVHlwZXMuREFUQV9UWVBFX0lOVDgsIDQpLFxuICAgIFJHQl9QQUNLRUQ6IG5ldyBQb2ludEF0dHJpYnV0ZSgnQ09MT1JfUEFDS0VEJywgUG9pbnRBdHRyaWJ1dGVUeXBlcy5EQVRBX1RZUEVfSU5UOCwgMyksXG4gICAgTk9STUFMX0ZMT0FUUzogbmV3IFBvaW50QXR0cmlidXRlKCdOT1JNQUxfRkxPQVRTJywgUG9pbnRBdHRyaWJ1dGVUeXBlcy5EQVRBX1RZUEVfRkxPQVQsIDMpLFxuICAgIElOVEVOU0lUWTogbmV3IFBvaW50QXR0cmlidXRlKCdJTlRFTlNJVFknLCBQb2ludEF0dHJpYnV0ZVR5cGVzLkRBVEFfVFlQRV9VSU5UMTYsIDEpLFxuICAgIENMQVNTSUZJQ0FUSU9OOiBuZXcgUG9pbnRBdHRyaWJ1dGUoJ0NMQVNTSUZJQ0FUSU9OJywgUG9pbnRBdHRyaWJ1dGVUeXBlcy5EQVRBX1RZUEVfVUlOVDgsIDEpLFxuICAgIE5PUk1BTF9TUEhFUkVNQVBQRUQ6IG5ldyBQb2ludEF0dHJpYnV0ZSgnTk9STUFMX1NQSEVSRU1BUFBFRCcsIFBvaW50QXR0cmlidXRlVHlwZXMuREFUQV9UWVBFX1VJTlQ4LCAyKSxcbiAgICBOT1JNQUxfT0NUMTY6IG5ldyBQb2ludEF0dHJpYnV0ZSgnTk9STUFMX09DVDE2JywgUG9pbnRBdHRyaWJ1dGVUeXBlcy5EQVRBX1RZUEVfVUlOVDgsIDIpLFxuICAgIE5PUk1BTDogbmV3IFBvaW50QXR0cmlidXRlKCdOT1JNQUwnLCBQb2ludEF0dHJpYnV0ZVR5cGVzLkRBVEFfVFlQRV9GTE9BVCwgMyksXG4gICAgUkVUVVJOX05VTUJFUjogbmV3IFBvaW50QXR0cmlidXRlKCdSRVRVUk5fTlVNQkVSJywgUG9pbnRBdHRyaWJ1dGVUeXBlcy5EQVRBX1RZUEVfVUlOVDgsIDEpLFxuICAgIE5VTUJFUl9PRl9SRVRVUk5TOiBuZXcgUG9pbnRBdHRyaWJ1dGUoJ05VTUJFUl9PRl9SRVRVUk5TJywgUG9pbnRBdHRyaWJ1dGVUeXBlcy5EQVRBX1RZUEVfVUlOVDgsIDEpLFxuICAgIFNPVVJDRV9JRDogbmV3IFBvaW50QXR0cmlidXRlKCdTT1VSQ0VfSUQnLCBQb2ludEF0dHJpYnV0ZVR5cGVzLkRBVEFfVFlQRV9VSU5UMTYsIDEpLFxuICAgIElORElDRVM6IG5ldyBQb2ludEF0dHJpYnV0ZSgnSU5ESUNFUycsIFBvaW50QXR0cmlidXRlVHlwZXMuREFUQV9UWVBFX1VJTlQzMiwgMSksXG4gICAgU1BBQ0lORzogbmV3IFBvaW50QXR0cmlidXRlKCdTUEFDSU5HJywgUG9pbnRBdHRyaWJ1dGVUeXBlcy5EQVRBX1RZUEVfRkxPQVQsIDEpLFxuICAgIEdQU19USU1FOiBuZXcgUG9pbnRBdHRyaWJ1dGUoJ0dQU19USU1FJywgUG9pbnRBdHRyaWJ1dGVUeXBlcy5EQVRBX1RZUEVfRE9VQkxFLCAxKVxufTtcbmV4cG9ydCBjbGFzcyBQb2ludEF0dHJpYnV0ZXMge1xuICAgIGNvbnN0cnVjdG9yKHBvaW50QXR0cmlidXRlcywgYXR0cmlidXRlcyA9IFtdLCBieXRlU2l6ZSA9IDAsIHNpemUgPSAwLCB2ZWN0b3JzID0gW10pIHtcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVzID0gYXR0cmlidXRlcztcbiAgICAgICAgdGhpcy5ieXRlU2l6ZSA9IGJ5dGVTaXplO1xuICAgICAgICB0aGlzLnNpemUgPSBzaXplO1xuICAgICAgICB0aGlzLnZlY3RvcnMgPSB2ZWN0b3JzO1xuICAgICAgICBpZiAocG9pbnRBdHRyaWJ1dGVzICE9IG51bGwpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRBdHRyaWJ1dGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcG9pbnRBdHRyaWJ1dGVOYW1lID0gcG9pbnRBdHRyaWJ1dGVzW2ldO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBvaW50QXR0cmlidXRlID0gUE9JTlRfQVRUUklCVVRFU1twb2ludEF0dHJpYnV0ZU5hbWVdO1xuICAgICAgICAgICAgICAgIHRoaXMuYXR0cmlidXRlcy5wdXNoKHBvaW50QXR0cmlidXRlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmJ5dGVTaXplICs9IHBvaW50QXR0cmlidXRlLmJ5dGVTaXplO1xuICAgICAgICAgICAgICAgIHRoaXMuc2l6ZSsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGFkZChwb2ludEF0dHJpYnV0ZSkge1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZXMucHVzaChwb2ludEF0dHJpYnV0ZSk7XG4gICAgICAgIHRoaXMuYnl0ZVNpemUgKz0gcG9pbnRBdHRyaWJ1dGUuYnl0ZVNpemU7XG4gICAgICAgIHRoaXMuc2l6ZSsrO1xuICAgIH1cbiAgICBhZGRWZWN0b3IodmVjdG9yKSB7XG4gICAgICAgIHRoaXMudmVjdG9ycy5wdXNoKHZlY3Rvcik7XG4gICAgfVxuICAgIGhhc05vcm1hbHMoKSB7XG4gICAgICAgIGZvciAoY29uc3QgbmFtZSBpbiB0aGlzLmF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHBvaW50QXR0cmlidXRlID0gdGhpcy5hdHRyaWJ1dGVzW25hbWVdO1xuICAgICAgICAgICAgaWYgKHBvaW50QXR0cmlidXRlID09PSBQT0lOVF9BVFRSSUJVVEVTLk5PUk1BTF9TUEhFUkVNQVBQRUQgfHxcbiAgICAgICAgICAgICAgICBwb2ludEF0dHJpYnV0ZSA9PT0gUE9JTlRfQVRUUklCVVRFUy5OT1JNQUxfRkxPQVRTIHx8XG4gICAgICAgICAgICAgICAgcG9pbnRBdHRyaWJ1dGUgPT09IFBPSU5UX0FUVFJJQlVURVMuTk9STUFMIHx8XG4gICAgICAgICAgICAgICAgcG9pbnRBdHRyaWJ1dGUgPT09IFBPSU5UX0FUVFJJQlVURVMuTk9STUFMX09DVDE2KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBnZXRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5hdHRyaWJ1dGVzLmZpbmQoYXR0ciA9PiBhdHRyLm5hbWUgPT09IGF0dHJpYnV0ZU5hbWUpO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\\\\n//# sourceURL=webpack-internal:///./src/loading2/point-attributes.ts\\\\n\\\");\\n\\n/***/ })\\n\\n/******/ \\t});\\n/************************************************************************/\\n/******/ \\t// The module cache\\n/******/ \\tvar __webpack_module_cache__ = {};\\n/******/ \\t\\n/******/ \\t// The require function\\n/******/ \\tfunction __webpack_require__(moduleId) {\\n/******/ \\t\\t// Check if module is in cache\\n/******/ \\t\\tvar cachedModule = __webpack_module_cache__[moduleId];\\n/******/ \\t\\tif (cachedModule !== undefined) {\\n/******/ \\t\\t\\treturn cachedModule.exports;\\n/******/ \\t\\t}\\n/******/ \\t\\t// Create a new module (and put it into the cache)\\n/******/ \\t\\tvar module = __webpack_module_cache__[moduleId] = {\\n/******/ \\t\\t\\t// no module.id needed\\n/******/ \\t\\t\\t// no module.loaded needed\\n/******/ \\t\\t\\texports: {}\\n/******/ \\t\\t};\\n/******/ \\t\\n/******/ \\t\\t// Execute the module function\\n/******/ \\t\\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\\n/******/ \\t\\n/******/ \\t\\t// Return the exports of the module\\n/******/ \\t\\treturn module.exports;\\n/******/ \\t}\\n/******/ \\t\\n/************************************************************************/\\n/******/ \\t/* webpack/runtime/define property getters */\\n/******/ \\t(() => {\\n/******/ \\t\\t// define getter functions for harmony exports\\n/******/ \\t\\t__webpack_require__.d = (exports, definition) => {\\n/******/ \\t\\t\\tfor(var key in definition) {\\n/******/ \\t\\t\\t\\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\\n/******/ \\t\\t\\t\\t\\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\\n/******/ \\t\\t\\t\\t}\\n/******/ \\t\\t\\t}\\n/******/ \\t\\t};\\n/******/ \\t})();\\n/******/ \\t\\n/******/ \\t/* webpack/runtime/hasOwnProperty shorthand */\\n/******/ \\t(() => {\\n/******/ \\t\\t__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))\\n/******/ \\t})();\\n/******/ \\t\\n/******/ \\t/* webpack/runtime/make namespace object */\\n/******/ \\t(() => {\\n/******/ \\t\\t// define __esModule on exports\\n/******/ \\t\\t__webpack_require__.r = (exports) => {\\n/******/ \\t\\t\\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\\n/******/ \\t\\t\\t\\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\\n/******/ \\t\\t\\t}\\n/******/ \\t\\t\\tObject.defineProperty(exports, '__esModule', { value: true });\\n/******/ \\t\\t};\\n/******/ \\t})();\\n/******/ \\t\\n/************************************************************************/\\n/******/ \\t\\n/******/ \\t// startup\\n/******/ \\t// Load entry module and return exports\\n/******/ \\t// This entry module can't be inlined because the eval-source-map devtool is used.\\n/******/ \\tvar __webpack_exports__ = __webpack_require__(\\\"./node_modules/babel-loader/lib/index.js!./src/loading2/gltf-decoder.worker.js\\\");\\n/******/ \\t\\n/******/ })()\\n;\", \"Worker\", undefined, undefined);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbG9hZGluZzIvZ2x0Zi1kZWNvZGVyLndvcmtlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb3RyZWUvLi9zcmMvbG9hZGluZzIvZ2x0Zi1kZWNvZGVyLndvcmtlci5qcz8yMjQwIl0sInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0IHdvcmtlciBmcm9tIFwiISEuLi8uLi9ub2RlX21vZHVsZXMvd29ya2VyLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5saW5lLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFdvcmtlcl9mbigpIHtcbiAgcmV0dXJuIHdvcmtlcihcIi8qXFxuICogQVRURU5USU9OOiBBbiBcXFwiZXZhbC1zb3VyY2UtbWFwXFxcIiBkZXZ0b29sIGhhcyBiZWVuIHVzZWQuXFxuICogVGhpcyBkZXZ0b29sIGlzIG5laXRoZXIgbWFkZSBmb3IgcHJvZHVjdGlvbiBub3IgZm9yIHJlYWRhYmxlIG91dHB1dCBmaWxlcy5cXG4gKiBJdCB1c2VzIFxcXCJldmFsKClcXFwiIGNhbGxzIHRvIGNyZWF0ZSBhIHNlcGFyYXRlIHNvdXJjZSBmaWxlIHdpdGggYXR0YWNoZWQgU291cmNlTWFwcyBpbiB0aGUgYnJvd3NlciBkZXZ0b29scy5cXG4gKiBJZiB5b3UgYXJlIHRyeWluZyB0byByZWFkIHRoZSBvdXRwdXQgZmlsZSwgc2VsZWN0IGEgZGlmZmVyZW50IGRldnRvb2wgKGh0dHBzOi8vd2VicGFjay5qcy5vcmcvY29uZmlndXJhdGlvbi9kZXZ0b29sLylcXG4gKiBvciBkaXNhYmxlIHRoZSBkZWZhdWx0IGRldnRvb2wgd2l0aCBcXFwiZGV2dG9vbDogZmFsc2VcXFwiLlxcbiAqIElmIHlvdSBhcmUgbG9va2luZyBmb3IgcHJvZHVjdGlvbi1yZWFkeSBvdXRwdXQgZmlsZXMsIHNlZSBtb2RlOiBcXFwicHJvZHVjdGlvblxcXCIgKGh0dHBzOi8vd2VicGFjay5qcy5vcmcvY29uZmlndXJhdGlvbi9tb2RlLykuXFxuICovXFxuLyoqKioqKi8gKCgpID0+IHsgLy8gd2VicGFja0Jvb3RzdHJhcFxcbi8qKioqKiovIFxcdFxcXCJ1c2Ugc3RyaWN0XFxcIjtcXG4vKioqKioqLyBcXHR2YXIgX193ZWJwYWNrX21vZHVsZXNfXyA9ICh7XFxuXFxuLyoqKi8gXFxcIi4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIvaW5kZXguanMhLi9zcmMvbG9hZGluZzIvZ2x0Zi1kZWNvZGVyLndvcmtlci5qc1xcXCI6XFxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXFxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYi9pbmRleC5qcyEuL3NyYy9sb2FkaW5nMi9nbHRmLWRlY29kZXIud29ya2VyLmpzICoqKiFcXG4gIFxcXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cXG4vKioqLyAoKF9fdW51c2VkX3dlYnBhY2tfbW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSA9PiB7XFxuXFxuZXZhbChcXFwiX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xcXFxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9wb2ludF9hdHRyaWJ1dGVzX3RzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3BvaW50LWF0dHJpYnV0ZXMudHMgKi8gXFxcXFxcXCIuL3NyYy9sb2FkaW5nMi9wb2ludC1hdHRyaWJ1dGVzLnRzXFxcXFxcXCIpO1xcXFxuZnVuY3Rpb24gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIociwgZSkgeyB2YXIgdCA9IFxcXFxcXFwidW5kZWZpbmVkXFxcXFxcXCIgIT0gdHlwZW9mIFN5bWJvbCAmJiByW1N5bWJvbC5pdGVyYXRvcl0gfHwgcltcXFxcXFxcIkBAaXRlcmF0b3JcXFxcXFxcIl07IGlmICghdCkgeyBpZiAoQXJyYXkuaXNBcnJheShyKSB8fCAodCA9IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShyKSkgfHwgZSAmJiByICYmIFxcXFxcXFwibnVtYmVyXFxcXFxcXCIgPT0gdHlwZW9mIHIubGVuZ3RoKSB7IHQgJiYgKHIgPSB0KTsgdmFyIF9uID0gMCwgRiA9IGZ1bmN0aW9uIEYoKSB7fTsgcmV0dXJuIHsgczogRiwgbjogZnVuY3Rpb24gbigpIHsgcmV0dXJuIF9uID49IHIubGVuZ3RoID8geyBkb25lOiAhMCB9IDogeyBkb25lOiAhMSwgdmFsdWU6IHJbX24rK10gfTsgfSwgZTogZnVuY3Rpb24gZShyKSB7IHRocm93IHI7IH0sIGY6IEYgfTsgfSB0aHJvdyBuZXcgVHlwZUVycm9yKFxcXFxcXFwiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcXFxcXFxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cXFxcXFxcIik7IH0gdmFyIG8sIGEgPSAhMCwgdSA9ICExOyByZXR1cm4geyBzOiBmdW5jdGlvbiBzKCkgeyB0ID0gdC5jYWxsKHIpOyB9LCBuOiBmdW5jdGlvbiBuKCkgeyB2YXIgciA9IHQubmV4dCgpOyByZXR1cm4gYSA9IHIuZG9uZSwgcjsgfSwgZTogZnVuY3Rpb24gZShyKSB7IHUgPSAhMCwgbyA9IHI7IH0sIGY6IGZ1bmN0aW9uIGYoKSB7IHRyeSB7IGEgfHwgbnVsbCA9PSB0LnJldHVybiB8fCB0LnJldHVybigpOyB9IGZpbmFsbHkgeyBpZiAodSkgdGhyb3cgbzsgfSB9IH07IH1cXFxcbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShyLCBhKSB7IGlmIChyKSB7IGlmIChcXFxcXFxcInN0cmluZ1xcXFxcXFwiID09IHR5cGVvZiByKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkociwgYSk7IHZhciB0ID0ge30udG9TdHJpbmcuY2FsbChyKS5zbGljZSg4LCAtMSk7IHJldHVybiBcXFxcXFxcIk9iamVjdFxcXFxcXFwiID09PSB0ICYmIHIuY29uc3RydWN0b3IgJiYgKHQgPSByLmNvbnN0cnVjdG9yLm5hbWUpLCBcXFxcXFxcIk1hcFxcXFxcXFwiID09PSB0IHx8IFxcXFxcXFwiU2V0XFxcXFxcXCIgPT09IHQgPyBBcnJheS5mcm9tKHIpIDogXFxcXFxcXCJBcmd1bWVudHNcXFxcXFxcIiA9PT0gdCB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdCh0KSA/IF9hcnJheUxpa2VUb0FycmF5KHIsIGEpIDogdm9pZCAwOyB9IH1cXFxcbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KHIsIGEpIHsgKG51bGwgPT0gYSB8fCBhID4gci5sZW5ndGgpICYmIChhID0gci5sZW5ndGgpOyBmb3IgKHZhciBlID0gMCwgbiA9IEFycmF5KGEpOyBlIDwgYTsgZSsrKSBuW2VdID0gcltlXTsgcmV0dXJuIG47IH1cXFxcblxcXFxudmFyIHR5cGVkQXJyYXlNYXBwaW5nID0ge1xcXFxuICAnaW50OCc6IEludDhBcnJheSxcXFxcbiAgJ2ludDE2JzogSW50MTZBcnJheSxcXFxcbiAgJ2ludDMyJzogSW50MzJBcnJheSxcXFxcbiAgJ2ludDY0JzogRmxvYXQ2NEFycmF5LFxcXFxuICAndWludDgnOiBVaW50OEFycmF5LFxcXFxuICAndWludDE2JzogVWludDE2QXJyYXksXFxcXG4gICd1aW50MzInOiBVaW50MzJBcnJheSxcXFxcbiAgJ3VpbnQ2NCc6IEZsb2F0NjRBcnJheSxcXFxcbiAgJ2Zsb2F0JzogRmxvYXQzMkFycmF5LFxcXFxuICAnZG91YmxlJzogRmxvYXQ2NEFycmF5XFxcXG59O1xcXFxub25tZXNzYWdlID0gZnVuY3Rpb24gb25tZXNzYWdlKGV2ZW50KSB7XFxcXG4gIHZhciBfZXZlbnQkZGF0YSA9IGV2ZW50LmRhdGEsXFxcXG4gICAgYnVmZmVyID0gX2V2ZW50JGRhdGEuYnVmZmVyLFxcXFxuICAgIHBvaW50QXR0cmlidXRlcyA9IF9ldmVudCRkYXRhLnBvaW50QXR0cmlidXRlcyxcXFxcbiAgICBzY2FsZSA9IF9ldmVudCRkYXRhLnNjYWxlLFxcXFxuICAgIG5hbWUgPSBfZXZlbnQkZGF0YS5uYW1lLFxcXFxuICAgIG1pbiA9IF9ldmVudCRkYXRhLm1pbixcXFxcbiAgICBtYXggPSBfZXZlbnQkZGF0YS5tYXgsXFxcXG4gICAgc2l6ZSA9IF9ldmVudCRkYXRhLnNpemUsXFxcXG4gICAgb2Zmc2V0ID0gX2V2ZW50JGRhdGEub2Zmc2V0LFxcXFxuICAgIG51bVBvaW50cyA9IF9ldmVudCRkYXRhLm51bVBvaW50cztcXFxcbiAgdmFyIHZpZXcgPSBuZXcgRGF0YVZpZXcoYnVmZmVyKTtcXFxcbiAgdmFyIGF0dHJpYnV0ZUJ1ZmZlcnMgPSB7fTtcXFxcbiAgdmFyIGJ5dGVzUGVyUG9pbnRQb3NpdGlvbiA9IDQgKiAzO1xcXFxuICB2YXIgZ3JpZFNpemUgPSAzMjtcXFxcbiAgdmFyIGdyaWQgPSBuZXcgVWludDMyQXJyYXkoTWF0aC5wb3coZ3JpZFNpemUsIDMpKTtcXFxcbiAgdmFyIHRvSW5kZXggPSBmdW5jdGlvbiB0b0luZGV4KHgsIHksIHopIHtcXFxcbiAgICAvLyBtaW4gaXMgYWxyZWFkeSBzdWJ0cmFjdGVkXFxcXG4gICAgdmFyIGR4ID0gZ3JpZFNpemUgKiB4IC8gc2l6ZS54O1xcXFxuICAgIHZhciBkeSA9IGdyaWRTaXplICogeSAvIHNpemUueTtcXFxcbiAgICB2YXIgZHogPSBncmlkU2l6ZSAqIHogLyBzaXplLno7XFxcXG4gICAgdmFyIGl4ID0gTWF0aC5taW4ocGFyc2VJbnQoZHgpLCBncmlkU2l6ZSAtIDEpO1xcXFxuICAgIHZhciBpeSA9IE1hdGgubWluKHBhcnNlSW50KGR5KSwgZ3JpZFNpemUgLSAxKTtcXFxcbiAgICB2YXIgaXogPSBNYXRoLm1pbihwYXJzZUludChkeiksIGdyaWRTaXplIC0gMSk7XFxcXG4gICAgdmFyIGluZGV4ID0gaXggKyBpeSAqIGdyaWRTaXplICsgaXogKiBncmlkU2l6ZSAqIGdyaWRTaXplO1xcXFxuICAgIHJldHVybiBpbmRleDtcXFxcbiAgfTtcXFxcbiAgdmFyIG51bU9jY3VwaWVkQ2VsbHMgPSAwO1xcXFxuICB2YXIgdGlnaHRCb3hNaW4gPSBbTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLCBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksIE51bWJlci5QT1NJVElWRV9JTkZJTklUWV07XFxcXG4gIHZhciB0aWdodEJveE1heCA9IFtOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksIE51bWJlci5ORUdBVElWRV9JTkZJTklUWSwgTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZXTtcXFxcbiAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHBvaW50QXR0cmlidXRlcy5hdHRyaWJ1dGVzKSxcXFxcbiAgICBfc3RlcDtcXFxcbiAgdHJ5IHtcXFxcbiAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykge1xcXFxuICAgICAgdmFyIHBvaW50QXR0cmlidXRlID0gX3N0ZXAudmFsdWU7XFxcXG4gICAgICBpZiAoW1xcXFxcXFwiUE9TSVRJT05fQ0FSVEVTSUFOXFxcXFxcXCIsIFxcXFxcXFwicG9zaXRpb25cXFxcXFxcIl0uaW5jbHVkZXMocG9pbnRBdHRyaWJ1dGUubmFtZSkpIHtcXFxcbiAgICAgICAgdmFyIF9idWZmID0gbmV3IEFycmF5QnVmZmVyKG51bVBvaW50cyAqIDQgKiAzKTtcXFxcbiAgICAgICAgdmFyIHBvc2l0aW9ucyA9IG5ldyBGbG9hdDMyQXJyYXkoX2J1ZmYpO1xcXFxuICAgICAgICBmb3IgKHZhciBfaiA9IDA7IF9qIDwgbnVtUG9pbnRzOyBfaisrKSB7XFxcXG4gICAgICAgICAgdmFyIHBvaW50T2Zmc2V0ID0gX2ogKiBieXRlc1BlclBvaW50UG9zaXRpb247XFxcXG4gICAgICAgICAgdmFyIHggPSB2aWV3LmdldEZsb2F0MzIocG9pbnRPZmZzZXQgKyAwLCB0cnVlKSArIG9mZnNldFswXSAtIG1pbi54O1xcXFxuICAgICAgICAgIHZhciB5ID0gdmlldy5nZXRGbG9hdDMyKHBvaW50T2Zmc2V0ICsgNCwgdHJ1ZSkgKyBvZmZzZXRbMV0gLSBtaW4ueTtcXFxcbiAgICAgICAgICB2YXIgeiA9IHZpZXcuZ2V0RmxvYXQzMihwb2ludE9mZnNldCArIDgsIHRydWUpICsgb2Zmc2V0WzJdIC0gbWluLno7XFxcXG4gICAgICAgICAgdGlnaHRCb3hNaW5bMF0gPSBNYXRoLm1pbih0aWdodEJveE1pblswXSwgeCk7XFxcXG4gICAgICAgICAgdGlnaHRCb3hNaW5bMV0gPSBNYXRoLm1pbih0aWdodEJveE1pblsxXSwgeSk7XFxcXG4gICAgICAgICAgdGlnaHRCb3hNaW5bMl0gPSBNYXRoLm1pbih0aWdodEJveE1pblsyXSwgeik7XFxcXG4gICAgICAgICAgdGlnaHRCb3hNYXhbMF0gPSBNYXRoLm1heCh0aWdodEJveE1heFswXSwgeCk7XFxcXG4gICAgICAgICAgdGlnaHRCb3hNYXhbMV0gPSBNYXRoLm1heCh0aWdodEJveE1heFsxXSwgeSk7XFxcXG4gICAgICAgICAgdGlnaHRCb3hNYXhbMl0gPSBNYXRoLm1heCh0aWdodEJveE1heFsyXSwgeik7XFxcXG4gICAgICAgICAgdmFyIGluZGV4ID0gdG9JbmRleCh4LCB5LCB6KTtcXFxcbiAgICAgICAgICB2YXIgY291bnQgPSBncmlkW2luZGV4XSsrO1xcXFxuICAgICAgICAgIGlmIChjb3VudCA9PT0gMCkge1xcXFxuICAgICAgICAgICAgbnVtT2NjdXBpZWRDZWxscysrO1xcXFxuICAgICAgICAgIH1cXFxcbiAgICAgICAgICBwb3NpdGlvbnNbMyAqIF9qICsgMF0gPSB4O1xcXFxuICAgICAgICAgIHBvc2l0aW9uc1szICogX2ogKyAxXSA9IHk7XFxcXG4gICAgICAgICAgcG9zaXRpb25zWzMgKiBfaiArIDJdID0gejtcXFxcbiAgICAgICAgfVxcXFxuICAgICAgICBhdHRyaWJ1dGVCdWZmZXJzW3BvaW50QXR0cmlidXRlLm5hbWVdID0ge1xcXFxuICAgICAgICAgIGJ1ZmZlcjogX2J1ZmYsXFxcXG4gICAgICAgICAgYXR0cmlidXRlOiBwb2ludEF0dHJpYnV0ZVxcXFxuICAgICAgICB9O1xcXFxuICAgICAgfSBlbHNlIGlmIChbXFxcXFxcXCJSR0JBXFxcXFxcXCIsIFxcXFxcXFwicmdiYVxcXFxcXFwiXS5pbmNsdWRlcyhwb2ludEF0dHJpYnV0ZS5uYW1lKSkge1xcXFxuICAgICAgICBhdHRyaWJ1dGVCdWZmZXJzW3BvaW50QXR0cmlidXRlLm5hbWVdID0ge1xcXFxuICAgICAgICAgIGJ1ZmZlcjogYnVmZmVyLnNsaWNlKG51bVBvaW50cyAqIGJ5dGVzUGVyUG9pbnRQb3NpdGlvbiksXFxcXG4gICAgICAgICAgYXR0cmlidXRlOiBwb2ludEF0dHJpYnV0ZVxcXFxuICAgICAgICB9O1xcXFxuICAgICAgfVxcXFxuICAgIH1cXFxcbiAgfSBjYXRjaCAoZXJyKSB7XFxcXG4gICAgX2l0ZXJhdG9yLmUoZXJyKTtcXFxcbiAgfSBmaW5hbGx5IHtcXFxcbiAgICBfaXRlcmF0b3IuZigpO1xcXFxuICB9XFxcXG4gIHZhciBvY2N1cGFuY3kgPSBwYXJzZUludChudW1Qb2ludHMgLyBudW1PY2N1cGllZENlbGxzKTtcXFxcbiAge1xcXFxuICAgIC8vIGFkZCBpbmRpY2VzXFxcXG4gICAgdmFyIGJ1ZmYgPSBuZXcgQXJyYXlCdWZmZXIobnVtUG9pbnRzICogNCk7XFxcXG4gICAgdmFyIGluZGljZXMgPSBuZXcgVWludDMyQXJyYXkoYnVmZik7XFxcXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1Qb2ludHM7IGkrKykge1xcXFxuICAgICAgaW5kaWNlc1tpXSA9IGk7XFxcXG4gICAgfVxcXFxuICAgIGF0dHJpYnV0ZUJ1ZmZlcnNbXFxcXFxcXCJJTkRJQ0VTXFxcXFxcXCJdID0ge1xcXFxuICAgICAgYnVmZmVyOiBidWZmLFxcXFxuICAgICAgYXR0cmlidXRlOiBfcG9pbnRfYXR0cmlidXRlc190c19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fLlBvaW50QXR0cmlidXRlLklORElDRVNcXFxcbiAgICB9O1xcXFxuICB9XFxcXG4gIHtcXFxcbiAgICAvLyBoYW5kbGUgYXR0cmlidXRlIHZlY3RvcnNcXFxcbiAgICB2YXIgdmVjdG9ycyA9IHBvaW50QXR0cmlidXRlcy52ZWN0b3JzO1xcXFxuICAgIHZhciBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIodmVjdG9ycyksXFxcXG4gICAgICBfc3RlcDI7XFxcXG4gICAgdHJ5IHtcXFxcbiAgICAgIGZvciAoX2l0ZXJhdG9yMi5zKCk7ICEoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uKCkpLmRvbmU7KSB7XFxcXG4gICAgICAgIHZhciB2ZWN0b3IgPSBfc3RlcDIudmFsdWU7XFxcXG4gICAgICAgIHZhciBfbmFtZSA9IHZlY3Rvci5uYW1lLFxcXFxuICAgICAgICAgIGF0dHJpYnV0ZXMgPSB2ZWN0b3IuYXR0cmlidXRlcztcXFxcbiAgICAgICAgdmFyIG51bVZlY3RvckVsZW1lbnRzID0gYXR0cmlidXRlcy5sZW5ndGg7XFxcXG4gICAgICAgIHZhciBfYnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKG51bVZlY3RvckVsZW1lbnRzICogbnVtUG9pbnRzICogNCk7XFxcXG4gICAgICAgIHZhciBmMzIgPSBuZXcgRmxvYXQzMkFycmF5KF9idWZmZXIpO1xcXFxuICAgICAgICB2YXIgaUVsZW1lbnQgPSAwO1xcXFxuICAgICAgICB2YXIgX2l0ZXJhdG9yMyA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGF0dHJpYnV0ZXMpLFxcXFxuICAgICAgICAgIF9zdGVwMztcXFxcbiAgICAgICAgdHJ5IHtcXFxcbiAgICAgICAgICBmb3IgKF9pdGVyYXRvcjMucygpOyAhKF9zdGVwMyA9IF9pdGVyYXRvcjMubigpKS5kb25lOykge1xcXFxuICAgICAgICAgICAgdmFyIHNvdXJjZU5hbWUgPSBfc3RlcDMudmFsdWU7XFxcXG4gICAgICAgICAgICB2YXIgc291cmNlQnVmZmVyID0gYXR0cmlidXRlQnVmZmVyc1tzb3VyY2VOYW1lXTtcXFxcbiAgICAgICAgICAgIHZhciBfb2Zmc2V0ID0gc291cmNlQnVmZmVyLm9mZnNldCxcXFxcbiAgICAgICAgICAgICAgX3NjYWxlID0gc291cmNlQnVmZmVyLnNjYWxlO1xcXFxuICAgICAgICAgICAgdmFyIF92aWV3ID0gbmV3IERhdGFWaWV3KHNvdXJjZUJ1ZmZlci5idWZmZXIpO1xcXFxuICAgICAgICAgICAgdmFyIGdldHRlciA9IF92aWV3LmdldEZsb2F0MzIuYmluZChfdmlldyk7XFxcXG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG51bVBvaW50czsgaisrKSB7XFxcXG4gICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGdldHRlcihqICogNCwgdHJ1ZSk7XFxcXG4gICAgICAgICAgICAgIGYzMltqICogbnVtVmVjdG9yRWxlbWVudHMgKyBpRWxlbWVudF0gPSB2YWx1ZSAvIF9zY2FsZSArIF9vZmZzZXQ7XFxcXG4gICAgICAgICAgICB9XFxcXG4gICAgICAgICAgICBpRWxlbWVudCsrO1xcXFxuICAgICAgICAgIH1cXFxcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XFxcXG4gICAgICAgICAgX2l0ZXJhdG9yMy5lKGVycik7XFxcXG4gICAgICAgIH0gZmluYWxseSB7XFxcXG4gICAgICAgICAgX2l0ZXJhdG9yMy5mKCk7XFxcXG4gICAgICAgIH1cXFxcbiAgICAgICAgdmFyIHZlY0F0dHJpYnV0ZSA9IG5ldyBfcG9pbnRfYXR0cmlidXRlc190c19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fLlBvaW50QXR0cmlidXRlKF9uYW1lLCBfcG9pbnRfYXR0cmlidXRlc190c19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fLlBvaW50QXR0cmlidXRlVHlwZXMuREFUQV9UWVBFX0ZMT0FULCAzKTtcXFxcbiAgICAgICAgYXR0cmlidXRlQnVmZmVyc1tfbmFtZV0gPSB7XFxcXG4gICAgICAgICAgYnVmZmVyOiBfYnVmZmVyLFxcXFxuICAgICAgICAgIGF0dHJpYnV0ZTogdmVjQXR0cmlidXRlXFxcXG4gICAgICAgIH07XFxcXG4gICAgICB9XFxcXG4gICAgfSBjYXRjaCAoZXJyKSB7XFxcXG4gICAgICBfaXRlcmF0b3IyLmUoZXJyKTtcXFxcbiAgICB9IGZpbmFsbHkge1xcXFxuICAgICAgX2l0ZXJhdG9yMi5mKCk7XFxcXG4gICAgfVxcXFxuICB9XFxcXG4gIHZhciBtZXNzYWdlID0ge1xcXFxuICAgIGJ1ZmZlcjogYnVmZmVyLFxcXFxuICAgIGF0dHJpYnV0ZUJ1ZmZlcnM6IGF0dHJpYnV0ZUJ1ZmZlcnMsXFxcXG4gICAgZGVuc2l0eTogb2NjdXBhbmN5LFxcXFxuICAgIHRpZ2h0Qm91bmRpbmdCb3g6IHtcXFxcbiAgICAgIG1pbjogdGlnaHRCb3hNaW4sXFxcXG4gICAgICBtYXg6IHRpZ2h0Qm94TWF4XFxcXG4gICAgfVxcXFxuICB9O1xcXFxuICB2YXIgdHJhbnNmZXJhYmxlcyA9IFtdO1xcXFxuICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBtZXNzYWdlLmF0dHJpYnV0ZUJ1ZmZlcnMpIHtcXFxcbiAgICB0cmFuc2ZlcmFibGVzLnB1c2gobWVzc2FnZS5hdHRyaWJ1dGVCdWZmZXJzW3Byb3BlcnR5XS5idWZmZXIpO1xcXFxuICB9XFxcXG4gIHRyYW5zZmVyYWJsZXMucHVzaChidWZmZXIpO1xcXFxuICBwb3N0TWVzc2FnZShtZXNzYWdlLCB0cmFuc2ZlcmFibGVzKTtcXFxcbn07Ly8jIHNvdXJjZVVSTD1bbW9kdWxlXVxcXFxuXFxcIik7XFxuXFxuLyoqKi8gfSksXFxuXFxuLyoqKi8gXFxcIi4vc3JjL2xvYWRpbmcyL3BvaW50LWF0dHJpYnV0ZXMudHNcXFwiOlxcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcXFxcbiAgISoqKiAuL3NyYy9sb2FkaW5nMi9wb2ludC1hdHRyaWJ1dGVzLnRzICoqKiFcXG4gIFxcXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXFxuLyoqKi8gKChfX3VudXNlZF93ZWJwYWNrX21vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykgPT4ge1xcblxcbmV2YWwoXFxcIl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcXFxcbi8qIGhhcm1vbnkgZXhwb3J0ICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCB7XFxcXG4vKiBoYXJtb255IGV4cG9ydCAqLyAgIFBPSU5UX0FUVFJJQlVURVM6ICgpID0+ICgvKiBiaW5kaW5nICovIFBPSU5UX0FUVFJJQlVURVMpLFxcXFxuLyogaGFybW9ueSBleHBvcnQgKi8gICBQb2ludEF0dHJpYnV0ZTogKCkgPT4gKC8qIGJpbmRpbmcgKi8gUG9pbnRBdHRyaWJ1dGUpLFxcXFxuLyogaGFybW9ueSBleHBvcnQgKi8gICBQb2ludEF0dHJpYnV0ZVR5cGVzOiAoKSA9PiAoLyogYmluZGluZyAqLyBQb2ludEF0dHJpYnV0ZVR5cGVzKSxcXFxcbi8qIGhhcm1vbnkgZXhwb3J0ICovICAgUG9pbnRBdHRyaWJ1dGVzOiAoKSA9PiAoLyogYmluZGluZyAqLyBQb2ludEF0dHJpYnV0ZXMpXFxcXG4vKiBoYXJtb255IGV4cG9ydCAqLyB9KTtcXFxcbi8qKlxcXFxuICogU29tZSB0eXBlcyBvZiBwb3NzaWJsZSBwb2ludCBhdHRyaWJ1dGUgZGF0YSBmb3JtYXRzXFxcXG4gKlxcXFxuICogQGNsYXNzXFxcXG4gKi9cXFxcbmNvbnN0IFBvaW50QXR0cmlidXRlVHlwZXMgPSB7XFxcXG4gICAgREFUQV9UWVBFX0RPVUJMRTogeyBvcmRpbmFsOiAwLCBuYW1lOiAnZG91YmxlJywgc2l6ZTogOCB9LFxcXFxuICAgIERBVEFfVFlQRV9GTE9BVDogeyBvcmRpbmFsOiAxLCBuYW1lOiAnZmxvYXQnLCBzaXplOiA0IH0sXFxcXG4gICAgREFUQV9UWVBFX0lOVDg6IHsgb3JkaW5hbDogMiwgbmFtZTogJ2ludDgnLCBzaXplOiAxIH0sXFxcXG4gICAgREFUQV9UWVBFX1VJTlQ4OiB7IG9yZGluYWw6IDMsIG5hbWU6ICd1aW50OCcsIHNpemU6IDEgfSxcXFxcbiAgICBEQVRBX1RZUEVfSU5UMTY6IHsgb3JkaW5hbDogNCwgbmFtZTogJ2ludDE2Jywgc2l6ZTogMiB9LFxcXFxuICAgIERBVEFfVFlQRV9VSU5UMTY6IHsgb3JkaW5hbDogNSwgbmFtZTogJ3VpbnQxNicsIHNpemU6IDIgfSxcXFxcbiAgICBEQVRBX1RZUEVfSU5UMzI6IHsgb3JkaW5hbDogNiwgbmFtZTogJ2ludDMyJywgc2l6ZTogNCB9LFxcXFxuICAgIERBVEFfVFlQRV9VSU5UMzI6IHsgb3JkaW5hbDogNywgbmFtZTogJ3VpbnQzMicsIHNpemU6IDQgfSxcXFxcbiAgICBEQVRBX1RZUEVfSU5UNjQ6IHsgb3JkaW5hbDogOCwgbmFtZTogJ2ludDY0Jywgc2l6ZTogOCB9LFxcXFxuICAgIERBVEFfVFlQRV9VSU5UNjQ6IHsgb3JkaW5hbDogOSwgbmFtZTogJ3VpbnQ2NCcsIHNpemU6IDggfVxcXFxufTtcXFxcbmxldCBpID0gMDtcXFxcbmZvciAoY29uc3Qgb2JqIGluIFBvaW50QXR0cmlidXRlVHlwZXMpIHtcXFxcbiAgICBQb2ludEF0dHJpYnV0ZVR5cGVzW2ldID0gUG9pbnRBdHRyaWJ1dGVUeXBlc1tvYmpdO1xcXFxuICAgIGkrKztcXFxcbn1cXFxcblxcXFxuY2xhc3MgUG9pbnRBdHRyaWJ1dGUge1xcXFxuICAgIGNvbnN0cnVjdG9yKG5hbWUsIHR5cGUsIG51bUVsZW1lbnRzLCByYW5nZSA9IFtJbmZpbml0eSwgLUluZmluaXR5XSwgdXJpID0gdW5kZWZpbmVkKSB7XFxcXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XFxcXG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XFxcXG4gICAgICAgIHRoaXMubnVtRWxlbWVudHMgPSBudW1FbGVtZW50cztcXFxcbiAgICAgICAgdGhpcy5yYW5nZSA9IHJhbmdlO1xcXFxuICAgICAgICB0aGlzLnVyaSA9IHVyaTtcXFxcbiAgICAgICAgdGhpcy5ieXRlU2l6ZSA9IHRoaXMubnVtRWxlbWVudHMgKiB0aGlzLnR5cGUuc2l6ZTtcXFxcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9ICcnO1xcXFxuICAgIH1cXFxcbn1cXFxcblxcXFxuY29uc3QgUE9JTlRfQVRUUklCVVRFUyA9IHtcXFxcbiAgICBQT1NJVElPTl9DQVJURVNJQU46IG5ldyBQb2ludEF0dHJpYnV0ZSgnUE9TSVRJT05fQ0FSVEVTSUFOJywgUG9pbnRBdHRyaWJ1dGVUeXBlcy5EQVRBX1RZUEVfRkxPQVQsIDMpLFxcXFxuICAgIFJHQkFfUEFDS0VEOiBuZXcgUG9pbnRBdHRyaWJ1dGUoJ0NPTE9SX1BBQ0tFRCcsIFBvaW50QXR0cmlidXRlVHlwZXMuREFUQV9UWVBFX0lOVDgsIDQpLFxcXFxuICAgIENPTE9SX1BBQ0tFRDogbmV3IFBvaW50QXR0cmlidXRlKCdDT0xPUl9QQUNLRUQnLCBQb2ludEF0dHJpYnV0ZVR5cGVzLkRBVEFfVFlQRV9JTlQ4LCA0KSxcXFxcbiAgICBSR0JfUEFDS0VEOiBuZXcgUG9pbnRBdHRyaWJ1dGUoJ0NPTE9SX1BBQ0tFRCcsIFBvaW50QXR0cmlidXRlVHlwZXMuREFUQV9UWVBFX0lOVDgsIDMpLFxcXFxuICAgIE5PUk1BTF9GTE9BVFM6IG5ldyBQb2ludEF0dHJpYnV0ZSgnTk9STUFMX0ZMT0FUUycsIFBvaW50QXR0cmlidXRlVHlwZXMuREFUQV9UWVBFX0ZMT0FULCAzKSxcXFxcbiAgICBJTlRFTlNJVFk6IG5ldyBQb2ludEF0dHJpYnV0ZSgnSU5URU5TSVRZJywgUG9pbnRBdHRyaWJ1dGVUeXBlcy5EQVRBX1RZUEVfVUlOVDE2LCAxKSxcXFxcbiAgICBDTEFTU0lGSUNBVElPTjogbmV3IFBvaW50QXR0cmlidXRlKCdDTEFTU0lGSUNBVElPTicsIFBvaW50QXR0cmlidXRlVHlwZXMuREFUQV9UWVBFX1VJTlQ4LCAxKSxcXFxcbiAgICBOT1JNQUxfU1BIRVJFTUFQUEVEOiBuZXcgUG9pbnRBdHRyaWJ1dGUoJ05PUk1BTF9TUEhFUkVNQVBQRUQnLCBQb2ludEF0dHJpYnV0ZVR5cGVzLkRBVEFfVFlQRV9VSU5UOCwgMiksXFxcXG4gICAgTk9STUFMX09DVDE2OiBuZXcgUG9pbnRBdHRyaWJ1dGUoJ05PUk1BTF9PQ1QxNicsIFBvaW50QXR0cmlidXRlVHlwZXMuREFUQV9UWVBFX1VJTlQ4LCAyKSxcXFxcbiAgICBOT1JNQUw6IG5ldyBQb2ludEF0dHJpYnV0ZSgnTk9STUFMJywgUG9pbnRBdHRyaWJ1dGVUeXBlcy5EQVRBX1RZUEVfRkxPQVQsIDMpLFxcXFxuICAgIFJFVFVSTl9OVU1CRVI6IG5ldyBQb2ludEF0dHJpYnV0ZSgnUkVUVVJOX05VTUJFUicsIFBvaW50QXR0cmlidXRlVHlwZXMuREFUQV9UWVBFX1VJTlQ4LCAxKSxcXFxcbiAgICBOVU1CRVJfT0ZfUkVUVVJOUzogbmV3IFBvaW50QXR0cmlidXRlKCdOVU1CRVJfT0ZfUkVUVVJOUycsIFBvaW50QXR0cmlidXRlVHlwZXMuREFUQV9UWVBFX1VJTlQ4LCAxKSxcXFxcbiAgICBTT1VSQ0VfSUQ6IG5ldyBQb2ludEF0dHJpYnV0ZSgnU09VUkNFX0lEJywgUG9pbnRBdHRyaWJ1dGVUeXBlcy5EQVRBX1RZUEVfVUlOVDE2LCAxKSxcXFxcbiAgICBJTkRJQ0VTOiBuZXcgUG9pbnRBdHRyaWJ1dGUoJ0lORElDRVMnLCBQb2ludEF0dHJpYnV0ZVR5cGVzLkRBVEFfVFlQRV9VSU5UMzIsIDEpLFxcXFxuICAgIFNQQUNJTkc6IG5ldyBQb2ludEF0dHJpYnV0ZSgnU1BBQ0lORycsIFBvaW50QXR0cmlidXRlVHlwZXMuREFUQV9UWVBFX0ZMT0FULCAxKSxcXFxcbiAgICBHUFNfVElNRTogbmV3IFBvaW50QXR0cmlidXRlKCdHUFNfVElNRScsIFBvaW50QXR0cmlidXRlVHlwZXMuREFUQV9UWVBFX0RPVUJMRSwgMSlcXFxcbn07XFxcXG5jbGFzcyBQb2ludEF0dHJpYnV0ZXMge1xcXFxuICAgIGNvbnN0cnVjdG9yKHBvaW50QXR0cmlidXRlcywgYXR0cmlidXRlcyA9IFtdLCBieXRlU2l6ZSA9IDAsIHNpemUgPSAwLCB2ZWN0b3JzID0gW10pIHtcXFxcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVzID0gYXR0cmlidXRlcztcXFxcbiAgICAgICAgdGhpcy5ieXRlU2l6ZSA9IGJ5dGVTaXplO1xcXFxuICAgICAgICB0aGlzLnNpemUgPSBzaXplO1xcXFxuICAgICAgICB0aGlzLnZlY3RvcnMgPSB2ZWN0b3JzO1xcXFxuICAgICAgICBpZiAocG9pbnRBdHRyaWJ1dGVzICE9IG51bGwpIHtcXFxcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRBdHRyaWJ1dGVzLmxlbmd0aDsgaSsrKSB7XFxcXG4gICAgICAgICAgICAgICAgY29uc3QgcG9pbnRBdHRyaWJ1dGVOYW1lID0gcG9pbnRBdHRyaWJ1dGVzW2ldO1xcXFxuICAgICAgICAgICAgICAgIGNvbnN0IHBvaW50QXR0cmlidXRlID0gUE9JTlRfQVRUUklCVVRFU1twb2ludEF0dHJpYnV0ZU5hbWVdO1xcXFxuICAgICAgICAgICAgICAgIHRoaXMuYXR0cmlidXRlcy5wdXNoKHBvaW50QXR0cmlidXRlKTtcXFxcbiAgICAgICAgICAgICAgICB0aGlzLmJ5dGVTaXplICs9IHBvaW50QXR0cmlidXRlLmJ5dGVTaXplO1xcXFxuICAgICAgICAgICAgICAgIHRoaXMuc2l6ZSsrO1xcXFxuICAgICAgICAgICAgfVxcXFxuICAgICAgICB9XFxcXG4gICAgfVxcXFxuICAgIGFkZChwb2ludEF0dHJpYnV0ZSkge1xcXFxuICAgICAgICB0aGlzLmF0dHJpYnV0ZXMucHVzaChwb2ludEF0dHJpYnV0ZSk7XFxcXG4gICAgICAgIHRoaXMuYnl0ZVNpemUgKz0gcG9pbnRBdHRyaWJ1dGUuYnl0ZVNpemU7XFxcXG4gICAgICAgIHRoaXMuc2l6ZSsrO1xcXFxuICAgIH1cXFxcbiAgICBhZGRWZWN0b3IodmVjdG9yKSB7XFxcXG4gICAgICAgIHRoaXMudmVjdG9ycy5wdXNoKHZlY3Rvcik7XFxcXG4gICAgfVxcXFxuICAgIGhhc05vcm1hbHMoKSB7XFxcXG4gICAgICAgIGZvciAoY29uc3QgbmFtZSBpbiB0aGlzLmF0dHJpYnV0ZXMpIHtcXFxcbiAgICAgICAgICAgIGNvbnN0IHBvaW50QXR0cmlidXRlID0gdGhpcy5hdHRyaWJ1dGVzW25hbWVdO1xcXFxuICAgICAgICAgICAgaWYgKHBvaW50QXR0cmlidXRlID09PSBQT0lOVF9BVFRSSUJVVEVTLk5PUk1BTF9TUEhFUkVNQVBQRUQgfHxcXFxcbiAgICAgICAgICAgICAgICBwb2ludEF0dHJpYnV0ZSA9PT0gUE9JTlRfQVRUUklCVVRFUy5OT1JNQUxfRkxPQVRTIHx8XFxcXG4gICAgICAgICAgICAgICAgcG9pbnRBdHRyaWJ1dGUgPT09IFBPSU5UX0FUVFJJQlVURVMuTk9STUFMIHx8XFxcXG4gICAgICAgICAgICAgICAgcG9pbnRBdHRyaWJ1dGUgPT09IFBPSU5UX0FUVFJJQlVURVMuTk9STUFMX09DVDE2KSB7XFxcXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XFxcXG4gICAgICAgICAgICB9XFxcXG4gICAgICAgIH1cXFxcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xcXFxuICAgIH1cXFxcbiAgICBnZXRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSkge1xcXFxuICAgICAgICByZXR1cm4gdGhpcy5hdHRyaWJ1dGVzLmZpbmQoYXR0ciA9PiBhdHRyLm5hbWUgPT09IGF0dHJpYnV0ZU5hbWUpO1xcXFxuICAgIH1cXFxcbn1cXFxcbi8vIyBzb3VyY2VVUkw9W21vZHVsZV1cXFxcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKbWFXeGxJam9pTGk5emNtTXZiRzloWkdsdVp6SXZjRzlwYm5RdFlYUjBjbWxpZFhSbGN5NTBjeUlzSW0xaGNIQnBibWR6SWpvaU96czdPenM3TzBGQlFVRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJJaXdpYzI5MWNtTmxjeUk2V3lKM1pXSndZV05yT2k4dmNHOTBjbVZsTHk0dmMzSmpMMnh2WVdScGJtY3lMM0J2YVc1MExXRjBkSEpwWW5WMFpYTXVkSE0vWkdObE1DSmRMQ0p6YjNWeVkyVnpRMjl1ZEdWdWRDSTZXeUl2S2lwY2JpQXFJRk52YldVZ2RIbHdaWE1nYjJZZ2NHOXpjMmxpYkdVZ2NHOXBiblFnWVhSMGNtbGlkWFJsSUdSaGRHRWdabTl5YldGMGMxeHVJQ3BjYmlBcUlFQmpiR0Z6YzF4dUlDb3ZYRzVqYjI1emRDQlFiMmx1ZEVGMGRISnBZblYwWlZSNWNHVnpJRDBnZTF4dUlDQWdJRVJCVkVGZlZGbFFSVjlFVDFWQ1RFVTZJSHNnYjNKa2FXNWhiRG9nTUN3Z2JtRnRaVG9nSjJSdmRXSnNaU2NzSUhOcGVtVTZJRGdnZlN4Y2JpQWdJQ0JFUVZSQlgxUlpVRVZmUmt4UFFWUTZJSHNnYjNKa2FXNWhiRG9nTVN3Z2JtRnRaVG9nSjJac2IyRjBKeXdnYzJsNlpUb2dOQ0I5TEZ4dUlDQWdJRVJCVkVGZlZGbFFSVjlKVGxRNE9pQjdJRzl5WkdsdVlXdzZJRElzSUc1aGJXVTZJQ2RwYm5RNEp5d2djMmw2WlRvZ01TQjlMRnh1SUNBZ0lFUkJWRUZmVkZsUVJWOVZTVTVVT0RvZ2V5QnZjbVJwYm1Gc09pQXpMQ0J1WVcxbE9pQW5kV2x1ZERnbkxDQnphWHBsT2lBeElIMHNYRzRnSUNBZ1JFRlVRVjlVV1ZCRlgwbE9WREUyT2lCN0lHOXlaR2x1WVd3NklEUXNJRzVoYldVNklDZHBiblF4Tmljc0lITnBlbVU2SURJZ2ZTeGNiaUFnSUNCRVFWUkJYMVJaVUVWZlZVbE9WREUyT2lCN0lHOXlaR2x1WVd3NklEVXNJRzVoYldVNklDZDFhVzUwTVRZbkxDQnphWHBsT2lBeUlIMHNYRzRnSUNBZ1JFRlVRVjlVV1ZCRlgwbE9WRE15T2lCN0lHOXlaR2x1WVd3NklEWXNJRzVoYldVNklDZHBiblF6TWljc0lITnBlbVU2SURRZ2ZTeGNiaUFnSUNCRVFWUkJYMVJaVUVWZlZVbE9WRE15T2lCN0lHOXlaR2x1WVd3NklEY3NJRzVoYldVNklDZDFhVzUwTXpJbkxDQnphWHBsT2lBMElIMHNYRzRnSUNBZ1JFRlVRVjlVV1ZCRlgwbE9WRFkwT2lCN0lHOXlaR2x1WVd3NklEZ3NJRzVoYldVNklDZHBiblEyTkNjc0lITnBlbVU2SURnZ2ZTeGNiaUFnSUNCRVFWUkJYMVJaVUVWZlZVbE9WRFkwT2lCN0lHOXlaR2x1WVd3NklEa3NJRzVoYldVNklDZDFhVzUwTmpRbkxDQnphWHBsT2lBNElIMWNibjA3WEc1c1pYUWdhU0E5SURBN1hHNW1iM0lnS0dOdmJuTjBJRzlpYWlCcGJpQlFiMmx1ZEVGMGRISnBZblYwWlZSNWNHVnpLU0I3WEc0Z0lDQWdVRzlwYm5SQmRIUnlhV0oxZEdWVWVYQmxjMXRwWFNBOUlGQnZhVzUwUVhSMGNtbGlkWFJsVkhsd1pYTmJiMkpxWFR0Y2JpQWdJQ0JwS3lzN1hHNTlYRzVsZUhCdmNuUWdleUJRYjJsdWRFRjBkSEpwWW5WMFpWUjVjR1Z6SUgwN1hHNWpiR0Z6Y3lCUWIybHVkRUYwZEhKcFluVjBaU0I3WEc0Z0lDQWdZMjl1YzNSeWRXTjBiM0lvYm1GdFpTd2dkSGx3WlN3Z2JuVnRSV3hsYldWdWRITXNJSEpoYm1kbElEMGdXMGx1Wm1sdWFYUjVMQ0F0U1c1bWFXNXBkSGxkTENCMWNta2dQU0IxYm1SbFptbHVaV1FwSUh0Y2JpQWdJQ0FnSUNBZ2RHaHBjeTV1WVcxbElEMGdibUZ0WlR0Y2JpQWdJQ0FnSUNBZ2RHaHBjeTUwZVhCbElEMGdkSGx3WlR0Y2JpQWdJQ0FnSUNBZ2RHaHBjeTV1ZFcxRmJHVnRaVzUwY3lBOUlHNTFiVVZzWlcxbGJuUnpPMXh1SUNBZ0lDQWdJQ0IwYUdsekxuSmhibWRsSUQwZ2NtRnVaMlU3WEc0Z0lDQWdJQ0FnSUhSb2FYTXVkWEpwSUQwZ2RYSnBPMXh1SUNBZ0lDQWdJQ0IwYUdsekxtSjVkR1ZUYVhwbElEMGdkR2hwY3k1dWRXMUZiR1Z0Wlc1MGN5QXFJSFJvYVhNdWRIbHdaUzV6YVhwbE8xeHVJQ0FnSUNBZ0lDQjBhR2x6TG1SbGMyTnlhWEIwYVc5dUlEMGdKeWM3WEc0Z0lDQWdmVnh1ZlZ4dVpYaHdiM0owSUhzZ1VHOXBiblJCZEhSeWFXSjFkR1VnZlR0Y2JtVjRjRzl5ZENCamIyNXpkQ0JRVDBsT1ZGOUJWRlJTU1VKVlZFVlRJRDBnZTF4dUlDQWdJRkJQVTBsVVNVOU9YME5CVWxSRlUwbEJUam9nYm1WM0lGQnZhVzUwUVhSMGNtbGlkWFJsS0NkUVQxTkpWRWxQVGw5RFFWSlVSVk5KUVU0bkxDQlFiMmx1ZEVGMGRISnBZblYwWlZSNWNHVnpMa1JCVkVGZlZGbFFSVjlHVEU5QlZDd2dNeWtzWEc0Z0lDQWdVa2RDUVY5UVFVTkxSVVE2SUc1bGR5QlFiMmx1ZEVGMGRISnBZblYwWlNnblEwOU1UMUpmVUVGRFMwVkVKeXdnVUc5cGJuUkJkSFJ5YVdKMWRHVlVlWEJsY3k1RVFWUkJYMVJaVUVWZlNVNVVPQ3dnTkNrc1hHNGdJQ0FnUTA5TVQxSmZVRUZEUzBWRU9pQnVaWGNnVUc5cGJuUkJkSFJ5YVdKMWRHVW9KME5QVEU5U1gxQkJRMHRGUkNjc0lGQnZhVzUwUVhSMGNtbGlkWFJsVkhsd1pYTXVSRUZVUVY5VVdWQkZYMGxPVkRnc0lEUXBMRnh1SUNBZ0lGSkhRbDlRUVVOTFJVUTZJRzVsZHlCUWIybHVkRUYwZEhKcFluVjBaU2duUTA5TVQxSmZVRUZEUzBWRUp5d2dVRzlwYm5SQmRIUnlhV0oxZEdWVWVYQmxjeTVFUVZSQlgxUlpVRVZmU1U1VU9Dd2dNeWtzWEc0Z0lDQWdUazlTVFVGTVgwWk1UMEZVVXpvZ2JtVjNJRkJ2YVc1MFFYUjBjbWxpZFhSbEtDZE9UMUpOUVV4ZlJreFBRVlJUSnl3Z1VHOXBiblJCZEhSeWFXSjFkR1ZVZVhCbGN5NUVRVlJCWDFSWlVFVmZSa3hQUVZRc0lETXBMRnh1SUNBZ0lFbE9WRVZPVTBsVVdUb2dibVYzSUZCdmFXNTBRWFIwY21saWRYUmxLQ2RKVGxSRlRsTkpWRmtuTENCUWIybHVkRUYwZEhKcFluVjBaVlI1Y0dWekxrUkJWRUZmVkZsUVJWOVZTVTVVTVRZc0lERXBMRnh1SUNBZ0lFTk1RVk5UU1VaSlEwRlVTVTlPT2lCdVpYY2dVRzlwYm5SQmRIUnlhV0oxZEdVb0owTk1RVk5UU1VaSlEwRlVTVTlPSnl3Z1VHOXBiblJCZEhSeWFXSjFkR1ZVZVhCbGN5NUVRVlJCWDFSWlVFVmZWVWxPVkRnc0lERXBMRnh1SUNBZ0lFNVBVazFCVEY5VFVFaEZVa1ZOUVZCUVJVUTZJRzVsZHlCUWIybHVkRUYwZEhKcFluVjBaU2duVGs5U1RVRk1YMU5RU0VWU1JVMUJVRkJGUkNjc0lGQnZhVzUwUVhSMGNtbGlkWFJsVkhsd1pYTXVSRUZVUVY5VVdWQkZYMVZKVGxRNExDQXlLU3hjYmlBZ0lDQk9UMUpOUVV4ZlQwTlVNVFk2SUc1bGR5QlFiMmx1ZEVGMGRISnBZblYwWlNnblRrOVNUVUZNWDA5RFZERTJKeXdnVUc5cGJuUkJkSFJ5YVdKMWRHVlVlWEJsY3k1RVFWUkJYMVJaVUVWZlZVbE9WRGdzSURJcExGeHVJQ0FnSUU1UFVrMUJURG9nYm1WM0lGQnZhVzUwUVhSMGNtbGlkWFJsS0NkT1QxSk5RVXduTENCUWIybHVkRUYwZEhKcFluVjBaVlI1Y0dWekxrUkJWRUZmVkZsUVJWOUdURTlCVkN3Z015a3NYRzRnSUNBZ1VrVlVWVkpPWDA1VlRVSkZVam9nYm1WM0lGQnZhVzUwUVhSMGNtbGlkWFJsS0NkU1JWUlZVazVmVGxWTlFrVlNKeXdnVUc5cGJuUkJkSFJ5YVdKMWRHVlVlWEJsY3k1RVFWUkJYMVJaVUVWZlZVbE9WRGdzSURFcExGeHVJQ0FnSUU1VlRVSkZVbDlQUmw5U1JWUlZVazVUT2lCdVpYY2dVRzlwYm5SQmRIUnlhV0oxZEdVb0owNVZUVUpGVWw5UFJsOVNSVlJWVWs1VEp5d2dVRzlwYm5SQmRIUnlhV0oxZEdWVWVYQmxjeTVFUVZSQlgxUlpVRVZmVlVsT1ZEZ3NJREVwTEZ4dUlDQWdJRk5QVlZKRFJWOUpSRG9nYm1WM0lGQnZhVzUwUVhSMGNtbGlkWFJsS0NkVFQxVlNRMFZmU1VRbkxDQlFiMmx1ZEVGMGRISnBZblYwWlZSNWNHVnpMa1JCVkVGZlZGbFFSVjlWU1U1VU1UWXNJREVwTEZ4dUlDQWdJRWxPUkVsRFJWTTZJRzVsZHlCUWIybHVkRUYwZEhKcFluVjBaU2duU1U1RVNVTkZVeWNzSUZCdmFXNTBRWFIwY21saWRYUmxWSGx3WlhNdVJFRlVRVjlVV1ZCRlgxVkpUbFF6TWl3Z01Ta3NYRzRnSUNBZ1UxQkJRMGxPUnpvZ2JtVjNJRkJ2YVc1MFFYUjBjbWxpZFhSbEtDZFRVRUZEU1U1SEp5d2dVRzlwYm5SQmRIUnlhV0oxZEdWVWVYQmxjeTVFUVZSQlgxUlpVRVZmUmt4UFFWUXNJREVwTEZ4dUlDQWdJRWRRVTE5VVNVMUZPaUJ1WlhjZ1VHOXBiblJCZEhSeWFXSjFkR1VvSjBkUVUxOVVTVTFGSnl3Z1VHOXBiblJCZEhSeWFXSjFkR1ZVZVhCbGN5NUVRVlJCWDFSWlVFVmZSRTlWUWt4RkxDQXhLVnh1ZlR0Y2JtVjRjRzl5ZENCamJHRnpjeUJRYjJsdWRFRjBkSEpwWW5WMFpYTWdlMXh1SUNBZ0lHTnZibk4wY25WamRHOXlLSEJ2YVc1MFFYUjBjbWxpZFhSbGN5d2dZWFIwY21saWRYUmxjeUE5SUZ0ZExDQmllWFJsVTJsNlpTQTlJREFzSUhOcGVtVWdQU0F3TENCMlpXTjBiM0p6SUQwZ1cxMHBJSHRjYmlBZ0lDQWdJQ0FnZEdocGN5NWhkSFJ5YVdKMWRHVnpJRDBnWVhSMGNtbGlkWFJsY3p0Y2JpQWdJQ0FnSUNBZ2RHaHBjeTVpZVhSbFUybDZaU0E5SUdKNWRHVlRhWHBsTzF4dUlDQWdJQ0FnSUNCMGFHbHpMbk5wZW1VZ1BTQnphWHBsTzF4dUlDQWdJQ0FnSUNCMGFHbHpMblpsWTNSdmNuTWdQU0IyWldOMGIzSnpPMXh1SUNBZ0lDQWdJQ0JwWmlBb2NHOXBiblJCZEhSeWFXSjFkR1Z6SUNFOUlHNTFiR3dwSUh0Y2JpQWdJQ0FnSUNBZ0lDQWdJR1p2Y2lBb2JHVjBJR2tnUFNBd095QnBJRHdnY0c5cGJuUkJkSFJ5YVdKMWRHVnpMbXhsYm1kMGFEc2dhU3NyS1NCN1hHNGdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ1kyOXVjM1FnY0c5cGJuUkJkSFJ5YVdKMWRHVk9ZVzFsSUQwZ2NHOXBiblJCZEhSeWFXSjFkR1Z6VzJsZE8xeHVJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lHTnZibk4wSUhCdmFXNTBRWFIwY21saWRYUmxJRDBnVUU5SlRsUmZRVlJVVWtsQ1ZWUkZVMXR3YjJsdWRFRjBkSEpwWW5WMFpVNWhiV1ZkTzF4dUlDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUhSb2FYTXVZWFIwY21saWRYUmxjeTV3ZFhOb0tIQnZhVzUwUVhSMGNtbGlkWFJsS1R0Y2JpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNCMGFHbHpMbUo1ZEdWVGFYcGxJQ3M5SUhCdmFXNTBRWFIwY21saWRYUmxMbUo1ZEdWVGFYcGxPMXh1SUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJSFJvYVhNdWMybDZaU3NyTzF4dUlDQWdJQ0FnSUNBZ0lDQWdmVnh1SUNBZ0lDQWdJQ0I5WEc0Z0lDQWdmVnh1SUNBZ0lHRmtaQ2h3YjJsdWRFRjBkSEpwWW5WMFpTa2dlMXh1SUNBZ0lDQWdJQ0IwYUdsekxtRjBkSEpwWW5WMFpYTXVjSFZ6YUNod2IybHVkRUYwZEhKcFluVjBaU2s3WEc0Z0lDQWdJQ0FnSUhSb2FYTXVZbmwwWlZOcGVtVWdLejBnY0c5cGJuUkJkSFJ5YVdKMWRHVXVZbmwwWlZOcGVtVTdYRzRnSUNBZ0lDQWdJSFJvYVhNdWMybDZaU3NyTzF4dUlDQWdJSDFjYmlBZ0lDQmhaR1JXWldOMGIzSW9kbVZqZEc5eUtTQjdYRzRnSUNBZ0lDQWdJSFJvYVhNdWRtVmpkRzl5Y3k1d2RYTm9LSFpsWTNSdmNpazdYRzRnSUNBZ2ZWeHVJQ0FnSUdoaGMwNXZjbTFoYkhNb0tTQjdYRzRnSUNBZ0lDQWdJR1p2Y2lBb1kyOXVjM1FnYm1GdFpTQnBiaUIwYUdsekxtRjBkSEpwWW5WMFpYTXBJSHRjYmlBZ0lDQWdJQ0FnSUNBZ0lHTnZibk4wSUhCdmFXNTBRWFIwY21saWRYUmxJRDBnZEdocGN5NWhkSFJ5YVdKMWRHVnpXMjVoYldWZE8xeHVJQ0FnSUNBZ0lDQWdJQ0FnYVdZZ0tIQnZhVzUwUVhSMGNtbGlkWFJsSUQwOVBTQlFUMGxPVkY5QlZGUlNTVUpWVkVWVExrNVBVazFCVEY5VFVFaEZVa1ZOUVZCUVJVUWdmSHhjYmlBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0J3YjJsdWRFRjBkSEpwWW5WMFpTQTlQVDBnVUU5SlRsUmZRVlJVVWtsQ1ZWUkZVeTVPVDFKTlFVeGZSa3hQUVZSVElIeDhYRzRnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdjRzlwYm5SQmRIUnlhV0oxZEdVZ1BUMDlJRkJQU1U1VVgwRlVWRkpKUWxWVVJWTXVUazlTVFVGTUlIeDhYRzRnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdjRzlwYm5SQmRIUnlhV0oxZEdVZ1BUMDlJRkJQU1U1VVgwRlVWRkpKUWxWVVJWTXVUazlTVFVGTVgwOURWREUyS1NCN1hHNGdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ2NtVjBkWEp1SUhSeWRXVTdYRzRnSUNBZ0lDQWdJQ0FnSUNCOVhHNGdJQ0FnSUNBZ0lIMWNiaUFnSUNBZ0lDQWdjbVYwZFhKdUlHWmhiSE5sTzF4dUlDQWdJSDFjYmlBZ0lDQm5aWFJCZEhSeWFXSjFkR1VvWVhSMGNtbGlkWFJsVG1GdFpTa2dlMXh1SUNBZ0lDQWdJQ0J5WlhSMWNtNGdkR2hwY3k1aGRIUnlhV0oxZEdWekxtWnBibVFvWVhSMGNpQTlQaUJoZEhSeUxtNWhiV1VnUFQwOUlHRjBkSEpwWW5WMFpVNWhiV1VwTzF4dUlDQWdJSDFjYm4xY2JpSmRMQ0p1WVcxbGN5STZXMTBzSW5OdmRYSmpaVkp2YjNRaU9pSWlmUT09XFxcXG4vLyMgc291cmNlVVJMPXdlYnBhY2staW50ZXJuYWw6Ly8vLi9zcmMvbG9hZGluZzIvcG9pbnQtYXR0cmlidXRlcy50c1xcXFxuXFxcIik7XFxuXFxuLyoqKi8gfSlcXG5cXG4vKioqKioqLyBcXHR9KTtcXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xcbi8qKioqKiovIFxcdC8vIFRoZSBtb2R1bGUgY2FjaGVcXG4vKioqKioqLyBcXHR2YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XFxuLyoqKioqKi8gXFx0XFxuLyoqKioqKi8gXFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cXG4vKioqKioqLyBcXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XFxuLyoqKioqKi8gXFx0XFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXFxuLyoqKioqKi8gXFx0XFx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XFxuLyoqKioqKi8gXFx0XFx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XFxuLyoqKioqKi8gXFx0XFx0XFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xcbi8qKioqKiovIFxcdFxcdH1cXG4vKioqKioqLyBcXHRcXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxcbi8qKioqKiovIFxcdFxcdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xcbi8qKioqKiovIFxcdFxcdFxcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcXG4vKioqKioqLyBcXHRcXHRcXHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxcbi8qKioqKiovIFxcdFxcdFxcdGV4cG9ydHM6IHt9XFxuLyoqKioqKi8gXFx0XFx0fTtcXG4vKioqKioqLyBcXHRcXG4vKioqKioqLyBcXHRcXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cXG4vKioqKioqLyBcXHRcXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcXG4vKioqKioqLyBcXHRcXG4vKioqKioqLyBcXHRcXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxcbi8qKioqKiovIFxcdFxcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcXG4vKioqKioqLyBcXHR9XFxuLyoqKioqKi8gXFx0XFxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cXG4vKioqKioqLyBcXHQvKiB3ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMgKi9cXG4vKioqKioqLyBcXHQoKCkgPT4ge1xcbi8qKioqKiovIFxcdFxcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcXG4vKioqKioqLyBcXHRcXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xcbi8qKioqKiovIFxcdFxcdFxcdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcXG4vKioqKioqLyBcXHRcXHRcXHRcXHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcXG4vKioqKioqLyBcXHRcXHRcXHRcXHRcXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xcbi8qKioqKiovIFxcdFxcdFxcdFxcdH1cXG4vKioqKioqLyBcXHRcXHRcXHR9XFxuLyoqKioqKi8gXFx0XFx0fTtcXG4vKioqKioqLyBcXHR9KSgpO1xcbi8qKioqKiovIFxcdFxcbi8qKioqKiovIFxcdC8qIHdlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQgKi9cXG4vKioqKioqLyBcXHQoKCkgPT4ge1xcbi8qKioqKiovIFxcdFxcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSlcXG4vKioqKioqLyBcXHR9KSgpO1xcbi8qKioqKiovIFxcdFxcbi8qKioqKiovIFxcdC8qIHdlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QgKi9cXG4vKioqKioqLyBcXHQoKCkgPT4ge1xcbi8qKioqKiovIFxcdFxcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcXG4vKioqKioqLyBcXHRcXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xcbi8qKioqKiovIFxcdFxcdFxcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xcbi8qKioqKiovIFxcdFxcdFxcdFxcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xcbi8qKioqKiovIFxcdFxcdFxcdH1cXG4vKioqKioqLyBcXHRcXHRcXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xcbi8qKioqKiovIFxcdFxcdH07XFxuLyoqKioqKi8gXFx0fSkoKTtcXG4vKioqKioqLyBcXHRcXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xcbi8qKioqKiovIFxcdFxcbi8qKioqKiovIFxcdC8vIHN0YXJ0dXBcXG4vKioqKioqLyBcXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcXG4vKioqKioqLyBcXHQvLyBUaGlzIGVudHJ5IG1vZHVsZSBjYW4ndCBiZSBpbmxpbmVkIGJlY2F1c2UgdGhlIGV2YWwtc291cmNlLW1hcCBkZXZ0b29sIGlzIHVzZWQuXFxuLyoqKioqKi8gXFx0dmFyIF9fd2VicGFja19leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFxcXCIuL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliL2luZGV4LmpzIS4vc3JjL2xvYWRpbmcyL2dsdGYtZGVjb2Rlci53b3JrZXIuanNcXFwiKTtcXG4vKioqKioqLyBcXHRcXG4vKioqKioqLyB9KSgpXFxuO1wiLCBcIldvcmtlclwiLCB1bmRlZmluZWQsIHVuZGVmaW5lZCk7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/loading2/gltf-decoder.worker.js\n");

/***/ }),

/***/ "./src/workers/binary-decoder.worker.js":
/*!**********************************************!*\
  !*** ./src/workers/binary-decoder.worker.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Worker_fn)\n/* harmony export */ });\n/* harmony import */ var _node_modules_worker_loader_dist_runtime_inline_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !!../../node_modules/worker-loader/dist/runtime/inline.js */ \"./node_modules/worker-loader/dist/runtime/inline.js\");\n/* harmony import */ var _node_modules_worker_loader_dist_runtime_inline_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_worker_loader_dist_runtime_inline_js__WEBPACK_IMPORTED_MODULE_0__);\n\n\n\nfunction Worker_fn() {\n  return _node_modules_worker_loader_dist_runtime_inline_js__WEBPACK_IMPORTED_MODULE_0___default()(\"/*\\n * ATTENTION: An \\\"eval-source-map\\\" devtool has been used.\\n * This devtool is neither made for production nor for readable output files.\\n * It uses \\\"eval()\\\" calls to create a separate source file with attached SourceMaps in the browser devtools.\\n * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)\\n * or disable the default devtool with \\\"devtool: false\\\".\\n * If you are looking for production-ready output files, see mode: \\\"production\\\" (https://webpack.js.org/configuration/mode/).\\n */\\n/******/ (() => { // webpackBootstrap\\n/******/ \\t\\\"use strict\\\";\\n/******/ \\tvar __webpack_modules__ = ({\\n\\n/***/ \\\"./node_modules/babel-loader/lib/index.js!./src/workers/binary-decoder.worker.js\\\":\\n/*!***************************************************************************************!*\\\\\\n  !*** ./node_modules/babel-loader/lib/index.js!./src/workers/binary-decoder.worker.js ***!\\n  \\\\***************************************************************************************/\\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\\n\\neval(\\\"__webpack_require__.r(__webpack_exports__);\\\\n/* harmony import */ var _binary_decoder_worker_internal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./binary-decoder-worker-internal */ \\\\\\\"./src/workers/binary-decoder-worker-internal.ts\\\\\\\");\\\\n\\\\n\\\\n/*eslint-disable */\\\\nonmessage = _binary_decoder_worker_internal__WEBPACK_IMPORTED_MODULE_0__.handleMessage;//# sourceURL=[module]\\\\n\\\");\\n\\n/***/ }),\\n\\n/***/ \\\"./src/point-attributes.ts\\\":\\n/*!*********************************!*\\\\\\n  !*** ./src/point-attributes.ts ***!\\n  \\\\*********************************/\\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\\n\\neval(\\\"__webpack_require__.r(__webpack_exports__);\\\\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\\\\n/* harmony export */   POINT_ATTRIBUTES: () => (/* binding */ POINT_ATTRIBUTES),\\\\n/* harmony export */   POINT_ATTRIBUTE_TYPES: () => (/* binding */ POINT_ATTRIBUTE_TYPES),\\\\n/* harmony export */   PointAttributeName: () => (/* binding */ PointAttributeName),\\\\n/* harmony export */   PointAttributes: () => (/* binding */ PointAttributes)\\\\n/* harmony export */ });\\\\n// -------------------------------------------------------------------------------------------------\\\\n// Converted to Typescript and adapted from https://github.com/potree/potree\\\\n// -------------------------------------------------------------------------------------------------\\\\nvar PointAttributeName;\\\\n(function (PointAttributeName) {\\\\n    PointAttributeName[PointAttributeName[\\\\\\\"POSITION_CARTESIAN\\\\\\\"] = 0] = \\\\\\\"POSITION_CARTESIAN\\\\\\\";\\\\n    PointAttributeName[PointAttributeName[\\\\\\\"COLOR_PACKED\\\\\\\"] = 1] = \\\\\\\"COLOR_PACKED\\\\\\\";\\\\n    PointAttributeName[PointAttributeName[\\\\\\\"COLOR_FLOATS_1\\\\\\\"] = 2] = \\\\\\\"COLOR_FLOATS_1\\\\\\\";\\\\n    PointAttributeName[PointAttributeName[\\\\\\\"COLOR_FLOATS_255\\\\\\\"] = 3] = \\\\\\\"COLOR_FLOATS_255\\\\\\\";\\\\n    PointAttributeName[PointAttributeName[\\\\\\\"NORMAL_FLOATS\\\\\\\"] = 4] = \\\\\\\"NORMAL_FLOATS\\\\\\\";\\\\n    PointAttributeName[PointAttributeName[\\\\\\\"FILLER\\\\\\\"] = 5] = \\\\\\\"FILLER\\\\\\\";\\\\n    PointAttributeName[PointAttributeName[\\\\\\\"INTENSITY\\\\\\\"] = 6] = \\\\\\\"INTENSITY\\\\\\\";\\\\n    PointAttributeName[PointAttributeName[\\\\\\\"CLASSIFICATION\\\\\\\"] = 7] = \\\\\\\"CLASSIFICATION\\\\\\\";\\\\n    PointAttributeName[PointAttributeName[\\\\\\\"NORMAL_SPHEREMAPPED\\\\\\\"] = 8] = \\\\\\\"NORMAL_SPHEREMAPPED\\\\\\\";\\\\n    PointAttributeName[PointAttributeName[\\\\\\\"NORMAL_OCT16\\\\\\\"] = 9] = \\\\\\\"NORMAL_OCT16\\\\\\\";\\\\n    PointAttributeName[PointAttributeName[\\\\\\\"NORMAL\\\\\\\"] = 10] = \\\\\\\"NORMAL\\\\\\\";\\\\n})(PointAttributeName || (PointAttributeName = {}));\\\\nconst POINT_ATTRIBUTE_TYPES = {\\\\n    DATA_TYPE_DOUBLE: { ordinal: 0, size: 8 },\\\\n    DATA_TYPE_FLOAT: { ordinal: 1, size: 4 },\\\\n    DATA_TYPE_INT8: { ordinal: 2, size: 1 },\\\\n    DATA_TYPE_UINT8: { ordinal: 3, size: 1 },\\\\n    DATA_TYPE_INT16: { ordinal: 4, size: 2 },\\\\n    DATA_TYPE_UINT16: { ordinal: 5, size: 2 },\\\\n    DATA_TYPE_INT32: { ordinal: 6, size: 4 },\\\\n    DATA_TYPE_UINT32: { ordinal: 7, size: 4 },\\\\n    DATA_TYPE_INT64: { ordinal: 8, size: 8 },\\\\n    DATA_TYPE_UINT64: { ordinal: 9, size: 8 },\\\\n};\\\\nfunction makePointAttribute(name, type, numElements) {\\\\n    return {\\\\n        name,\\\\n        type,\\\\n        numElements,\\\\n        byteSize: numElements * type.size,\\\\n    };\\\\n}\\\\nconst RGBA_PACKED = makePointAttribute(PointAttributeName.COLOR_PACKED, POINT_ATTRIBUTE_TYPES.DATA_TYPE_INT8, 4);\\\\nconst POINT_ATTRIBUTES = {\\\\n    POSITION_CARTESIAN: makePointAttribute(PointAttributeName.POSITION_CARTESIAN, POINT_ATTRIBUTE_TYPES.DATA_TYPE_FLOAT, 3),\\\\n    RGBA_PACKED,\\\\n    COLOR_PACKED: RGBA_PACKED,\\\\n    RGB_PACKED: makePointAttribute(PointAttributeName.COLOR_PACKED, POINT_ATTRIBUTE_TYPES.DATA_TYPE_INT8, 3),\\\\n    NORMAL_FLOATS: makePointAttribute(PointAttributeName.NORMAL_FLOATS, POINT_ATTRIBUTE_TYPES.DATA_TYPE_FLOAT, 3),\\\\n    FILLER_1B: makePointAttribute(PointAttributeName.FILLER, POINT_ATTRIBUTE_TYPES.DATA_TYPE_UINT8, 1),\\\\n    INTENSITY: makePointAttribute(PointAttributeName.INTENSITY, POINT_ATTRIBUTE_TYPES.DATA_TYPE_UINT16, 1),\\\\n    CLASSIFICATION: makePointAttribute(PointAttributeName.CLASSIFICATION, POINT_ATTRIBUTE_TYPES.DATA_TYPE_UINT8, 1),\\\\n    NORMAL_SPHEREMAPPED: makePointAttribute(PointAttributeName.NORMAL_SPHEREMAPPED, POINT_ATTRIBUTE_TYPES.DATA_TYPE_UINT8, 2),\\\\n    NORMAL_OCT16: makePointAttribute(PointAttributeName.NORMAL_OCT16, POINT_ATTRIBUTE_TYPES.DATA_TYPE_UINT8, 2),\\\\n    NORMAL: makePointAttribute(PointAttributeName.NORMAL, POINT_ATTRIBUTE_TYPES.DATA_TYPE_FLOAT, 3),\\\\n};\\\\nclass PointAttributes {\\\\n    constructor(pointAttributeNames = []) {\\\\n        this.attributes = [];\\\\n        this.byteSize = 0;\\\\n        this.size = 0;\\\\n        for (let i = 0; i < pointAttributeNames.length; i++) {\\\\n            const pointAttributeName = pointAttributeNames[i];\\\\n            const pointAttribute = POINT_ATTRIBUTES[pointAttributeName];\\\\n            this.attributes.push(pointAttribute);\\\\n            this.byteSize += pointAttribute.byteSize;\\\\n            this.size++;\\\\n        }\\\\n    }\\\\n    add(pointAttribute) {\\\\n        this.attributes.push(pointAttribute);\\\\n        this.byteSize += pointAttribute.byteSize;\\\\n        this.size++;\\\\n    }\\\\n    hasColors() {\\\\n        return this.attributes.find(isColorAttribute) !== undefined;\\\\n    }\\\\n    hasNormals() {\\\\n        return this.attributes.find(isNormalAttribute) !== undefined;\\\\n    }\\\\n}\\\\nfunction isColorAttribute({ name }) {\\\\n    return name === PointAttributeName.COLOR_PACKED;\\\\n}\\\\nfunction isNormalAttribute({ name }) {\\\\n    return (name === PointAttributeName.NORMAL_SPHEREMAPPED ||\\\\n        name === PointAttributeName.NORMAL_FLOATS ||\\\\n        name === PointAttributeName.NORMAL ||\\\\n        name === PointAttributeName.NORMAL_OCT16);\\\\n}\\\\n//# sourceURL=[module]\\\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcG9pbnQtYXR0cmlidXRlcy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb3RyZWUvLi9zcmMvcG9pbnQtYXR0cmlidXRlcy50cz9lMDMyIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIENvbnZlcnRlZCB0byBUeXBlc2NyaXB0IGFuZCBhZGFwdGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL3BvdHJlZS9wb3RyZWVcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmV4cG9ydCB2YXIgUG9pbnRBdHRyaWJ1dGVOYW1lO1xuKGZ1bmN0aW9uIChQb2ludEF0dHJpYnV0ZU5hbWUpIHtcbiAgICBQb2ludEF0dHJpYnV0ZU5hbWVbUG9pbnRBdHRyaWJ1dGVOYW1lW1wiUE9TSVRJT05fQ0FSVEVTSUFOXCJdID0gMF0gPSBcIlBPU0lUSU9OX0NBUlRFU0lBTlwiO1xuICAgIFBvaW50QXR0cmlidXRlTmFtZVtQb2ludEF0dHJpYnV0ZU5hbWVbXCJDT0xPUl9QQUNLRURcIl0gPSAxXSA9IFwiQ09MT1JfUEFDS0VEXCI7XG4gICAgUG9pbnRBdHRyaWJ1dGVOYW1lW1BvaW50QXR0cmlidXRlTmFtZVtcIkNPTE9SX0ZMT0FUU18xXCJdID0gMl0gPSBcIkNPTE9SX0ZMT0FUU18xXCI7XG4gICAgUG9pbnRBdHRyaWJ1dGVOYW1lW1BvaW50QXR0cmlidXRlTmFtZVtcIkNPTE9SX0ZMT0FUU18yNTVcIl0gPSAzXSA9IFwiQ09MT1JfRkxPQVRTXzI1NVwiO1xuICAgIFBvaW50QXR0cmlidXRlTmFtZVtQb2ludEF0dHJpYnV0ZU5hbWVbXCJOT1JNQUxfRkxPQVRTXCJdID0gNF0gPSBcIk5PUk1BTF9GTE9BVFNcIjtcbiAgICBQb2ludEF0dHJpYnV0ZU5hbWVbUG9pbnRBdHRyaWJ1dGVOYW1lW1wiRklMTEVSXCJdID0gNV0gPSBcIkZJTExFUlwiO1xuICAgIFBvaW50QXR0cmlidXRlTmFtZVtQb2ludEF0dHJpYnV0ZU5hbWVbXCJJTlRFTlNJVFlcIl0gPSA2XSA9IFwiSU5URU5TSVRZXCI7XG4gICAgUG9pbnRBdHRyaWJ1dGVOYW1lW1BvaW50QXR0cmlidXRlTmFtZVtcIkNMQVNTSUZJQ0FUSU9OXCJdID0gN10gPSBcIkNMQVNTSUZJQ0FUSU9OXCI7XG4gICAgUG9pbnRBdHRyaWJ1dGVOYW1lW1BvaW50QXR0cmlidXRlTmFtZVtcIk5PUk1BTF9TUEhFUkVNQVBQRURcIl0gPSA4XSA9IFwiTk9STUFMX1NQSEVSRU1BUFBFRFwiO1xuICAgIFBvaW50QXR0cmlidXRlTmFtZVtQb2ludEF0dHJpYnV0ZU5hbWVbXCJOT1JNQUxfT0NUMTZcIl0gPSA5XSA9IFwiTk9STUFMX09DVDE2XCI7XG4gICAgUG9pbnRBdHRyaWJ1dGVOYW1lW1BvaW50QXR0cmlidXRlTmFtZVtcIk5PUk1BTFwiXSA9IDEwXSA9IFwiTk9STUFMXCI7XG59KShQb2ludEF0dHJpYnV0ZU5hbWUgfHwgKFBvaW50QXR0cmlidXRlTmFtZSA9IHt9KSk7XG5leHBvcnQgY29uc3QgUE9JTlRfQVRUUklCVVRFX1RZUEVTID0ge1xuICAgIERBVEFfVFlQRV9ET1VCTEU6IHsgb3JkaW5hbDogMCwgc2l6ZTogOCB9LFxuICAgIERBVEFfVFlQRV9GTE9BVDogeyBvcmRpbmFsOiAxLCBzaXplOiA0IH0sXG4gICAgREFUQV9UWVBFX0lOVDg6IHsgb3JkaW5hbDogMiwgc2l6ZTogMSB9LFxuICAgIERBVEFfVFlQRV9VSU5UODogeyBvcmRpbmFsOiAzLCBzaXplOiAxIH0sXG4gICAgREFUQV9UWVBFX0lOVDE2OiB7IG9yZGluYWw6IDQsIHNpemU6IDIgfSxcbiAgICBEQVRBX1RZUEVfVUlOVDE2OiB7IG9yZGluYWw6IDUsIHNpemU6IDIgfSxcbiAgICBEQVRBX1RZUEVfSU5UMzI6IHsgb3JkaW5hbDogNiwgc2l6ZTogNCB9LFxuICAgIERBVEFfVFlQRV9VSU5UMzI6IHsgb3JkaW5hbDogNywgc2l6ZTogNCB9LFxuICAgIERBVEFfVFlQRV9JTlQ2NDogeyBvcmRpbmFsOiA4LCBzaXplOiA4IH0sXG4gICAgREFUQV9UWVBFX1VJTlQ2NDogeyBvcmRpbmFsOiA5LCBzaXplOiA4IH0sXG59O1xuZnVuY3Rpb24gbWFrZVBvaW50QXR0cmlidXRlKG5hbWUsIHR5cGUsIG51bUVsZW1lbnRzKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbmFtZSxcbiAgICAgICAgdHlwZSxcbiAgICAgICAgbnVtRWxlbWVudHMsXG4gICAgICAgIGJ5dGVTaXplOiBudW1FbGVtZW50cyAqIHR5cGUuc2l6ZSxcbiAgICB9O1xufVxuY29uc3QgUkdCQV9QQUNLRUQgPSBtYWtlUG9pbnRBdHRyaWJ1dGUoUG9pbnRBdHRyaWJ1dGVOYW1lLkNPTE9SX1BBQ0tFRCwgUE9JTlRfQVRUUklCVVRFX1RZUEVTLkRBVEFfVFlQRV9JTlQ4LCA0KTtcbmV4cG9ydCBjb25zdCBQT0lOVF9BVFRSSUJVVEVTID0ge1xuICAgIFBPU0lUSU9OX0NBUlRFU0lBTjogbWFrZVBvaW50QXR0cmlidXRlKFBvaW50QXR0cmlidXRlTmFtZS5QT1NJVElPTl9DQVJURVNJQU4sIFBPSU5UX0FUVFJJQlVURV9UWVBFUy5EQVRBX1RZUEVfRkxPQVQsIDMpLFxuICAgIFJHQkFfUEFDS0VELFxuICAgIENPTE9SX1BBQ0tFRDogUkdCQV9QQUNLRUQsXG4gICAgUkdCX1BBQ0tFRDogbWFrZVBvaW50QXR0cmlidXRlKFBvaW50QXR0cmlidXRlTmFtZS5DT0xPUl9QQUNLRUQsIFBPSU5UX0FUVFJJQlVURV9UWVBFUy5EQVRBX1RZUEVfSU5UOCwgMyksXG4gICAgTk9STUFMX0ZMT0FUUzogbWFrZVBvaW50QXR0cmlidXRlKFBvaW50QXR0cmlidXRlTmFtZS5OT1JNQUxfRkxPQVRTLCBQT0lOVF9BVFRSSUJVVEVfVFlQRVMuREFUQV9UWVBFX0ZMT0FULCAzKSxcbiAgICBGSUxMRVJfMUI6IG1ha2VQb2ludEF0dHJpYnV0ZShQb2ludEF0dHJpYnV0ZU5hbWUuRklMTEVSLCBQT0lOVF9BVFRSSUJVVEVfVFlQRVMuREFUQV9UWVBFX1VJTlQ4LCAxKSxcbiAgICBJTlRFTlNJVFk6IG1ha2VQb2ludEF0dHJpYnV0ZShQb2ludEF0dHJpYnV0ZU5hbWUuSU5URU5TSVRZLCBQT0lOVF9BVFRSSUJVVEVfVFlQRVMuREFUQV9UWVBFX1VJTlQxNiwgMSksXG4gICAgQ0xBU1NJRklDQVRJT046IG1ha2VQb2ludEF0dHJpYnV0ZShQb2ludEF0dHJpYnV0ZU5hbWUuQ0xBU1NJRklDQVRJT04sIFBPSU5UX0FUVFJJQlVURV9UWVBFUy5EQVRBX1RZUEVfVUlOVDgsIDEpLFxuICAgIE5PUk1BTF9TUEhFUkVNQVBQRUQ6IG1ha2VQb2ludEF0dHJpYnV0ZShQb2ludEF0dHJpYnV0ZU5hbWUuTk9STUFMX1NQSEVSRU1BUFBFRCwgUE9JTlRfQVRUUklCVVRFX1RZUEVTLkRBVEFfVFlQRV9VSU5UOCwgMiksXG4gICAgTk9STUFMX09DVDE2OiBtYWtlUG9pbnRBdHRyaWJ1dGUoUG9pbnRBdHRyaWJ1dGVOYW1lLk5PUk1BTF9PQ1QxNiwgUE9JTlRfQVRUUklCVVRFX1RZUEVTLkRBVEFfVFlQRV9VSU5UOCwgMiksXG4gICAgTk9STUFMOiBtYWtlUG9pbnRBdHRyaWJ1dGUoUG9pbnRBdHRyaWJ1dGVOYW1lLk5PUk1BTCwgUE9JTlRfQVRUUklCVVRFX1RZUEVTLkRBVEFfVFlQRV9GTE9BVCwgMyksXG59O1xuZXhwb3J0IGNsYXNzIFBvaW50QXR0cmlidXRlcyB7XG4gICAgY29uc3RydWN0b3IocG9pbnRBdHRyaWJ1dGVOYW1lcyA9IFtdKSB7XG4gICAgICAgIHRoaXMuYXR0cmlidXRlcyA9IFtdO1xuICAgICAgICB0aGlzLmJ5dGVTaXplID0gMDtcbiAgICAgICAgdGhpcy5zaXplID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb2ludEF0dHJpYnV0ZU5hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBwb2ludEF0dHJpYnV0ZU5hbWUgPSBwb2ludEF0dHJpYnV0ZU5hbWVzW2ldO1xuICAgICAgICAgICAgY29uc3QgcG9pbnRBdHRyaWJ1dGUgPSBQT0lOVF9BVFRSSUJVVEVTW3BvaW50QXR0cmlidXRlTmFtZV07XG4gICAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMucHVzaChwb2ludEF0dHJpYnV0ZSk7XG4gICAgICAgICAgICB0aGlzLmJ5dGVTaXplICs9IHBvaW50QXR0cmlidXRlLmJ5dGVTaXplO1xuICAgICAgICAgICAgdGhpcy5zaXplKys7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYWRkKHBvaW50QXR0cmlidXRlKSB7XG4gICAgICAgIHRoaXMuYXR0cmlidXRlcy5wdXNoKHBvaW50QXR0cmlidXRlKTtcbiAgICAgICAgdGhpcy5ieXRlU2l6ZSArPSBwb2ludEF0dHJpYnV0ZS5ieXRlU2l6ZTtcbiAgICAgICAgdGhpcy5zaXplKys7XG4gICAgfVxuICAgIGhhc0NvbG9ycygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXR0cmlidXRlcy5maW5kKGlzQ29sb3JBdHRyaWJ1dGUpICE9PSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGhhc05vcm1hbHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmF0dHJpYnV0ZXMuZmluZChpc05vcm1hbEF0dHJpYnV0ZSkgIT09IHVuZGVmaW5lZDtcbiAgICB9XG59XG5mdW5jdGlvbiBpc0NvbG9yQXR0cmlidXRlKHsgbmFtZSB9KSB7XG4gICAgcmV0dXJuIG5hbWUgPT09IFBvaW50QXR0cmlidXRlTmFtZS5DT0xPUl9QQUNLRUQ7XG59XG5mdW5jdGlvbiBpc05vcm1hbEF0dHJpYnV0ZSh7IG5hbWUgfSkge1xuICAgIHJldHVybiAobmFtZSA9PT0gUG9pbnRBdHRyaWJ1dGVOYW1lLk5PUk1BTF9TUEhFUkVNQVBQRUQgfHxcbiAgICAgICAgbmFtZSA9PT0gUG9pbnRBdHRyaWJ1dGVOYW1lLk5PUk1BTF9GTE9BVFMgfHxcbiAgICAgICAgbmFtZSA9PT0gUG9pbnRBdHRyaWJ1dGVOYW1lLk5PUk1BTCB8fFxuICAgICAgICBuYW1lID09PSBQb2ludEF0dHJpYnV0ZU5hbWUuTk9STUFMX09DVDE2KTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\\\\n//# sourceURL=webpack-internal:///./src/point-attributes.ts\\\\n\\\");\\n\\n/***/ }),\\n\\n/***/ \\\"./src/version.ts\\\":\\n/*!************************!*\\\\\\n  !*** ./src/version.ts ***!\\n  \\\\************************/\\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\\n\\neval(\\\"__webpack_require__.r(__webpack_exports__);\\\\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\\\\n/* harmony export */   Version: () => (/* binding */ Version)\\\\n/* harmony export */ });\\\\nclass Version {\\\\n    constructor(version) {\\\\n        this.versionMinor = 0;\\\\n        this.version = version;\\\\n        const vmLength = version.indexOf('.') === -1 ? version.length : version.indexOf('.');\\\\n        this.versionMajor = parseInt(version.substr(0, vmLength), 10);\\\\n        this.versionMinor = parseInt(version.substr(vmLength + 1), 10);\\\\n        if (isNaN(this.versionMinor)) {\\\\n            this.versionMinor = 0;\\\\n        }\\\\n    }\\\\n    newerThan(version) {\\\\n        const v = new Version(version);\\\\n        if (this.versionMajor > v.versionMajor) {\\\\n            return true;\\\\n        }\\\\n        else if (this.versionMajor === v.versionMajor && this.versionMinor > v.versionMinor) {\\\\n            return true;\\\\n        }\\\\n        else {\\\\n            return false;\\\\n        }\\\\n    }\\\\n    equalOrHigher(version) {\\\\n        const v = new Version(version);\\\\n        if (this.versionMajor > v.versionMajor) {\\\\n            return true;\\\\n        }\\\\n        else if (this.versionMajor === v.versionMajor && this.versionMinor >= v.versionMinor) {\\\\n            return true;\\\\n        }\\\\n        else {\\\\n            return false;\\\\n        }\\\\n    }\\\\n    upTo(version) {\\\\n        return !this.newerThan(version);\\\\n    }\\\\n}\\\\n//# sourceURL=[module]\\\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdmVyc2lvbi50cyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcG90cmVlLy4vc3JjL3ZlcnNpb24udHM/MTAyOSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgVmVyc2lvbiB7XG4gICAgY29uc3RydWN0b3IodmVyc2lvbikge1xuICAgICAgICB0aGlzLnZlcnNpb25NaW5vciA9IDA7XG4gICAgICAgIHRoaXMudmVyc2lvbiA9IHZlcnNpb247XG4gICAgICAgIGNvbnN0IHZtTGVuZ3RoID0gdmVyc2lvbi5pbmRleE9mKCcuJykgPT09IC0xID8gdmVyc2lvbi5sZW5ndGggOiB2ZXJzaW9uLmluZGV4T2YoJy4nKTtcbiAgICAgICAgdGhpcy52ZXJzaW9uTWFqb3IgPSBwYXJzZUludCh2ZXJzaW9uLnN1YnN0cigwLCB2bUxlbmd0aCksIDEwKTtcbiAgICAgICAgdGhpcy52ZXJzaW9uTWlub3IgPSBwYXJzZUludCh2ZXJzaW9uLnN1YnN0cih2bUxlbmd0aCArIDEpLCAxMCk7XG4gICAgICAgIGlmIChpc05hTih0aGlzLnZlcnNpb25NaW5vcikpIHtcbiAgICAgICAgICAgIHRoaXMudmVyc2lvbk1pbm9yID0gMDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBuZXdlclRoYW4odmVyc2lvbikge1xuICAgICAgICBjb25zdCB2ID0gbmV3IFZlcnNpb24odmVyc2lvbik7XG4gICAgICAgIGlmICh0aGlzLnZlcnNpb25NYWpvciA+IHYudmVyc2lvbk1ham9yKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnZlcnNpb25NYWpvciA9PT0gdi52ZXJzaW9uTWFqb3IgJiYgdGhpcy52ZXJzaW9uTWlub3IgPiB2LnZlcnNpb25NaW5vcikge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZXF1YWxPckhpZ2hlcih2ZXJzaW9uKSB7XG4gICAgICAgIGNvbnN0IHYgPSBuZXcgVmVyc2lvbih2ZXJzaW9uKTtcbiAgICAgICAgaWYgKHRoaXMudmVyc2lvbk1ham9yID4gdi52ZXJzaW9uTWFqb3IpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMudmVyc2lvbk1ham9yID09PSB2LnZlcnNpb25NYWpvciAmJiB0aGlzLnZlcnNpb25NaW5vciA+PSB2LnZlcnNpb25NaW5vcikge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdXBUbyh2ZXJzaW9uKSB7XG4gICAgICAgIHJldHVybiAhdGhpcy5uZXdlclRoYW4odmVyc2lvbik7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\\\\n//# sourceURL=webpack-internal:///./src/version.ts\\\\n\\\");\\n\\n/***/ }),\\n\\n/***/ \\\"./src/workers/binary-decoder-worker-internal.ts\\\":\\n/*!*******************************************************!*\\\\\\n  !*** ./src/workers/binary-decoder-worker-internal.ts ***!\\n  \\\\*******************************************************/\\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\\n\\neval(\\\"__webpack_require__.r(__webpack_exports__);\\\\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\\\\n/* harmony export */   handleMessage: () => (/* binding */ handleMessage)\\\\n/* harmony export */ });\\\\n/* harmony import */ var _point_attributes__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../point-attributes */ \\\\\\\"./src/point-attributes.ts\\\\\\\");\\\\n/* harmony import */ var _version__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../version */ \\\\\\\"./src/version.ts\\\\\\\");\\\\n/* harmony import */ var _custom_array_view__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./custom-array-view */ \\\\\\\"./src/workers/custom-array-view.ts\\\\\\\");\\\\n/**\\\\n * Adapted from Potree.js http://potree.org\\\\n * Potree License: https://github.com/potree/potree/blob/1.5/LICENSE\\\\n */\\\\n\\\\n\\\\n\\\\n// IE11 does not have Math.sign(), this has been adapted from CoreJS es6.math.sign.js for TypeScript\\\\nconst mathSign = Math.sign ||\\\\n    function (x) {\\\\n        // tslint:disable-next-line:triple-equals\\\\n        return (x = +x) == 0 || x != x ? x : x < 0 ? -1 : 1;\\\\n    };\\\\nfunction handleMessage(event) {\\\\n    const buffer = event.data.buffer;\\\\n    const pointAttributes = event.data.pointAttributes;\\\\n    const ctx = {\\\\n        attributeBuffers: {},\\\\n        currentOffset: 0,\\\\n        data: new _custom_array_view__WEBPACK_IMPORTED_MODULE_2__.CustomArrayView(buffer),\\\\n        mean: [0, 0, 0],\\\\n        nodeOffset: event.data.offset,\\\\n        numPoints: event.data.buffer.byteLength / pointAttributes.byteSize,\\\\n        pointAttributes,\\\\n        scale: event.data.scale,\\\\n        tightBoxMax: [Number.NEGATIVE_INFINITY, Number.NEGATIVE_INFINITY, Number.NEGATIVE_INFINITY],\\\\n        tightBoxMin: [Number.POSITIVE_INFINITY, Number.POSITIVE_INFINITY, Number.POSITIVE_INFINITY],\\\\n        transferables: [],\\\\n        version: new _version__WEBPACK_IMPORTED_MODULE_1__.Version(event.data.version),\\\\n    };\\\\n    for (const pointAttribute of ctx.pointAttributes.attributes) {\\\\n        decodeAndAddAttribute(pointAttribute, ctx);\\\\n        ctx.currentOffset += pointAttribute.byteSize;\\\\n    }\\\\n    const indices = new ArrayBuffer(ctx.numPoints * 4);\\\\n    const iIndices = new Uint32Array(indices);\\\\n    for (let i = 0; i < ctx.numPoints; i++) {\\\\n        iIndices[i] = i;\\\\n    }\\\\n    if (!ctx.attributeBuffers[_point_attributes__WEBPACK_IMPORTED_MODULE_0__.PointAttributeName.CLASSIFICATION]) {\\\\n        addEmptyClassificationBuffer(ctx);\\\\n    }\\\\n    const message = {\\\\n        buffer: buffer,\\\\n        mean: ctx.mean,\\\\n        attributeBuffers: ctx.attributeBuffers,\\\\n        tightBoundingBox: { min: ctx.tightBoxMin, max: ctx.tightBoxMax },\\\\n        indices,\\\\n    };\\\\n    postMessage(message, ctx.transferables);\\\\n}\\\\nfunction addEmptyClassificationBuffer(ctx) {\\\\n    const buffer = new ArrayBuffer(ctx.numPoints * 4);\\\\n    const classifications = new Float32Array(buffer);\\\\n    for (let i = 0; i < ctx.numPoints; i++) {\\\\n        classifications[i] = 0;\\\\n    }\\\\n    ctx.attributeBuffers[_point_attributes__WEBPACK_IMPORTED_MODULE_0__.PointAttributeName.CLASSIFICATION] = {\\\\n        buffer,\\\\n        attribute: _point_attributes__WEBPACK_IMPORTED_MODULE_0__.POINT_ATTRIBUTES.CLASSIFICATION,\\\\n    };\\\\n}\\\\nfunction decodeAndAddAttribute(attribute, ctx) {\\\\n    const decodedAttribute = decodePointAttribute(attribute, ctx);\\\\n    if (decodedAttribute === undefined) {\\\\n        return;\\\\n    }\\\\n    ctx.attributeBuffers[decodedAttribute.attribute.name] = decodedAttribute;\\\\n    ctx.transferables.push(decodedAttribute.buffer);\\\\n}\\\\nfunction decodePointAttribute(attribute, ctx) {\\\\n    switch (attribute.name) {\\\\n        case _point_attributes__WEBPACK_IMPORTED_MODULE_0__.PointAttributeName.POSITION_CARTESIAN:\\\\n            return decodePositionCartesian(attribute, ctx);\\\\n        case _point_attributes__WEBPACK_IMPORTED_MODULE_0__.PointAttributeName.COLOR_PACKED:\\\\n            return decodeColor(attribute, ctx);\\\\n        case _point_attributes__WEBPACK_IMPORTED_MODULE_0__.PointAttributeName.INTENSITY:\\\\n            return decodeIntensity(attribute, ctx);\\\\n        case _point_attributes__WEBPACK_IMPORTED_MODULE_0__.PointAttributeName.CLASSIFICATION:\\\\n            return decodeClassification(attribute, ctx);\\\\n        case _point_attributes__WEBPACK_IMPORTED_MODULE_0__.PointAttributeName.NORMAL_SPHEREMAPPED:\\\\n            return decodeNormalSphereMapped(attribute, ctx);\\\\n        case _point_attributes__WEBPACK_IMPORTED_MODULE_0__.PointAttributeName.NORMAL_OCT16:\\\\n            return decodeNormalOct16(attribute, ctx);\\\\n        case _point_attributes__WEBPACK_IMPORTED_MODULE_0__.PointAttributeName.NORMAL:\\\\n            return decodeNormal(attribute, ctx);\\\\n        default:\\\\n            return undefined;\\\\n    }\\\\n}\\\\nfunction decodePositionCartesian(attribute, ctx) {\\\\n    const buffer = new ArrayBuffer(ctx.numPoints * 4 * 3);\\\\n    const positions = new Float32Array(buffer);\\\\n    for (let i = 0; i < ctx.numPoints; i++) {\\\\n        let x;\\\\n        let y;\\\\n        let z;\\\\n        if (ctx.version.newerThan('1.3')) {\\\\n            x = ctx.data.getUint32(ctx.currentOffset + i * ctx.pointAttributes.byteSize + 0) * ctx.scale;\\\\n            y = ctx.data.getUint32(ctx.currentOffset + i * ctx.pointAttributes.byteSize + 4) * ctx.scale;\\\\n            z = ctx.data.getUint32(ctx.currentOffset + i * ctx.pointAttributes.byteSize + 8) * ctx.scale;\\\\n        }\\\\n        else {\\\\n            x = ctx.data.getFloat32(i * ctx.pointAttributes.byteSize + 0) + ctx.nodeOffset[0];\\\\n            y = ctx.data.getFloat32(i * ctx.pointAttributes.byteSize + 4) + ctx.nodeOffset[1];\\\\n            z = ctx.data.getFloat32(i * ctx.pointAttributes.byteSize + 8) + ctx.nodeOffset[2];\\\\n        }\\\\n        positions[3 * i + 0] = x;\\\\n        positions[3 * i + 1] = y;\\\\n        positions[3 * i + 2] = z;\\\\n        ctx.mean[0] += x / ctx.numPoints;\\\\n        ctx.mean[1] += y / ctx.numPoints;\\\\n        ctx.mean[2] += z / ctx.numPoints;\\\\n        ctx.tightBoxMin[0] = Math.min(ctx.tightBoxMin[0], x);\\\\n        ctx.tightBoxMin[1] = Math.min(ctx.tightBoxMin[1], y);\\\\n        ctx.tightBoxMin[2] = Math.min(ctx.tightBoxMin[2], z);\\\\n        ctx.tightBoxMax[0] = Math.max(ctx.tightBoxMax[0], x);\\\\n        ctx.tightBoxMax[1] = Math.max(ctx.tightBoxMax[1], y);\\\\n        ctx.tightBoxMax[2] = Math.max(ctx.tightBoxMax[2], z);\\\\n    }\\\\n    return { buffer, attribute };\\\\n}\\\\nfunction decodeColor(attribute, ctx) {\\\\n    const buffer = new ArrayBuffer(ctx.numPoints * 3);\\\\n    const colors = new Uint8Array(buffer);\\\\n    for (let i = 0; i < ctx.numPoints; i++) {\\\\n        colors[3 * i + 0] = ctx.data.getUint8(ctx.currentOffset + i * ctx.pointAttributes.byteSize + 0);\\\\n        colors[3 * i + 1] = ctx.data.getUint8(ctx.currentOffset + i * ctx.pointAttributes.byteSize + 1);\\\\n        colors[3 * i + 2] = ctx.data.getUint8(ctx.currentOffset + i * ctx.pointAttributes.byteSize + 2);\\\\n    }\\\\n    return { buffer, attribute };\\\\n}\\\\nfunction decodeIntensity(attribute, ctx) {\\\\n    const buffer = new ArrayBuffer(ctx.numPoints * 4);\\\\n    const intensities = new Float32Array(buffer);\\\\n    for (let i = 0; i < ctx.numPoints; i++) {\\\\n        intensities[i] = ctx.data.getUint16(ctx.currentOffset + i * ctx.pointAttributes.byteSize);\\\\n    }\\\\n    return { buffer, attribute };\\\\n}\\\\nfunction decodeClassification(attribute, ctx) {\\\\n    const buffer = new ArrayBuffer(ctx.numPoints);\\\\n    const classifications = new Uint8Array(buffer);\\\\n    for (let j = 0; j < ctx.numPoints; j++) {\\\\n        classifications[j] = ctx.data.getUint8(ctx.currentOffset + j * ctx.pointAttributes.byteSize);\\\\n    }\\\\n    return { buffer, attribute };\\\\n}\\\\nfunction decodeNormalSphereMapped(attribute, ctx) {\\\\n    const buffer = new ArrayBuffer(ctx.numPoints * 4 * 3);\\\\n    const normals = new Float32Array(buffer);\\\\n    for (let j = 0; j < ctx.numPoints; j++) {\\\\n        const bx = ctx.data.getUint8(ctx.currentOffset + j * ctx.pointAttributes.byteSize + 0);\\\\n        const by = ctx.data.getUint8(ctx.currentOffset + j * ctx.pointAttributes.byteSize + 1);\\\\n        const ex = bx / 255;\\\\n        const ey = by / 255;\\\\n        let nx = ex * 2 - 1;\\\\n        let ny = ey * 2 - 1;\\\\n        let nz = 1;\\\\n        const nw = -1;\\\\n        const l = nx * -nx + ny * -ny + nz * -nw;\\\\n        nz = l;\\\\n        nx = nx * Math.sqrt(l);\\\\n        ny = ny * Math.sqrt(l);\\\\n        nx = nx * 2;\\\\n        ny = ny * 2;\\\\n        nz = nz * 2 - 1;\\\\n        normals[3 * j + 0] = nx;\\\\n        normals[3 * j + 1] = ny;\\\\n        normals[3 * j + 2] = nz;\\\\n    }\\\\n    return { buffer, attribute };\\\\n}\\\\nfunction decodeNormalOct16(attribute, ctx) {\\\\n    const buff = new ArrayBuffer(ctx.numPoints * 4 * 3);\\\\n    const normals = new Float32Array(buff);\\\\n    for (let j = 0; j < ctx.numPoints; j++) {\\\\n        const bx = ctx.data.getUint8(ctx.currentOffset + j * ctx.pointAttributes.byteSize + 0);\\\\n        const by = ctx.data.getUint8(ctx.currentOffset + j * ctx.pointAttributes.byteSize + 1);\\\\n        const u = (bx / 255) * 2 - 1;\\\\n        const v = (by / 255) * 2 - 1;\\\\n        let z = 1 - Math.abs(u) - Math.abs(v);\\\\n        let x = 0;\\\\n        let y = 0;\\\\n        if (z >= 0) {\\\\n            x = u;\\\\n            y = v;\\\\n        }\\\\n        else {\\\\n            x = -(v / mathSign(v) - 1) / mathSign(u);\\\\n            y = -(u / mathSign(u) - 1) / mathSign(v);\\\\n        }\\\\n        const length = Math.sqrt(x * x + y * y + z * z);\\\\n        x = x / length;\\\\n        y = y / length;\\\\n        z = z / length;\\\\n        normals[3 * j + 0] = x;\\\\n        normals[3 * j + 1] = y;\\\\n        normals[3 * j + 2] = z;\\\\n    }\\\\n    return { buffer: buff, attribute };\\\\n}\\\\nfunction decodeNormal(attribute, ctx) {\\\\n    const buffer = new ArrayBuffer(ctx.numPoints * 4 * 3);\\\\n    const normals = new Float32Array(buffer);\\\\n    for (let j = 0; j < ctx.numPoints; j++) {\\\\n        const x = ctx.data.getFloat32(ctx.currentOffset + j * ctx.pointAttributes.byteSize + 0);\\\\n        const y = ctx.data.getFloat32(ctx.currentOffset + j * ctx.pointAttributes.byteSize + 4);\\\\n        const z = ctx.data.getFloat32(ctx.currentOffset + j * ctx.pointAttributes.byteSize + 8);\\\\n        normals[3 * j + 0] = x;\\\\n        normals[3 * j + 1] = y;\\\\n        normals[3 * j + 2] = z;\\\\n    }\\\\n    return { buffer, attribute };\\\\n}\\\\n//# sourceURL=[module]\\\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvd29ya2Vycy9iaW5hcnktZGVjb2Rlci13b3JrZXItaW50ZXJuYWwudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb3RyZWUvLi9zcmMvd29ya2Vycy9iaW5hcnktZGVjb2Rlci13b3JrZXItaW50ZXJuYWwudHM/Y2RmZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEFkYXB0ZWQgZnJvbSBQb3RyZWUuanMgaHR0cDovL3BvdHJlZS5vcmdcbiAqIFBvdHJlZSBMaWNlbnNlOiBodHRwczovL2dpdGh1Yi5jb20vcG90cmVlL3BvdHJlZS9ibG9iLzEuNS9MSUNFTlNFXG4gKi9cbmltcG9ydCB7IFBvaW50QXR0cmlidXRlTmFtZSwgUE9JTlRfQVRUUklCVVRFUywgfSBmcm9tICcuLi9wb2ludC1hdHRyaWJ1dGVzJztcbmltcG9ydCB7IFZlcnNpb24gfSBmcm9tICcuLi92ZXJzaW9uJztcbmltcG9ydCB7IEN1c3RvbUFycmF5VmlldyB9IGZyb20gJy4vY3VzdG9tLWFycmF5LXZpZXcnO1xuLy8gSUUxMSBkb2VzIG5vdCBoYXZlIE1hdGguc2lnbigpLCB0aGlzIGhhcyBiZWVuIGFkYXB0ZWQgZnJvbSBDb3JlSlMgZXM2Lm1hdGguc2lnbi5qcyBmb3IgVHlwZVNjcmlwdFxuY29uc3QgbWF0aFNpZ24gPSBNYXRoLnNpZ24gfHxcbiAgICBmdW5jdGlvbiAoeCkge1xuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6dHJpcGxlLWVxdWFsc1xuICAgICAgICByZXR1cm4gKHggPSAreCkgPT0gMCB8fCB4ICE9IHggPyB4IDogeCA8IDAgPyAtMSA6IDE7XG4gICAgfTtcbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVNZXNzYWdlKGV2ZW50KSB7XG4gICAgY29uc3QgYnVmZmVyID0gZXZlbnQuZGF0YS5idWZmZXI7XG4gICAgY29uc3QgcG9pbnRBdHRyaWJ1dGVzID0gZXZlbnQuZGF0YS5wb2ludEF0dHJpYnV0ZXM7XG4gICAgY29uc3QgY3R4ID0ge1xuICAgICAgICBhdHRyaWJ1dGVCdWZmZXJzOiB7fSxcbiAgICAgICAgY3VycmVudE9mZnNldDogMCxcbiAgICAgICAgZGF0YTogbmV3IEN1c3RvbUFycmF5VmlldyhidWZmZXIpLFxuICAgICAgICBtZWFuOiBbMCwgMCwgMF0sXG4gICAgICAgIG5vZGVPZmZzZXQ6IGV2ZW50LmRhdGEub2Zmc2V0LFxuICAgICAgICBudW1Qb2ludHM6IGV2ZW50LmRhdGEuYnVmZmVyLmJ5dGVMZW5ndGggLyBwb2ludEF0dHJpYnV0ZXMuYnl0ZVNpemUsXG4gICAgICAgIHBvaW50QXR0cmlidXRlcyxcbiAgICAgICAgc2NhbGU6IGV2ZW50LmRhdGEuc2NhbGUsXG4gICAgICAgIHRpZ2h0Qm94TWF4OiBbTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZLCBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksIE51bWJlci5ORUdBVElWRV9JTkZJTklUWV0sXG4gICAgICAgIHRpZ2h0Qm94TWluOiBbTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLCBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksIE51bWJlci5QT1NJVElWRV9JTkZJTklUWV0sXG4gICAgICAgIHRyYW5zZmVyYWJsZXM6IFtdLFxuICAgICAgICB2ZXJzaW9uOiBuZXcgVmVyc2lvbihldmVudC5kYXRhLnZlcnNpb24pLFxuICAgIH07XG4gICAgZm9yIChjb25zdCBwb2ludEF0dHJpYnV0ZSBvZiBjdHgucG9pbnRBdHRyaWJ1dGVzLmF0dHJpYnV0ZXMpIHtcbiAgICAgICAgZGVjb2RlQW5kQWRkQXR0cmlidXRlKHBvaW50QXR0cmlidXRlLCBjdHgpO1xuICAgICAgICBjdHguY3VycmVudE9mZnNldCArPSBwb2ludEF0dHJpYnV0ZS5ieXRlU2l6ZTtcbiAgICB9XG4gICAgY29uc3QgaW5kaWNlcyA9IG5ldyBBcnJheUJ1ZmZlcihjdHgubnVtUG9pbnRzICogNCk7XG4gICAgY29uc3QgaUluZGljZXMgPSBuZXcgVWludDMyQXJyYXkoaW5kaWNlcyk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjdHgubnVtUG9pbnRzOyBpKyspIHtcbiAgICAgICAgaUluZGljZXNbaV0gPSBpO1xuICAgIH1cbiAgICBpZiAoIWN0eC5hdHRyaWJ1dGVCdWZmZXJzW1BvaW50QXR0cmlidXRlTmFtZS5DTEFTU0lGSUNBVElPTl0pIHtcbiAgICAgICAgYWRkRW1wdHlDbGFzc2lmaWNhdGlvbkJ1ZmZlcihjdHgpO1xuICAgIH1cbiAgICBjb25zdCBtZXNzYWdlID0ge1xuICAgICAgICBidWZmZXI6IGJ1ZmZlcixcbiAgICAgICAgbWVhbjogY3R4Lm1lYW4sXG4gICAgICAgIGF0dHJpYnV0ZUJ1ZmZlcnM6IGN0eC5hdHRyaWJ1dGVCdWZmZXJzLFxuICAgICAgICB0aWdodEJvdW5kaW5nQm94OiB7IG1pbjogY3R4LnRpZ2h0Qm94TWluLCBtYXg6IGN0eC50aWdodEJveE1heCB9LFxuICAgICAgICBpbmRpY2VzLFxuICAgIH07XG4gICAgcG9zdE1lc3NhZ2UobWVzc2FnZSwgY3R4LnRyYW5zZmVyYWJsZXMpO1xufVxuZnVuY3Rpb24gYWRkRW1wdHlDbGFzc2lmaWNhdGlvbkJ1ZmZlcihjdHgpIHtcbiAgICBjb25zdCBidWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIoY3R4Lm51bVBvaW50cyAqIDQpO1xuICAgIGNvbnN0IGNsYXNzaWZpY2F0aW9ucyA9IG5ldyBGbG9hdDMyQXJyYXkoYnVmZmVyKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGN0eC5udW1Qb2ludHM7IGkrKykge1xuICAgICAgICBjbGFzc2lmaWNhdGlvbnNbaV0gPSAwO1xuICAgIH1cbiAgICBjdHguYXR0cmlidXRlQnVmZmVyc1tQb2ludEF0dHJpYnV0ZU5hbWUuQ0xBU1NJRklDQVRJT05dID0ge1xuICAgICAgICBidWZmZXIsXG4gICAgICAgIGF0dHJpYnV0ZTogUE9JTlRfQVRUUklCVVRFUy5DTEFTU0lGSUNBVElPTixcbiAgICB9O1xufVxuZnVuY3Rpb24gZGVjb2RlQW5kQWRkQXR0cmlidXRlKGF0dHJpYnV0ZSwgY3R4KSB7XG4gICAgY29uc3QgZGVjb2RlZEF0dHJpYnV0ZSA9IGRlY29kZVBvaW50QXR0cmlidXRlKGF0dHJpYnV0ZSwgY3R4KTtcbiAgICBpZiAoZGVjb2RlZEF0dHJpYnV0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY3R4LmF0dHJpYnV0ZUJ1ZmZlcnNbZGVjb2RlZEF0dHJpYnV0ZS5hdHRyaWJ1dGUubmFtZV0gPSBkZWNvZGVkQXR0cmlidXRlO1xuICAgIGN0eC50cmFuc2ZlcmFibGVzLnB1c2goZGVjb2RlZEF0dHJpYnV0ZS5idWZmZXIpO1xufVxuZnVuY3Rpb24gZGVjb2RlUG9pbnRBdHRyaWJ1dGUoYXR0cmlidXRlLCBjdHgpIHtcbiAgICBzd2l0Y2ggKGF0dHJpYnV0ZS5uYW1lKSB7XG4gICAgICAgIGNhc2UgUG9pbnRBdHRyaWJ1dGVOYW1lLlBPU0lUSU9OX0NBUlRFU0lBTjpcbiAgICAgICAgICAgIHJldHVybiBkZWNvZGVQb3NpdGlvbkNhcnRlc2lhbihhdHRyaWJ1dGUsIGN0eCk7XG4gICAgICAgIGNhc2UgUG9pbnRBdHRyaWJ1dGVOYW1lLkNPTE9SX1BBQ0tFRDpcbiAgICAgICAgICAgIHJldHVybiBkZWNvZGVDb2xvcihhdHRyaWJ1dGUsIGN0eCk7XG4gICAgICAgIGNhc2UgUG9pbnRBdHRyaWJ1dGVOYW1lLklOVEVOU0lUWTpcbiAgICAgICAgICAgIHJldHVybiBkZWNvZGVJbnRlbnNpdHkoYXR0cmlidXRlLCBjdHgpO1xuICAgICAgICBjYXNlIFBvaW50QXR0cmlidXRlTmFtZS5DTEFTU0lGSUNBVElPTjpcbiAgICAgICAgICAgIHJldHVybiBkZWNvZGVDbGFzc2lmaWNhdGlvbihhdHRyaWJ1dGUsIGN0eCk7XG4gICAgICAgIGNhc2UgUG9pbnRBdHRyaWJ1dGVOYW1lLk5PUk1BTF9TUEhFUkVNQVBQRUQ6XG4gICAgICAgICAgICByZXR1cm4gZGVjb2RlTm9ybWFsU3BoZXJlTWFwcGVkKGF0dHJpYnV0ZSwgY3R4KTtcbiAgICAgICAgY2FzZSBQb2ludEF0dHJpYnV0ZU5hbWUuTk9STUFMX09DVDE2OlxuICAgICAgICAgICAgcmV0dXJuIGRlY29kZU5vcm1hbE9jdDE2KGF0dHJpYnV0ZSwgY3R4KTtcbiAgICAgICAgY2FzZSBQb2ludEF0dHJpYnV0ZU5hbWUuTk9STUFMOlxuICAgICAgICAgICAgcmV0dXJuIGRlY29kZU5vcm1hbChhdHRyaWJ1dGUsIGN0eCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGRlY29kZVBvc2l0aW9uQ2FydGVzaWFuKGF0dHJpYnV0ZSwgY3R4KSB7XG4gICAgY29uc3QgYnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKGN0eC5udW1Qb2ludHMgKiA0ICogMyk7XG4gICAgY29uc3QgcG9zaXRpb25zID0gbmV3IEZsb2F0MzJBcnJheShidWZmZXIpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY3R4Lm51bVBvaW50czsgaSsrKSB7XG4gICAgICAgIGxldCB4O1xuICAgICAgICBsZXQgeTtcbiAgICAgICAgbGV0IHo7XG4gICAgICAgIGlmIChjdHgudmVyc2lvbi5uZXdlclRoYW4oJzEuMycpKSB7XG4gICAgICAgICAgICB4ID0gY3R4LmRhdGEuZ2V0VWludDMyKGN0eC5jdXJyZW50T2Zmc2V0ICsgaSAqIGN0eC5wb2ludEF0dHJpYnV0ZXMuYnl0ZVNpemUgKyAwKSAqIGN0eC5zY2FsZTtcbiAgICAgICAgICAgIHkgPSBjdHguZGF0YS5nZXRVaW50MzIoY3R4LmN1cnJlbnRPZmZzZXQgKyBpICogY3R4LnBvaW50QXR0cmlidXRlcy5ieXRlU2l6ZSArIDQpICogY3R4LnNjYWxlO1xuICAgICAgICAgICAgeiA9IGN0eC5kYXRhLmdldFVpbnQzMihjdHguY3VycmVudE9mZnNldCArIGkgKiBjdHgucG9pbnRBdHRyaWJ1dGVzLmJ5dGVTaXplICsgOCkgKiBjdHguc2NhbGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB4ID0gY3R4LmRhdGEuZ2V0RmxvYXQzMihpICogY3R4LnBvaW50QXR0cmlidXRlcy5ieXRlU2l6ZSArIDApICsgY3R4Lm5vZGVPZmZzZXRbMF07XG4gICAgICAgICAgICB5ID0gY3R4LmRhdGEuZ2V0RmxvYXQzMihpICogY3R4LnBvaW50QXR0cmlidXRlcy5ieXRlU2l6ZSArIDQpICsgY3R4Lm5vZGVPZmZzZXRbMV07XG4gICAgICAgICAgICB6ID0gY3R4LmRhdGEuZ2V0RmxvYXQzMihpICogY3R4LnBvaW50QXR0cmlidXRlcy5ieXRlU2l6ZSArIDgpICsgY3R4Lm5vZGVPZmZzZXRbMl07XG4gICAgICAgIH1cbiAgICAgICAgcG9zaXRpb25zWzMgKiBpICsgMF0gPSB4O1xuICAgICAgICBwb3NpdGlvbnNbMyAqIGkgKyAxXSA9IHk7XG4gICAgICAgIHBvc2l0aW9uc1szICogaSArIDJdID0gejtcbiAgICAgICAgY3R4Lm1lYW5bMF0gKz0geCAvIGN0eC5udW1Qb2ludHM7XG4gICAgICAgIGN0eC5tZWFuWzFdICs9IHkgLyBjdHgubnVtUG9pbnRzO1xuICAgICAgICBjdHgubWVhblsyXSArPSB6IC8gY3R4Lm51bVBvaW50cztcbiAgICAgICAgY3R4LnRpZ2h0Qm94TWluWzBdID0gTWF0aC5taW4oY3R4LnRpZ2h0Qm94TWluWzBdLCB4KTtcbiAgICAgICAgY3R4LnRpZ2h0Qm94TWluWzFdID0gTWF0aC5taW4oY3R4LnRpZ2h0Qm94TWluWzFdLCB5KTtcbiAgICAgICAgY3R4LnRpZ2h0Qm94TWluWzJdID0gTWF0aC5taW4oY3R4LnRpZ2h0Qm94TWluWzJdLCB6KTtcbiAgICAgICAgY3R4LnRpZ2h0Qm94TWF4WzBdID0gTWF0aC5tYXgoY3R4LnRpZ2h0Qm94TWF4WzBdLCB4KTtcbiAgICAgICAgY3R4LnRpZ2h0Qm94TWF4WzFdID0gTWF0aC5tYXgoY3R4LnRpZ2h0Qm94TWF4WzFdLCB5KTtcbiAgICAgICAgY3R4LnRpZ2h0Qm94TWF4WzJdID0gTWF0aC5tYXgoY3R4LnRpZ2h0Qm94TWF4WzJdLCB6KTtcbiAgICB9XG4gICAgcmV0dXJuIHsgYnVmZmVyLCBhdHRyaWJ1dGUgfTtcbn1cbmZ1bmN0aW9uIGRlY29kZUNvbG9yKGF0dHJpYnV0ZSwgY3R4KSB7XG4gICAgY29uc3QgYnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKGN0eC5udW1Qb2ludHMgKiAzKTtcbiAgICBjb25zdCBjb2xvcnMgPSBuZXcgVWludDhBcnJheShidWZmZXIpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY3R4Lm51bVBvaW50czsgaSsrKSB7XG4gICAgICAgIGNvbG9yc1szICogaSArIDBdID0gY3R4LmRhdGEuZ2V0VWludDgoY3R4LmN1cnJlbnRPZmZzZXQgKyBpICogY3R4LnBvaW50QXR0cmlidXRlcy5ieXRlU2l6ZSArIDApO1xuICAgICAgICBjb2xvcnNbMyAqIGkgKyAxXSA9IGN0eC5kYXRhLmdldFVpbnQ4KGN0eC5jdXJyZW50T2Zmc2V0ICsgaSAqIGN0eC5wb2ludEF0dHJpYnV0ZXMuYnl0ZVNpemUgKyAxKTtcbiAgICAgICAgY29sb3JzWzMgKiBpICsgMl0gPSBjdHguZGF0YS5nZXRVaW50OChjdHguY3VycmVudE9mZnNldCArIGkgKiBjdHgucG9pbnRBdHRyaWJ1dGVzLmJ5dGVTaXplICsgMik7XG4gICAgfVxuICAgIHJldHVybiB7IGJ1ZmZlciwgYXR0cmlidXRlIH07XG59XG5mdW5jdGlvbiBkZWNvZGVJbnRlbnNpdHkoYXR0cmlidXRlLCBjdHgpIHtcbiAgICBjb25zdCBidWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIoY3R4Lm51bVBvaW50cyAqIDQpO1xuICAgIGNvbnN0IGludGVuc2l0aWVzID0gbmV3IEZsb2F0MzJBcnJheShidWZmZXIpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY3R4Lm51bVBvaW50czsgaSsrKSB7XG4gICAgICAgIGludGVuc2l0aWVzW2ldID0gY3R4LmRhdGEuZ2V0VWludDE2KGN0eC5jdXJyZW50T2Zmc2V0ICsgaSAqIGN0eC5wb2ludEF0dHJpYnV0ZXMuYnl0ZVNpemUpO1xuICAgIH1cbiAgICByZXR1cm4geyBidWZmZXIsIGF0dHJpYnV0ZSB9O1xufVxuZnVuY3Rpb24gZGVjb2RlQ2xhc3NpZmljYXRpb24oYXR0cmlidXRlLCBjdHgpIHtcbiAgICBjb25zdCBidWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIoY3R4Lm51bVBvaW50cyk7XG4gICAgY29uc3QgY2xhc3NpZmljYXRpb25zID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKTtcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IGN0eC5udW1Qb2ludHM7IGorKykge1xuICAgICAgICBjbGFzc2lmaWNhdGlvbnNbal0gPSBjdHguZGF0YS5nZXRVaW50OChjdHguY3VycmVudE9mZnNldCArIGogKiBjdHgucG9pbnRBdHRyaWJ1dGVzLmJ5dGVTaXplKTtcbiAgICB9XG4gICAgcmV0dXJuIHsgYnVmZmVyLCBhdHRyaWJ1dGUgfTtcbn1cbmZ1bmN0aW9uIGRlY29kZU5vcm1hbFNwaGVyZU1hcHBlZChhdHRyaWJ1dGUsIGN0eCkge1xuICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcihjdHgubnVtUG9pbnRzICogNCAqIDMpO1xuICAgIGNvbnN0IG5vcm1hbHMgPSBuZXcgRmxvYXQzMkFycmF5KGJ1ZmZlcik7XG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCBjdHgubnVtUG9pbnRzOyBqKyspIHtcbiAgICAgICAgY29uc3QgYnggPSBjdHguZGF0YS5nZXRVaW50OChjdHguY3VycmVudE9mZnNldCArIGogKiBjdHgucG9pbnRBdHRyaWJ1dGVzLmJ5dGVTaXplICsgMCk7XG4gICAgICAgIGNvbnN0IGJ5ID0gY3R4LmRhdGEuZ2V0VWludDgoY3R4LmN1cnJlbnRPZmZzZXQgKyBqICogY3R4LnBvaW50QXR0cmlidXRlcy5ieXRlU2l6ZSArIDEpO1xuICAgICAgICBjb25zdCBleCA9IGJ4IC8gMjU1O1xuICAgICAgICBjb25zdCBleSA9IGJ5IC8gMjU1O1xuICAgICAgICBsZXQgbnggPSBleCAqIDIgLSAxO1xuICAgICAgICBsZXQgbnkgPSBleSAqIDIgLSAxO1xuICAgICAgICBsZXQgbnogPSAxO1xuICAgICAgICBjb25zdCBudyA9IC0xO1xuICAgICAgICBjb25zdCBsID0gbnggKiAtbnggKyBueSAqIC1ueSArIG56ICogLW53O1xuICAgICAgICBueiA9IGw7XG4gICAgICAgIG54ID0gbnggKiBNYXRoLnNxcnQobCk7XG4gICAgICAgIG55ID0gbnkgKiBNYXRoLnNxcnQobCk7XG4gICAgICAgIG54ID0gbnggKiAyO1xuICAgICAgICBueSA9IG55ICogMjtcbiAgICAgICAgbnogPSBueiAqIDIgLSAxO1xuICAgICAgICBub3JtYWxzWzMgKiBqICsgMF0gPSBueDtcbiAgICAgICAgbm9ybWFsc1szICogaiArIDFdID0gbnk7XG4gICAgICAgIG5vcm1hbHNbMyAqIGogKyAyXSA9IG56O1xuICAgIH1cbiAgICByZXR1cm4geyBidWZmZXIsIGF0dHJpYnV0ZSB9O1xufVxuZnVuY3Rpb24gZGVjb2RlTm9ybWFsT2N0MTYoYXR0cmlidXRlLCBjdHgpIHtcbiAgICBjb25zdCBidWZmID0gbmV3IEFycmF5QnVmZmVyKGN0eC5udW1Qb2ludHMgKiA0ICogMyk7XG4gICAgY29uc3Qgbm9ybWFscyA9IG5ldyBGbG9hdDMyQXJyYXkoYnVmZik7XG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCBjdHgubnVtUG9pbnRzOyBqKyspIHtcbiAgICAgICAgY29uc3QgYnggPSBjdHguZGF0YS5nZXRVaW50OChjdHguY3VycmVudE9mZnNldCArIGogKiBjdHgucG9pbnRBdHRyaWJ1dGVzLmJ5dGVTaXplICsgMCk7XG4gICAgICAgIGNvbnN0IGJ5ID0gY3R4LmRhdGEuZ2V0VWludDgoY3R4LmN1cnJlbnRPZmZzZXQgKyBqICogY3R4LnBvaW50QXR0cmlidXRlcy5ieXRlU2l6ZSArIDEpO1xuICAgICAgICBjb25zdCB1ID0gKGJ4IC8gMjU1KSAqIDIgLSAxO1xuICAgICAgICBjb25zdCB2ID0gKGJ5IC8gMjU1KSAqIDIgLSAxO1xuICAgICAgICBsZXQgeiA9IDEgLSBNYXRoLmFicyh1KSAtIE1hdGguYWJzKHYpO1xuICAgICAgICBsZXQgeCA9IDA7XG4gICAgICAgIGxldCB5ID0gMDtcbiAgICAgICAgaWYgKHogPj0gMCkge1xuICAgICAgICAgICAgeCA9IHU7XG4gICAgICAgICAgICB5ID0gdjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHggPSAtKHYgLyBtYXRoU2lnbih2KSAtIDEpIC8gbWF0aFNpZ24odSk7XG4gICAgICAgICAgICB5ID0gLSh1IC8gbWF0aFNpZ24odSkgLSAxKSAvIG1hdGhTaWduKHYpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IE1hdGguc3FydCh4ICogeCArIHkgKiB5ICsgeiAqIHopO1xuICAgICAgICB4ID0geCAvIGxlbmd0aDtcbiAgICAgICAgeSA9IHkgLyBsZW5ndGg7XG4gICAgICAgIHogPSB6IC8gbGVuZ3RoO1xuICAgICAgICBub3JtYWxzWzMgKiBqICsgMF0gPSB4O1xuICAgICAgICBub3JtYWxzWzMgKiBqICsgMV0gPSB5O1xuICAgICAgICBub3JtYWxzWzMgKiBqICsgMl0gPSB6O1xuICAgIH1cbiAgICByZXR1cm4geyBidWZmZXI6IGJ1ZmYsIGF0dHJpYnV0ZSB9O1xufVxuZnVuY3Rpb24gZGVjb2RlTm9ybWFsKGF0dHJpYnV0ZSwgY3R4KSB7XG4gICAgY29uc3QgYnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKGN0eC5udW1Qb2ludHMgKiA0ICogMyk7XG4gICAgY29uc3Qgbm9ybWFscyA9IG5ldyBGbG9hdDMyQXJyYXkoYnVmZmVyKTtcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IGN0eC5udW1Qb2ludHM7IGorKykge1xuICAgICAgICBjb25zdCB4ID0gY3R4LmRhdGEuZ2V0RmxvYXQzMihjdHguY3VycmVudE9mZnNldCArIGogKiBjdHgucG9pbnRBdHRyaWJ1dGVzLmJ5dGVTaXplICsgMCk7XG4gICAgICAgIGNvbnN0IHkgPSBjdHguZGF0YS5nZXRGbG9hdDMyKGN0eC5jdXJyZW50T2Zmc2V0ICsgaiAqIGN0eC5wb2ludEF0dHJpYnV0ZXMuYnl0ZVNpemUgKyA0KTtcbiAgICAgICAgY29uc3QgeiA9IGN0eC5kYXRhLmdldEZsb2F0MzIoY3R4LmN1cnJlbnRPZmZzZXQgKyBqICogY3R4LnBvaW50QXR0cmlidXRlcy5ieXRlU2l6ZSArIDgpO1xuICAgICAgICBub3JtYWxzWzMgKiBqICsgMF0gPSB4O1xuICAgICAgICBub3JtYWxzWzMgKiBqICsgMV0gPSB5O1xuICAgICAgICBub3JtYWxzWzMgKiBqICsgMl0gPSB6O1xuICAgIH1cbiAgICByZXR1cm4geyBidWZmZXIsIGF0dHJpYnV0ZSB9O1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\\\\n//# sourceURL=webpack-internal:///./src/workers/binary-decoder-worker-internal.ts\\\\n\\\");\\n\\n/***/ }),\\n\\n/***/ \\\"./src/workers/custom-array-view.ts\\\":\\n/*!******************************************!*\\\\\\n  !*** ./src/workers/custom-array-view.ts ***!\\n  \\\\******************************************/\\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\\n\\neval(\\\"__webpack_require__.r(__webpack_exports__);\\\\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\\\\n/* harmony export */   CustomArrayView: () => (/* binding */ CustomArrayView)\\\\n/* harmony export */ });\\\\n/**\\\\n * Adapted from Potree.js http://potree.org\\\\n * Potree License: https://github.com/potree/potree/blob/1.5/LICENSE\\\\n */\\\\n// http://jsperf.com/uint8array-vs-dataview3/3\\\\n// tslint:disable:no-bitwise\\\\nclass CustomArrayView {\\\\n    constructor(buffer) {\\\\n        this.tmp = new ArrayBuffer(4);\\\\n        this.tmpf = new Float32Array(this.tmp);\\\\n        this.tmpu8 = new Uint8Array(this.tmp);\\\\n        this.u8 = new Uint8Array(buffer);\\\\n    }\\\\n    getUint32(i) {\\\\n        return (this.u8[i + 3] << 24) | (this.u8[i + 2] << 16) | (this.u8[i + 1] << 8) | this.u8[i];\\\\n    }\\\\n    getUint16(i) {\\\\n        return (this.u8[i + 1] << 8) | this.u8[i];\\\\n    }\\\\n    getFloat32(i) {\\\\n        const tmpu8 = this.tmpu8;\\\\n        const u8 = this.u8;\\\\n        const tmpf = this.tmpf;\\\\n        tmpu8[0] = u8[i + 0];\\\\n        tmpu8[1] = u8[i + 1];\\\\n        tmpu8[2] = u8[i + 2];\\\\n        tmpu8[3] = u8[i + 3];\\\\n        return tmpf[0];\\\\n    }\\\\n    getUint8(i) {\\\\n        return this.u8[i];\\\\n    }\\\\n}\\\\n// tslint:enable:no-bitwise\\\\n//# sourceURL=[module]\\\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvd29ya2Vycy9jdXN0b20tYXJyYXktdmlldy50cyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb3RyZWUvLi9zcmMvd29ya2Vycy9jdXN0b20tYXJyYXktdmlldy50cz8zMmIzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQWRhcHRlZCBmcm9tIFBvdHJlZS5qcyBodHRwOi8vcG90cmVlLm9yZ1xuICogUG90cmVlIExpY2Vuc2U6IGh0dHBzOi8vZ2l0aHViLmNvbS9wb3RyZWUvcG90cmVlL2Jsb2IvMS41L0xJQ0VOU0VcbiAqL1xuLy8gaHR0cDovL2pzcGVyZi5jb20vdWludDhhcnJheS12cy1kYXRhdmlldzMvM1xuLy8gdHNsaW50OmRpc2FibGU6bm8tYml0d2lzZVxuZXhwb3J0IGNsYXNzIEN1c3RvbUFycmF5VmlldyB7XG4gICAgY29uc3RydWN0b3IoYnVmZmVyKSB7XG4gICAgICAgIHRoaXMudG1wID0gbmV3IEFycmF5QnVmZmVyKDQpO1xuICAgICAgICB0aGlzLnRtcGYgPSBuZXcgRmxvYXQzMkFycmF5KHRoaXMudG1wKTtcbiAgICAgICAgdGhpcy50bXB1OCA9IG5ldyBVaW50OEFycmF5KHRoaXMudG1wKTtcbiAgICAgICAgdGhpcy51OCA9IG5ldyBVaW50OEFycmF5KGJ1ZmZlcik7XG4gICAgfVxuICAgIGdldFVpbnQzMihpKSB7XG4gICAgICAgIHJldHVybiAodGhpcy51OFtpICsgM10gPDwgMjQpIHwgKHRoaXMudThbaSArIDJdIDw8IDE2KSB8ICh0aGlzLnU4W2kgKyAxXSA8PCA4KSB8IHRoaXMudThbaV07XG4gICAgfVxuICAgIGdldFVpbnQxNihpKSB7XG4gICAgICAgIHJldHVybiAodGhpcy51OFtpICsgMV0gPDwgOCkgfCB0aGlzLnU4W2ldO1xuICAgIH1cbiAgICBnZXRGbG9hdDMyKGkpIHtcbiAgICAgICAgY29uc3QgdG1wdTggPSB0aGlzLnRtcHU4O1xuICAgICAgICBjb25zdCB1OCA9IHRoaXMudTg7XG4gICAgICAgIGNvbnN0IHRtcGYgPSB0aGlzLnRtcGY7XG4gICAgICAgIHRtcHU4WzBdID0gdThbaSArIDBdO1xuICAgICAgICB0bXB1OFsxXSA9IHU4W2kgKyAxXTtcbiAgICAgICAgdG1wdThbMl0gPSB1OFtpICsgMl07XG4gICAgICAgIHRtcHU4WzNdID0gdThbaSArIDNdO1xuICAgICAgICByZXR1cm4gdG1wZlswXTtcbiAgICB9XG4gICAgZ2V0VWludDgoaSkge1xuICAgICAgICByZXR1cm4gdGhpcy51OFtpXTtcbiAgICB9XG59XG4vLyB0c2xpbnQ6ZW5hYmxlOm5vLWJpdHdpc2VcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\\\\n//# sourceURL=webpack-internal:///./src/workers/custom-array-view.ts\\\\n\\\");\\n\\n/***/ })\\n\\n/******/ \\t});\\n/************************************************************************/\\n/******/ \\t// The module cache\\n/******/ \\tvar __webpack_module_cache__ = {};\\n/******/ \\t\\n/******/ \\t// The require function\\n/******/ \\tfunction __webpack_require__(moduleId) {\\n/******/ \\t\\t// Check if module is in cache\\n/******/ \\t\\tvar cachedModule = __webpack_module_cache__[moduleId];\\n/******/ \\t\\tif (cachedModule !== undefined) {\\n/******/ \\t\\t\\treturn cachedModule.exports;\\n/******/ \\t\\t}\\n/******/ \\t\\t// Create a new module (and put it into the cache)\\n/******/ \\t\\tvar module = __webpack_module_cache__[moduleId] = {\\n/******/ \\t\\t\\t// no module.id needed\\n/******/ \\t\\t\\t// no module.loaded needed\\n/******/ \\t\\t\\texports: {}\\n/******/ \\t\\t};\\n/******/ \\t\\n/******/ \\t\\t// Execute the module function\\n/******/ \\t\\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\\n/******/ \\t\\n/******/ \\t\\t// Return the exports of the module\\n/******/ \\t\\treturn module.exports;\\n/******/ \\t}\\n/******/ \\t\\n/************************************************************************/\\n/******/ \\t/* webpack/runtime/define property getters */\\n/******/ \\t(() => {\\n/******/ \\t\\t// define getter functions for harmony exports\\n/******/ \\t\\t__webpack_require__.d = (exports, definition) => {\\n/******/ \\t\\t\\tfor(var key in definition) {\\n/******/ \\t\\t\\t\\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\\n/******/ \\t\\t\\t\\t\\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\\n/******/ \\t\\t\\t\\t}\\n/******/ \\t\\t\\t}\\n/******/ \\t\\t};\\n/******/ \\t})();\\n/******/ \\t\\n/******/ \\t/* webpack/runtime/hasOwnProperty shorthand */\\n/******/ \\t(() => {\\n/******/ \\t\\t__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))\\n/******/ \\t})();\\n/******/ \\t\\n/******/ \\t/* webpack/runtime/make namespace object */\\n/******/ \\t(() => {\\n/******/ \\t\\t// define __esModule on exports\\n/******/ \\t\\t__webpack_require__.r = (exports) => {\\n/******/ \\t\\t\\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\\n/******/ \\t\\t\\t\\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\\n/******/ \\t\\t\\t}\\n/******/ \\t\\t\\tObject.defineProperty(exports, '__esModule', { value: true });\\n/******/ \\t\\t};\\n/******/ \\t})();\\n/******/ \\t\\n/************************************************************************/\\n/******/ \\t\\n/******/ \\t// startup\\n/******/ \\t// Load entry module and return exports\\n/******/ \\t// This entry module can't be inlined because the eval-source-map devtool is used.\\n/******/ \\tvar __webpack_exports__ = __webpack_require__(\\\"./node_modules/babel-loader/lib/index.js!./src/workers/binary-decoder.worker.js\\\");\\n/******/ \\t\\n/******/ })()\\n;\", \"Worker\", undefined, undefined);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvd29ya2Vycy9iaW5hcnktZGVjb2Rlci53b3JrZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcG90cmVlLy4vc3JjL3dvcmtlcnMvYmluYXJ5LWRlY29kZXIud29ya2VyLmpzP2M2MjQiXSwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgd29ya2VyIGZyb20gXCIhIS4uLy4uL25vZGVfbW9kdWxlcy93b3JrZXItbG9hZGVyL2Rpc3QvcnVudGltZS9pbmxpbmUuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gV29ya2VyX2ZuKCkge1xuICByZXR1cm4gd29ya2VyKFwiLypcXG4gKiBBVFRFTlRJT046IEFuIFxcXCJldmFsLXNvdXJjZS1tYXBcXFwiIGRldnRvb2wgaGFzIGJlZW4gdXNlZC5cXG4gKiBUaGlzIGRldnRvb2wgaXMgbmVpdGhlciBtYWRlIGZvciBwcm9kdWN0aW9uIG5vciBmb3IgcmVhZGFibGUgb3V0cHV0IGZpbGVzLlxcbiAqIEl0IHVzZXMgXFxcImV2YWwoKVxcXCIgY2FsbHMgdG8gY3JlYXRlIGEgc2VwYXJhdGUgc291cmNlIGZpbGUgd2l0aCBhdHRhY2hlZCBTb3VyY2VNYXBzIGluIHRoZSBicm93c2VyIGRldnRvb2xzLlxcbiAqIElmIHlvdSBhcmUgdHJ5aW5nIHRvIHJlYWQgdGhlIG91dHB1dCBmaWxlLCBzZWxlY3QgYSBkaWZmZXJlbnQgZGV2dG9vbCAoaHR0cHM6Ly93ZWJwYWNrLmpzLm9yZy9jb25maWd1cmF0aW9uL2RldnRvb2wvKVxcbiAqIG9yIGRpc2FibGUgdGhlIGRlZmF1bHQgZGV2dG9vbCB3aXRoIFxcXCJkZXZ0b29sOiBmYWxzZVxcXCIuXFxuICogSWYgeW91IGFyZSBsb29raW5nIGZvciBwcm9kdWN0aW9uLXJlYWR5IG91dHB1dCBmaWxlcywgc2VlIG1vZGU6IFxcXCJwcm9kdWN0aW9uXFxcIiAoaHR0cHM6Ly93ZWJwYWNrLmpzLm9yZy9jb25maWd1cmF0aW9uL21vZGUvKS5cXG4gKi9cXG4vKioqKioqLyAoKCkgPT4geyAvLyB3ZWJwYWNrQm9vdHN0cmFwXFxuLyoqKioqKi8gXFx0XFxcInVzZSBzdHJpY3RcXFwiO1xcbi8qKioqKiovIFxcdHZhciBfX3dlYnBhY2tfbW9kdWxlc19fID0gKHtcXG5cXG4vKioqLyBcXFwiLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYi9pbmRleC5qcyEuL3NyYy93b3JrZXJzL2JpbmFyeS1kZWNvZGVyLndvcmtlci5qc1xcXCI6XFxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIvaW5kZXguanMhLi9zcmMvd29ya2Vycy9iaW5hcnktZGVjb2Rlci53b3JrZXIuanMgKioqIVxcbiAgXFxcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cXG4vKioqLyAoKF9fdW51c2VkX3dlYnBhY2tfbW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSA9PiB7XFxuXFxuZXZhbChcXFwiX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xcXFxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9iaW5hcnlfZGVjb2Rlcl93b3JrZXJfaW50ZXJuYWxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vYmluYXJ5LWRlY29kZXItd29ya2VyLWludGVybmFsICovIFxcXFxcXFwiLi9zcmMvd29ya2Vycy9iaW5hcnktZGVjb2Rlci13b3JrZXItaW50ZXJuYWwudHNcXFxcXFxcIik7XFxcXG5cXFxcblxcXFxuLyplc2xpbnQtZGlzYWJsZSAqL1xcXFxub25tZXNzYWdlID0gX2JpbmFyeV9kZWNvZGVyX3dvcmtlcl9pbnRlcm5hbF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fLmhhbmRsZU1lc3NhZ2U7Ly8jIHNvdXJjZVVSTD1bbW9kdWxlXVxcXFxuXFxcIik7XFxuXFxuLyoqKi8gfSksXFxuXFxuLyoqKi8gXFxcIi4vc3JjL3BvaW50LWF0dHJpYnV0ZXMudHNcXFwiOlxcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcXFxcbiAgISoqKiAuL3NyYy9wb2ludC1hdHRyaWJ1dGVzLnRzICoqKiFcXG4gIFxcXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXFxuLyoqKi8gKChfX3VudXNlZF93ZWJwYWNrX21vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykgPT4ge1xcblxcbmV2YWwoXFxcIl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcXFxcbi8qIGhhcm1vbnkgZXhwb3J0ICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCB7XFxcXG4vKiBoYXJtb255IGV4cG9ydCAqLyAgIFBPSU5UX0FUVFJJQlVURVM6ICgpID0+ICgvKiBiaW5kaW5nICovIFBPSU5UX0FUVFJJQlVURVMpLFxcXFxuLyogaGFybW9ueSBleHBvcnQgKi8gICBQT0lOVF9BVFRSSUJVVEVfVFlQRVM6ICgpID0+ICgvKiBiaW5kaW5nICovIFBPSU5UX0FUVFJJQlVURV9UWVBFUyksXFxcXG4vKiBoYXJtb255IGV4cG9ydCAqLyAgIFBvaW50QXR0cmlidXRlTmFtZTogKCkgPT4gKC8qIGJpbmRpbmcgKi8gUG9pbnRBdHRyaWJ1dGVOYW1lKSxcXFxcbi8qIGhhcm1vbnkgZXhwb3J0ICovICAgUG9pbnRBdHRyaWJ1dGVzOiAoKSA9PiAoLyogYmluZGluZyAqLyBQb2ludEF0dHJpYnV0ZXMpXFxcXG4vKiBoYXJtb255IGV4cG9ydCAqLyB9KTtcXFxcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cXFxcbi8vIENvbnZlcnRlZCB0byBUeXBlc2NyaXB0IGFuZCBhZGFwdGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL3BvdHJlZS9wb3RyZWVcXFxcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cXFxcbnZhciBQb2ludEF0dHJpYnV0ZU5hbWU7XFxcXG4oZnVuY3Rpb24gKFBvaW50QXR0cmlidXRlTmFtZSkge1xcXFxuICAgIFBvaW50QXR0cmlidXRlTmFtZVtQb2ludEF0dHJpYnV0ZU5hbWVbXFxcXFxcXCJQT1NJVElPTl9DQVJURVNJQU5cXFxcXFxcIl0gPSAwXSA9IFxcXFxcXFwiUE9TSVRJT05fQ0FSVEVTSUFOXFxcXFxcXCI7XFxcXG4gICAgUG9pbnRBdHRyaWJ1dGVOYW1lW1BvaW50QXR0cmlidXRlTmFtZVtcXFxcXFxcIkNPTE9SX1BBQ0tFRFxcXFxcXFwiXSA9IDFdID0gXFxcXFxcXCJDT0xPUl9QQUNLRURcXFxcXFxcIjtcXFxcbiAgICBQb2ludEF0dHJpYnV0ZU5hbWVbUG9pbnRBdHRyaWJ1dGVOYW1lW1xcXFxcXFwiQ09MT1JfRkxPQVRTXzFcXFxcXFxcIl0gPSAyXSA9IFxcXFxcXFwiQ09MT1JfRkxPQVRTXzFcXFxcXFxcIjtcXFxcbiAgICBQb2ludEF0dHJpYnV0ZU5hbWVbUG9pbnRBdHRyaWJ1dGVOYW1lW1xcXFxcXFwiQ09MT1JfRkxPQVRTXzI1NVxcXFxcXFwiXSA9IDNdID0gXFxcXFxcXCJDT0xPUl9GTE9BVFNfMjU1XFxcXFxcXCI7XFxcXG4gICAgUG9pbnRBdHRyaWJ1dGVOYW1lW1BvaW50QXR0cmlidXRlTmFtZVtcXFxcXFxcIk5PUk1BTF9GTE9BVFNcXFxcXFxcIl0gPSA0XSA9IFxcXFxcXFwiTk9STUFMX0ZMT0FUU1xcXFxcXFwiO1xcXFxuICAgIFBvaW50QXR0cmlidXRlTmFtZVtQb2ludEF0dHJpYnV0ZU5hbWVbXFxcXFxcXCJGSUxMRVJcXFxcXFxcIl0gPSA1XSA9IFxcXFxcXFwiRklMTEVSXFxcXFxcXCI7XFxcXG4gICAgUG9pbnRBdHRyaWJ1dGVOYW1lW1BvaW50QXR0cmlidXRlTmFtZVtcXFxcXFxcIklOVEVOU0lUWVxcXFxcXFwiXSA9IDZdID0gXFxcXFxcXCJJTlRFTlNJVFlcXFxcXFxcIjtcXFxcbiAgICBQb2ludEF0dHJpYnV0ZU5hbWVbUG9pbnRBdHRyaWJ1dGVOYW1lW1xcXFxcXFwiQ0xBU1NJRklDQVRJT05cXFxcXFxcIl0gPSA3XSA9IFxcXFxcXFwiQ0xBU1NJRklDQVRJT05cXFxcXFxcIjtcXFxcbiAgICBQb2ludEF0dHJpYnV0ZU5hbWVbUG9pbnRBdHRyaWJ1dGVOYW1lW1xcXFxcXFwiTk9STUFMX1NQSEVSRU1BUFBFRFxcXFxcXFwiXSA9IDhdID0gXFxcXFxcXCJOT1JNQUxfU1BIRVJFTUFQUEVEXFxcXFxcXCI7XFxcXG4gICAgUG9pbnRBdHRyaWJ1dGVOYW1lW1BvaW50QXR0cmlidXRlTmFtZVtcXFxcXFxcIk5PUk1BTF9PQ1QxNlxcXFxcXFwiXSA9IDldID0gXFxcXFxcXCJOT1JNQUxfT0NUMTZcXFxcXFxcIjtcXFxcbiAgICBQb2ludEF0dHJpYnV0ZU5hbWVbUG9pbnRBdHRyaWJ1dGVOYW1lW1xcXFxcXFwiTk9STUFMXFxcXFxcXCJdID0gMTBdID0gXFxcXFxcXCJOT1JNQUxcXFxcXFxcIjtcXFxcbn0pKFBvaW50QXR0cmlidXRlTmFtZSB8fCAoUG9pbnRBdHRyaWJ1dGVOYW1lID0ge30pKTtcXFxcbmNvbnN0IFBPSU5UX0FUVFJJQlVURV9UWVBFUyA9IHtcXFxcbiAgICBEQVRBX1RZUEVfRE9VQkxFOiB7IG9yZGluYWw6IDAsIHNpemU6IDggfSxcXFxcbiAgICBEQVRBX1RZUEVfRkxPQVQ6IHsgb3JkaW5hbDogMSwgc2l6ZTogNCB9LFxcXFxuICAgIERBVEFfVFlQRV9JTlQ4OiB7IG9yZGluYWw6IDIsIHNpemU6IDEgfSxcXFxcbiAgICBEQVRBX1RZUEVfVUlOVDg6IHsgb3JkaW5hbDogMywgc2l6ZTogMSB9LFxcXFxuICAgIERBVEFfVFlQRV9JTlQxNjogeyBvcmRpbmFsOiA0LCBzaXplOiAyIH0sXFxcXG4gICAgREFUQV9UWVBFX1VJTlQxNjogeyBvcmRpbmFsOiA1LCBzaXplOiAyIH0sXFxcXG4gICAgREFUQV9UWVBFX0lOVDMyOiB7IG9yZGluYWw6IDYsIHNpemU6IDQgfSxcXFxcbiAgICBEQVRBX1RZUEVfVUlOVDMyOiB7IG9yZGluYWw6IDcsIHNpemU6IDQgfSxcXFxcbiAgICBEQVRBX1RZUEVfSU5UNjQ6IHsgb3JkaW5hbDogOCwgc2l6ZTogOCB9LFxcXFxuICAgIERBVEFfVFlQRV9VSU5UNjQ6IHsgb3JkaW5hbDogOSwgc2l6ZTogOCB9LFxcXFxufTtcXFxcbmZ1bmN0aW9uIG1ha2VQb2ludEF0dHJpYnV0ZShuYW1lLCB0eXBlLCBudW1FbGVtZW50cykge1xcXFxuICAgIHJldHVybiB7XFxcXG4gICAgICAgIG5hbWUsXFxcXG4gICAgICAgIHR5cGUsXFxcXG4gICAgICAgIG51bUVsZW1lbnRzLFxcXFxuICAgICAgICBieXRlU2l6ZTogbnVtRWxlbWVudHMgKiB0eXBlLnNpemUsXFxcXG4gICAgfTtcXFxcbn1cXFxcbmNvbnN0IFJHQkFfUEFDS0VEID0gbWFrZVBvaW50QXR0cmlidXRlKFBvaW50QXR0cmlidXRlTmFtZS5DT0xPUl9QQUNLRUQsIFBPSU5UX0FUVFJJQlVURV9UWVBFUy5EQVRBX1RZUEVfSU5UOCwgNCk7XFxcXG5jb25zdCBQT0lOVF9BVFRSSUJVVEVTID0ge1xcXFxuICAgIFBPU0lUSU9OX0NBUlRFU0lBTjogbWFrZVBvaW50QXR0cmlidXRlKFBvaW50QXR0cmlidXRlTmFtZS5QT1NJVElPTl9DQVJURVNJQU4sIFBPSU5UX0FUVFJJQlVURV9UWVBFUy5EQVRBX1RZUEVfRkxPQVQsIDMpLFxcXFxuICAgIFJHQkFfUEFDS0VELFxcXFxuICAgIENPTE9SX1BBQ0tFRDogUkdCQV9QQUNLRUQsXFxcXG4gICAgUkdCX1BBQ0tFRDogbWFrZVBvaW50QXR0cmlidXRlKFBvaW50QXR0cmlidXRlTmFtZS5DT0xPUl9QQUNLRUQsIFBPSU5UX0FUVFJJQlVURV9UWVBFUy5EQVRBX1RZUEVfSU5UOCwgMyksXFxcXG4gICAgTk9STUFMX0ZMT0FUUzogbWFrZVBvaW50QXR0cmlidXRlKFBvaW50QXR0cmlidXRlTmFtZS5OT1JNQUxfRkxPQVRTLCBQT0lOVF9BVFRSSUJVVEVfVFlQRVMuREFUQV9UWVBFX0ZMT0FULCAzKSxcXFxcbiAgICBGSUxMRVJfMUI6IG1ha2VQb2ludEF0dHJpYnV0ZShQb2ludEF0dHJpYnV0ZU5hbWUuRklMTEVSLCBQT0lOVF9BVFRSSUJVVEVfVFlQRVMuREFUQV9UWVBFX1VJTlQ4LCAxKSxcXFxcbiAgICBJTlRFTlNJVFk6IG1ha2VQb2ludEF0dHJpYnV0ZShQb2ludEF0dHJpYnV0ZU5hbWUuSU5URU5TSVRZLCBQT0lOVF9BVFRSSUJVVEVfVFlQRVMuREFUQV9UWVBFX1VJTlQxNiwgMSksXFxcXG4gICAgQ0xBU1NJRklDQVRJT046IG1ha2VQb2ludEF0dHJpYnV0ZShQb2ludEF0dHJpYnV0ZU5hbWUuQ0xBU1NJRklDQVRJT04sIFBPSU5UX0FUVFJJQlVURV9UWVBFUy5EQVRBX1RZUEVfVUlOVDgsIDEpLFxcXFxuICAgIE5PUk1BTF9TUEhFUkVNQVBQRUQ6IG1ha2VQb2ludEF0dHJpYnV0ZShQb2ludEF0dHJpYnV0ZU5hbWUuTk9STUFMX1NQSEVSRU1BUFBFRCwgUE9JTlRfQVRUUklCVVRFX1RZUEVTLkRBVEFfVFlQRV9VSU5UOCwgMiksXFxcXG4gICAgTk9STUFMX09DVDE2OiBtYWtlUG9pbnRBdHRyaWJ1dGUoUG9pbnRBdHRyaWJ1dGVOYW1lLk5PUk1BTF9PQ1QxNiwgUE9JTlRfQVRUUklCVVRFX1RZUEVTLkRBVEFfVFlQRV9VSU5UOCwgMiksXFxcXG4gICAgTk9STUFMOiBtYWtlUG9pbnRBdHRyaWJ1dGUoUG9pbnRBdHRyaWJ1dGVOYW1lLk5PUk1BTCwgUE9JTlRfQVRUUklCVVRFX1RZUEVTLkRBVEFfVFlQRV9GTE9BVCwgMyksXFxcXG59O1xcXFxuY2xhc3MgUG9pbnRBdHRyaWJ1dGVzIHtcXFxcbiAgICBjb25zdHJ1Y3Rvcihwb2ludEF0dHJpYnV0ZU5hbWVzID0gW10pIHtcXFxcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVzID0gW107XFxcXG4gICAgICAgIHRoaXMuYnl0ZVNpemUgPSAwO1xcXFxuICAgICAgICB0aGlzLnNpemUgPSAwO1xcXFxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvaW50QXR0cmlidXRlTmFtZXMubGVuZ3RoOyBpKyspIHtcXFxcbiAgICAgICAgICAgIGNvbnN0IHBvaW50QXR0cmlidXRlTmFtZSA9IHBvaW50QXR0cmlidXRlTmFtZXNbaV07XFxcXG4gICAgICAgICAgICBjb25zdCBwb2ludEF0dHJpYnV0ZSA9IFBPSU5UX0FUVFJJQlVURVNbcG9pbnRBdHRyaWJ1dGVOYW1lXTtcXFxcbiAgICAgICAgICAgIHRoaXMuYXR0cmlidXRlcy5wdXNoKHBvaW50QXR0cmlidXRlKTtcXFxcbiAgICAgICAgICAgIHRoaXMuYnl0ZVNpemUgKz0gcG9pbnRBdHRyaWJ1dGUuYnl0ZVNpemU7XFxcXG4gICAgICAgICAgICB0aGlzLnNpemUrKztcXFxcbiAgICAgICAgfVxcXFxuICAgIH1cXFxcbiAgICBhZGQocG9pbnRBdHRyaWJ1dGUpIHtcXFxcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVzLnB1c2gocG9pbnRBdHRyaWJ1dGUpO1xcXFxuICAgICAgICB0aGlzLmJ5dGVTaXplICs9IHBvaW50QXR0cmlidXRlLmJ5dGVTaXplO1xcXFxuICAgICAgICB0aGlzLnNpemUrKztcXFxcbiAgICB9XFxcXG4gICAgaGFzQ29sb3JzKCkge1xcXFxuICAgICAgICByZXR1cm4gdGhpcy5hdHRyaWJ1dGVzLmZpbmQoaXNDb2xvckF0dHJpYnV0ZSkgIT09IHVuZGVmaW5lZDtcXFxcbiAgICB9XFxcXG4gICAgaGFzTm9ybWFscygpIHtcXFxcbiAgICAgICAgcmV0dXJuIHRoaXMuYXR0cmlidXRlcy5maW5kKGlzTm9ybWFsQXR0cmlidXRlKSAhPT0gdW5kZWZpbmVkO1xcXFxuICAgIH1cXFxcbn1cXFxcbmZ1bmN0aW9uIGlzQ29sb3JBdHRyaWJ1dGUoeyBuYW1lIH0pIHtcXFxcbiAgICByZXR1cm4gbmFtZSA9PT0gUG9pbnRBdHRyaWJ1dGVOYW1lLkNPTE9SX1BBQ0tFRDtcXFxcbn1cXFxcbmZ1bmN0aW9uIGlzTm9ybWFsQXR0cmlidXRlKHsgbmFtZSB9KSB7XFxcXG4gICAgcmV0dXJuIChuYW1lID09PSBQb2ludEF0dHJpYnV0ZU5hbWUuTk9STUFMX1NQSEVSRU1BUFBFRCB8fFxcXFxuICAgICAgICBuYW1lID09PSBQb2ludEF0dHJpYnV0ZU5hbWUuTk9STUFMX0ZMT0FUUyB8fFxcXFxuICAgICAgICBuYW1lID09PSBQb2ludEF0dHJpYnV0ZU5hbWUuTk9STUFMIHx8XFxcXG4gICAgICAgIG5hbWUgPT09IFBvaW50QXR0cmlidXRlTmFtZS5OT1JNQUxfT0NUMTYpO1xcXFxufVxcXFxuLy8jIHNvdXJjZVVSTD1bbW9kdWxlXVxcXFxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0ptYVd4bElqb2lMaTl6Y21NdmNHOXBiblF0WVhSMGNtbGlkWFJsY3k1MGN5SXNJbTFoY0hCcGJtZHpJam9pT3pzN096czdPMEZCUVVFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEVpTENKemIzVnlZMlZ6SWpwYkluZGxZbkJoWTJzNkx5OXdiM1J5WldVdkxpOXpjbU12Y0c5cGJuUXRZWFIwY21saWRYUmxjeTUwY3o5bE1ETXlJbDBzSW5OdmRYSmpaWE5EYjI1MFpXNTBJanBiSWk4dklDMHRMUzB0TFMwdExTMHRMUzB0TFMwdExTMHRMUzB0TFMwdExTMHRMUzB0TFMwdExTMHRMUzB0TFMwdExTMHRMUzB0TFMwdExTMHRMUzB0TFMwdExTMHRMUzB0TFMwdExTMHRMUzB0TFMwdExTMHRMUzB0TFMwdExTMHRMUzB0TFMxY2JpOHZJRU52Ym5abGNuUmxaQ0IwYnlCVWVYQmxjMk55YVhCMElHRnVaQ0JoWkdGd2RHVmtJR1p5YjIwZ2FIUjBjSE02THk5bmFYUm9kV0l1WTI5dEwzQnZkSEpsWlM5d2IzUnlaV1ZjYmk4dklDMHRMUzB0TFMwdExTMHRMUzB0TFMwdExTMHRMUzB0TFMwdExTMHRMUzB0TFMwdExTMHRMUzB0TFMwdExTMHRMUzB0TFMwdExTMHRMUzB0TFMwdExTMHRMUzB0TFMwdExTMHRMUzB0TFMwdExTMHRMUzB0TFMwdExTMHRMUzB0TFMxY2JtVjRjRzl5ZENCMllYSWdVRzlwYm5SQmRIUnlhV0oxZEdWT1lXMWxPMXh1S0daMWJtTjBhVzl1SUNoUWIybHVkRUYwZEhKcFluVjBaVTVoYldVcElIdGNiaUFnSUNCUWIybHVkRUYwZEhKcFluVjBaVTVoYldWYlVHOXBiblJCZEhSeWFXSjFkR1ZPWVcxbFcxd2lVRTlUU1ZSSlQwNWZRMEZTVkVWVFNVRk9YQ0pkSUQwZ01GMGdQU0JjSWxCUFUwbFVTVTlPWDBOQlVsUkZVMGxCVGx3aU8xeHVJQ0FnSUZCdmFXNTBRWFIwY21saWRYUmxUbUZ0WlZ0UWIybHVkRUYwZEhKcFluVjBaVTVoYldWYlhDSkRUMHhQVWw5UVFVTkxSVVJjSWwwZ1BTQXhYU0E5SUZ3aVEwOU1UMUpmVUVGRFMwVkVYQ0k3WEc0Z0lDQWdVRzlwYm5SQmRIUnlhV0oxZEdWT1lXMWxXMUJ2YVc1MFFYUjBjbWxpZFhSbFRtRnRaVnRjSWtOUFRFOVNYMFpNVDBGVVUxOHhYQ0pkSUQwZ01sMGdQU0JjSWtOUFRFOVNYMFpNVDBGVVUxOHhYQ0k3WEc0Z0lDQWdVRzlwYm5SQmRIUnlhV0oxZEdWT1lXMWxXMUJ2YVc1MFFYUjBjbWxpZFhSbFRtRnRaVnRjSWtOUFRFOVNYMFpNVDBGVVUxOHlOVFZjSWwwZ1BTQXpYU0E5SUZ3aVEwOU1UMUpmUmt4UFFWUlRYekkxTlZ3aU8xeHVJQ0FnSUZCdmFXNTBRWFIwY21saWRYUmxUbUZ0WlZ0UWIybHVkRUYwZEhKcFluVjBaVTVoYldWYlhDSk9UMUpOUVV4ZlJreFBRVlJUWENKZElEMGdORjBnUFNCY0lrNVBVazFCVEY5R1RFOUJWRk5jSWp0Y2JpQWdJQ0JRYjJsdWRFRjBkSEpwWW5WMFpVNWhiV1ZiVUc5cGJuUkJkSFJ5YVdKMWRHVk9ZVzFsVzF3aVJrbE1URVZTWENKZElEMGdOVjBnUFNCY0lrWkpURXhGVWx3aU8xeHVJQ0FnSUZCdmFXNTBRWFIwY21saWRYUmxUbUZ0WlZ0UWIybHVkRUYwZEhKcFluVjBaVTVoYldWYlhDSkpUbFJGVGxOSlZGbGNJbDBnUFNBMlhTQTlJRndpU1U1VVJVNVRTVlJaWENJN1hHNGdJQ0FnVUc5cGJuUkJkSFJ5YVdKMWRHVk9ZVzFsVzFCdmFXNTBRWFIwY21saWRYUmxUbUZ0WlZ0Y0lrTk1RVk5UU1VaSlEwRlVTVTlPWENKZElEMGdOMTBnUFNCY0lrTk1RVk5UU1VaSlEwRlVTVTlPWENJN1hHNGdJQ0FnVUc5cGJuUkJkSFJ5YVdKMWRHVk9ZVzFsVzFCdmFXNTBRWFIwY21saWRYUmxUbUZ0WlZ0Y0lrNVBVazFCVEY5VFVFaEZVa1ZOUVZCUVJVUmNJbDBnUFNBNFhTQTlJRndpVGs5U1RVRk1YMU5RU0VWU1JVMUJVRkJGUkZ3aU8xeHVJQ0FnSUZCdmFXNTBRWFIwY21saWRYUmxUbUZ0WlZ0UWIybHVkRUYwZEhKcFluVjBaVTVoYldWYlhDSk9UMUpOUVV4ZlQwTlVNVFpjSWwwZ1BTQTVYU0E5SUZ3aVRrOVNUVUZNWDA5RFZERTJYQ0k3WEc0Z0lDQWdVRzlwYm5SQmRIUnlhV0oxZEdWT1lXMWxXMUJ2YVc1MFFYUjBjbWxpZFhSbFRtRnRaVnRjSWs1UFVrMUJURndpWFNBOUlERXdYU0E5SUZ3aVRrOVNUVUZNWENJN1hHNTlLU2hRYjJsdWRFRjBkSEpwWW5WMFpVNWhiV1VnZkh3Z0tGQnZhVzUwUVhSMGNtbGlkWFJsVG1GdFpTQTlJSHQ5S1NrN1hHNWxlSEJ2Y25RZ1kyOXVjM1FnVUU5SlRsUmZRVlJVVWtsQ1ZWUkZYMVJaVUVWVElEMGdlMXh1SUNBZ0lFUkJWRUZmVkZsUVJWOUVUMVZDVEVVNklIc2diM0prYVc1aGJEb2dNQ3dnYzJsNlpUb2dPQ0I5TEZ4dUlDQWdJRVJCVkVGZlZGbFFSVjlHVEU5QlZEb2dleUJ2Y21ScGJtRnNPaUF4TENCemFYcGxPaUEwSUgwc1hHNGdJQ0FnUkVGVVFWOVVXVkJGWDBsT1ZEZzZJSHNnYjNKa2FXNWhiRG9nTWl3Z2MybDZaVG9nTVNCOUxGeHVJQ0FnSUVSQlZFRmZWRmxRUlY5VlNVNVVPRG9nZXlCdmNtUnBibUZzT2lBekxDQnphWHBsT2lBeElIMHNYRzRnSUNBZ1JFRlVRVjlVV1ZCRlgwbE9WREUyT2lCN0lHOXlaR2x1WVd3NklEUXNJSE5wZW1VNklESWdmU3hjYmlBZ0lDQkVRVlJCWDFSWlVFVmZWVWxPVkRFMk9pQjdJRzl5WkdsdVlXdzZJRFVzSUhOcGVtVTZJRElnZlN4Y2JpQWdJQ0JFUVZSQlgxUlpVRVZmU1U1VU16STZJSHNnYjNKa2FXNWhiRG9nTml3Z2MybDZaVG9nTkNCOUxGeHVJQ0FnSUVSQlZFRmZWRmxRUlY5VlNVNVVNekk2SUhzZ2IzSmthVzVoYkRvZ055d2djMmw2WlRvZ05DQjlMRnh1SUNBZ0lFUkJWRUZmVkZsUVJWOUpUbFEyTkRvZ2V5QnZjbVJwYm1Gc09pQTRMQ0J6YVhwbE9pQTRJSDBzWEc0Z0lDQWdSRUZVUVY5VVdWQkZYMVZKVGxRMk5Eb2dleUJ2Y21ScGJtRnNPaUE1TENCemFYcGxPaUE0SUgwc1hHNTlPMXh1Wm5WdVkzUnBiMjRnYldGclpWQnZhVzUwUVhSMGNtbGlkWFJsS0c1aGJXVXNJSFI1Y0dVc0lHNTFiVVZzWlcxbGJuUnpLU0I3WEc0Z0lDQWdjbVYwZFhKdUlIdGNiaUFnSUNBZ0lDQWdibUZ0WlN4Y2JpQWdJQ0FnSUNBZ2RIbHdaU3hjYmlBZ0lDQWdJQ0FnYm5WdFJXeGxiV1Z1ZEhNc1hHNGdJQ0FnSUNBZ0lHSjVkR1ZUYVhwbE9pQnVkVzFGYkdWdFpXNTBjeUFxSUhSNWNHVXVjMmw2WlN4Y2JpQWdJQ0I5TzF4dWZWeHVZMjl1YzNRZ1VrZENRVjlRUVVOTFJVUWdQU0J0WVd0bFVHOXBiblJCZEhSeWFXSjFkR1VvVUc5cGJuUkJkSFJ5YVdKMWRHVk9ZVzFsTGtOUFRFOVNYMUJCUTB0RlJDd2dVRTlKVGxSZlFWUlVVa2xDVlZSRlgxUlpVRVZUTGtSQlZFRmZWRmxRUlY5SlRsUTRMQ0EwS1R0Y2JtVjRjRzl5ZENCamIyNXpkQ0JRVDBsT1ZGOUJWRlJTU1VKVlZFVlRJRDBnZTF4dUlDQWdJRkJQVTBsVVNVOU9YME5CVWxSRlUwbEJUam9nYldGclpWQnZhVzUwUVhSMGNtbGlkWFJsS0ZCdmFXNTBRWFIwY21saWRYUmxUbUZ0WlM1UVQxTkpWRWxQVGw5RFFWSlVSVk5KUVU0c0lGQlBTVTVVWDBGVVZGSkpRbFZVUlY5VVdWQkZVeTVFUVZSQlgxUlpVRVZmUmt4UFFWUXNJRE1wTEZ4dUlDQWdJRkpIUWtGZlVFRkRTMFZFTEZ4dUlDQWdJRU5QVEU5U1gxQkJRMHRGUkRvZ1VrZENRVjlRUVVOTFJVUXNYRzRnSUNBZ1VrZENYMUJCUTB0RlJEb2diV0ZyWlZCdmFXNTBRWFIwY21saWRYUmxLRkJ2YVc1MFFYUjBjbWxpZFhSbFRtRnRaUzVEVDB4UFVsOVFRVU5MUlVRc0lGQlBTVTVVWDBGVVZGSkpRbFZVUlY5VVdWQkZVeTVFUVZSQlgxUlpVRVZmU1U1VU9Dd2dNeWtzWEc0Z0lDQWdUazlTVFVGTVgwWk1UMEZVVXpvZ2JXRnJaVkJ2YVc1MFFYUjBjbWxpZFhSbEtGQnZhVzUwUVhSMGNtbGlkWFJsVG1GdFpTNU9UMUpOUVV4ZlJreFBRVlJUTENCUVQwbE9WRjlCVkZSU1NVSlZWRVZmVkZsUVJWTXVSRUZVUVY5VVdWQkZYMFpNVDBGVUxDQXpLU3hjYmlBZ0lDQkdTVXhNUlZKZk1VSTZJRzFoYTJWUWIybHVkRUYwZEhKcFluVjBaU2hRYjJsdWRFRjBkSEpwWW5WMFpVNWhiV1V1UmtsTVRFVlNMQ0JRVDBsT1ZGOUJWRlJTU1VKVlZFVmZWRmxRUlZNdVJFRlVRVjlVV1ZCRlgxVkpUbFE0TENBeEtTeGNiaUFnSUNCSlRsUkZUbE5KVkZrNklHMWhhMlZRYjJsdWRFRjBkSEpwWW5WMFpTaFFiMmx1ZEVGMGRISnBZblYwWlU1aGJXVXVTVTVVUlU1VFNWUlpMQ0JRVDBsT1ZGOUJWRlJTU1VKVlZFVmZWRmxRUlZNdVJFRlVRVjlVV1ZCRlgxVkpUbFF4Tml3Z01Ta3NYRzRnSUNBZ1EweEJVMU5KUmtsRFFWUkpUMDQ2SUcxaGEyVlFiMmx1ZEVGMGRISnBZblYwWlNoUWIybHVkRUYwZEhKcFluVjBaVTVoYldVdVEweEJVMU5KUmtsRFFWUkpUMDRzSUZCUFNVNVVYMEZVVkZKSlFsVlVSVjlVV1ZCRlV5NUVRVlJCWDFSWlVFVmZWVWxPVkRnc0lERXBMRnh1SUNBZ0lFNVBVazFCVEY5VFVFaEZVa1ZOUVZCUVJVUTZJRzFoYTJWUWIybHVkRUYwZEhKcFluVjBaU2hRYjJsdWRFRjBkSEpwWW5WMFpVNWhiV1V1VGs5U1RVRk1YMU5RU0VWU1JVMUJVRkJGUkN3Z1VFOUpUbFJmUVZSVVVrbENWVlJGWDFSWlVFVlRMa1JCVkVGZlZGbFFSVjlWU1U1VU9Dd2dNaWtzWEc0Z0lDQWdUazlTVFVGTVgwOURWREUyT2lCdFlXdGxVRzlwYm5SQmRIUnlhV0oxZEdVb1VHOXBiblJCZEhSeWFXSjFkR1ZPWVcxbExrNVBVazFCVEY5UFExUXhOaXdnVUU5SlRsUmZRVlJVVWtsQ1ZWUkZYMVJaVUVWVExrUkJWRUZmVkZsUVJWOVZTVTVVT0N3Z01pa3NYRzRnSUNBZ1RrOVNUVUZNT2lCdFlXdGxVRzlwYm5SQmRIUnlhV0oxZEdVb1VHOXBiblJCZEhSeWFXSjFkR1ZPWVcxbExrNVBVazFCVEN3Z1VFOUpUbFJmUVZSVVVrbENWVlJGWDFSWlVFVlRMa1JCVkVGZlZGbFFSVjlHVEU5QlZDd2dNeWtzWEc1OU8xeHVaWGh3YjNKMElHTnNZWE56SUZCdmFXNTBRWFIwY21saWRYUmxjeUI3WEc0Z0lDQWdZMjl1YzNSeWRXTjBiM0lvY0c5cGJuUkJkSFJ5YVdKMWRHVk9ZVzFsY3lBOUlGdGRLU0I3WEc0Z0lDQWdJQ0FnSUhSb2FYTXVZWFIwY21saWRYUmxjeUE5SUZ0ZE8xeHVJQ0FnSUNBZ0lDQjBhR2x6TG1KNWRHVlRhWHBsSUQwZ01EdGNiaUFnSUNBZ0lDQWdkR2hwY3k1emFYcGxJRDBnTUR0Y2JpQWdJQ0FnSUNBZ1ptOXlJQ2hzWlhRZ2FTQTlJREE3SUdrZ1BDQndiMmx1ZEVGMGRISnBZblYwWlU1aGJXVnpMbXhsYm1kMGFEc2dhU3NyS1NCN1hHNGdJQ0FnSUNBZ0lDQWdJQ0JqYjI1emRDQndiMmx1ZEVGMGRISnBZblYwWlU1aGJXVWdQU0J3YjJsdWRFRjBkSEpwWW5WMFpVNWhiV1Z6VzJsZE8xeHVJQ0FnSUNBZ0lDQWdJQ0FnWTI5dWMzUWdjRzlwYm5SQmRIUnlhV0oxZEdVZ1BTQlFUMGxPVkY5QlZGUlNTVUpWVkVWVFczQnZhVzUwUVhSMGNtbGlkWFJsVG1GdFpWMDdYRzRnSUNBZ0lDQWdJQ0FnSUNCMGFHbHpMbUYwZEhKcFluVjBaWE11Y0hWemFDaHdiMmx1ZEVGMGRISnBZblYwWlNrN1hHNGdJQ0FnSUNBZ0lDQWdJQ0IwYUdsekxtSjVkR1ZUYVhwbElDczlJSEJ2YVc1MFFYUjBjbWxpZFhSbExtSjVkR1ZUYVhwbE8xeHVJQ0FnSUNBZ0lDQWdJQ0FnZEdocGN5NXphWHBsS3lzN1hHNGdJQ0FnSUNBZ0lIMWNiaUFnSUNCOVhHNGdJQ0FnWVdSa0tIQnZhVzUwUVhSMGNtbGlkWFJsS1NCN1hHNGdJQ0FnSUNBZ0lIUm9hWE11WVhSMGNtbGlkWFJsY3k1d2RYTm9LSEJ2YVc1MFFYUjBjbWxpZFhSbEtUdGNiaUFnSUNBZ0lDQWdkR2hwY3k1aWVYUmxVMmw2WlNBclBTQndiMmx1ZEVGMGRISnBZblYwWlM1aWVYUmxVMmw2WlR0Y2JpQWdJQ0FnSUNBZ2RHaHBjeTV6YVhwbEt5czdYRzRnSUNBZ2ZWeHVJQ0FnSUdoaGMwTnZiRzl5Y3lncElIdGNiaUFnSUNBZ0lDQWdjbVYwZFhKdUlIUm9hWE11WVhSMGNtbGlkWFJsY3k1bWFXNWtLR2x6UTI5c2IzSkJkSFJ5YVdKMWRHVXBJQ0U5UFNCMWJtUmxabWx1WldRN1hHNGdJQ0FnZlZ4dUlDQWdJR2hoYzA1dmNtMWhiSE1vS1NCN1hHNGdJQ0FnSUNBZ0lISmxkSFZ5YmlCMGFHbHpMbUYwZEhKcFluVjBaWE11Wm1sdVpDaHBjMDV2Y20xaGJFRjBkSEpwWW5WMFpTa2dJVDA5SUhWdVpHVm1hVzVsWkR0Y2JpQWdJQ0I5WEc1OVhHNW1kVzVqZEdsdmJpQnBjME52Ykc5eVFYUjBjbWxpZFhSbEtIc2dibUZ0WlNCOUtTQjdYRzRnSUNBZ2NtVjBkWEp1SUc1aGJXVWdQVDA5SUZCdmFXNTBRWFIwY21saWRYUmxUbUZ0WlM1RFQweFBVbDlRUVVOTFJVUTdYRzU5WEc1bWRXNWpkR2x2YmlCcGMwNXZjbTFoYkVGMGRISnBZblYwWlNoN0lHNWhiV1VnZlNrZ2UxeHVJQ0FnSUhKbGRIVnliaUFvYm1GdFpTQTlQVDBnVUc5cGJuUkJkSFJ5YVdKMWRHVk9ZVzFsTGs1UFVrMUJURjlUVUVoRlVrVk5RVkJRUlVRZ2ZIeGNiaUFnSUNBZ0lDQWdibUZ0WlNBOVBUMGdVRzlwYm5SQmRIUnlhV0oxZEdWT1lXMWxMazVQVWsxQlRGOUdURTlCVkZNZ2ZIeGNiaUFnSUNBZ0lDQWdibUZ0WlNBOVBUMGdVRzlwYm5SQmRIUnlhV0oxZEdWT1lXMWxMazVQVWsxQlRDQjhmRnh1SUNBZ0lDQWdJQ0J1WVcxbElEMDlQU0JRYjJsdWRFRjBkSEpwWW5WMFpVNWhiV1V1VGs5U1RVRk1YMDlEVkRFMktUdGNibjFjYmlKZExDSnVZVzFsY3lJNlcxMHNJbk52ZFhKalpWSnZiM1FpT2lJaWZRPT1cXFxcbi8vIyBzb3VyY2VVUkw9d2VicGFjay1pbnRlcm5hbDovLy8uL3NyYy9wb2ludC1hdHRyaWJ1dGVzLnRzXFxcXG5cXFwiKTtcXG5cXG4vKioqLyB9KSxcXG5cXG4vKioqLyBcXFwiLi9zcmMvdmVyc2lvbi50c1xcXCI6XFxuLyohKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxcXFxuICAhKioqIC4vc3JjL3ZlcnNpb24udHMgKioqIVxcbiAgXFxcXCoqKioqKioqKioqKioqKioqKioqKioqKi9cXG4vKioqLyAoKF9fdW51c2VkX3dlYnBhY2tfbW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSA9PiB7XFxuXFxuZXZhbChcXFwiX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xcXFxuLyogaGFybW9ueSBleHBvcnQgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIHtcXFxcbi8qIGhhcm1vbnkgZXhwb3J0ICovICAgVmVyc2lvbjogKCkgPT4gKC8qIGJpbmRpbmcgKi8gVmVyc2lvbilcXFxcbi8qIGhhcm1vbnkgZXhwb3J0ICovIH0pO1xcXFxuY2xhc3MgVmVyc2lvbiB7XFxcXG4gICAgY29uc3RydWN0b3IodmVyc2lvbikge1xcXFxuICAgICAgICB0aGlzLnZlcnNpb25NaW5vciA9IDA7XFxcXG4gICAgICAgIHRoaXMudmVyc2lvbiA9IHZlcnNpb247XFxcXG4gICAgICAgIGNvbnN0IHZtTGVuZ3RoID0gdmVyc2lvbi5pbmRleE9mKCcuJykgPT09IC0xID8gdmVyc2lvbi5sZW5ndGggOiB2ZXJzaW9uLmluZGV4T2YoJy4nKTtcXFxcbiAgICAgICAgdGhpcy52ZXJzaW9uTWFqb3IgPSBwYXJzZUludCh2ZXJzaW9uLnN1YnN0cigwLCB2bUxlbmd0aCksIDEwKTtcXFxcbiAgICAgICAgdGhpcy52ZXJzaW9uTWlub3IgPSBwYXJzZUludCh2ZXJzaW9uLnN1YnN0cih2bUxlbmd0aCArIDEpLCAxMCk7XFxcXG4gICAgICAgIGlmIChpc05hTih0aGlzLnZlcnNpb25NaW5vcikpIHtcXFxcbiAgICAgICAgICAgIHRoaXMudmVyc2lvbk1pbm9yID0gMDtcXFxcbiAgICAgICAgfVxcXFxuICAgIH1cXFxcbiAgICBuZXdlclRoYW4odmVyc2lvbikge1xcXFxuICAgICAgICBjb25zdCB2ID0gbmV3IFZlcnNpb24odmVyc2lvbik7XFxcXG4gICAgICAgIGlmICh0aGlzLnZlcnNpb25NYWpvciA+IHYudmVyc2lvbk1ham9yKSB7XFxcXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcXFxcbiAgICAgICAgfVxcXFxuICAgICAgICBlbHNlIGlmICh0aGlzLnZlcnNpb25NYWpvciA9PT0gdi52ZXJzaW9uTWFqb3IgJiYgdGhpcy52ZXJzaW9uTWlub3IgPiB2LnZlcnNpb25NaW5vcikge1xcXFxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XFxcXG4gICAgICAgIH1cXFxcbiAgICAgICAgZWxzZSB7XFxcXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XFxcXG4gICAgICAgIH1cXFxcbiAgICB9XFxcXG4gICAgZXF1YWxPckhpZ2hlcih2ZXJzaW9uKSB7XFxcXG4gICAgICAgIGNvbnN0IHYgPSBuZXcgVmVyc2lvbih2ZXJzaW9uKTtcXFxcbiAgICAgICAgaWYgKHRoaXMudmVyc2lvbk1ham9yID4gdi52ZXJzaW9uTWFqb3IpIHtcXFxcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xcXFxuICAgICAgICB9XFxcXG4gICAgICAgIGVsc2UgaWYgKHRoaXMudmVyc2lvbk1ham9yID09PSB2LnZlcnNpb25NYWpvciAmJiB0aGlzLnZlcnNpb25NaW5vciA+PSB2LnZlcnNpb25NaW5vcikge1xcXFxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XFxcXG4gICAgICAgIH1cXFxcbiAgICAgICAgZWxzZSB7XFxcXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XFxcXG4gICAgICAgIH1cXFxcbiAgICB9XFxcXG4gICAgdXBUbyh2ZXJzaW9uKSB7XFxcXG4gICAgICAgIHJldHVybiAhdGhpcy5uZXdlclRoYW4odmVyc2lvbik7XFxcXG4gICAgfVxcXFxufVxcXFxuLy8jIHNvdXJjZVVSTD1bbW9kdWxlXVxcXFxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0ptYVd4bElqb2lMaTl6Y21NdmRtVnljMmx2Ymk1MGN5SXNJbTFoY0hCcGJtZHpJam9pT3pzN08wRkJRVUU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CSWl3aWMyOTFjbU5sY3lJNld5SjNaV0p3WVdOck9pOHZjRzkwY21WbEx5NHZjM0pqTDNabGNuTnBiMjR1ZEhNL01UQXlPU0pkTENKemIzVnlZMlZ6UTI5dWRHVnVkQ0k2V3lKbGVIQnZjblFnWTJ4aGMzTWdWbVZ5YzJsdmJpQjdYRzRnSUNBZ1kyOXVjM1J5ZFdOMGIzSW9kbVZ5YzJsdmJpa2dlMXh1SUNBZ0lDQWdJQ0IwYUdsekxuWmxjbk5wYjI1TmFXNXZjaUE5SURBN1hHNGdJQ0FnSUNBZ0lIUm9hWE11ZG1WeWMybHZiaUE5SUhabGNuTnBiMjQ3WEc0Z0lDQWdJQ0FnSUdOdmJuTjBJSFp0VEdWdVozUm9JRDBnZG1WeWMybHZiaTVwYm1SbGVFOW1LQ2N1SnlrZ1BUMDlJQzB4SUQ4Z2RtVnljMmx2Ymk1c1pXNW5kR2dnT2lCMlpYSnphVzl1TG1sdVpHVjRUMllvSnk0bktUdGNiaUFnSUNBZ0lDQWdkR2hwY3k1MlpYSnphVzl1VFdGcWIzSWdQU0J3WVhKelpVbHVkQ2gyWlhKemFXOXVMbk4xWW5OMGNpZ3dMQ0IyYlV4bGJtZDBhQ2tzSURFd0tUdGNiaUFnSUNBZ0lDQWdkR2hwY3k1MlpYSnphVzl1VFdsdWIzSWdQU0J3WVhKelpVbHVkQ2gyWlhKemFXOXVMbk4xWW5OMGNpaDJiVXhsYm1kMGFDQXJJREVwTENBeE1DazdYRzRnSUNBZ0lDQWdJR2xtSUNocGMwNWhUaWgwYUdsekxuWmxjbk5wYjI1TmFXNXZjaWtwSUh0Y2JpQWdJQ0FnSUNBZ0lDQWdJSFJvYVhNdWRtVnljMmx2YmsxcGJtOXlJRDBnTUR0Y2JpQWdJQ0FnSUNBZ2ZWeHVJQ0FnSUgxY2JpQWdJQ0J1WlhkbGNsUm9ZVzRvZG1WeWMybHZiaWtnZTF4dUlDQWdJQ0FnSUNCamIyNXpkQ0IySUQwZ2JtVjNJRlpsY25OcGIyNG9kbVZ5YzJsdmJpazdYRzRnSUNBZ0lDQWdJR2xtSUNoMGFHbHpMblpsY25OcGIyNU5ZV3B2Y2lBK0lIWXVkbVZ5YzJsdmJrMWhhbTl5S1NCN1hHNGdJQ0FnSUNBZ0lDQWdJQ0J5WlhSMWNtNGdkSEoxWlR0Y2JpQWdJQ0FnSUNBZ2ZWeHVJQ0FnSUNBZ0lDQmxiSE5sSUdsbUlDaDBhR2x6TG5abGNuTnBiMjVOWVdwdmNpQTlQVDBnZGk1MlpYSnphVzl1VFdGcWIzSWdKaVlnZEdocGN5NTJaWEp6YVc5dVRXbHViM0lnUGlCMkxuWmxjbk5wYjI1TmFXNXZjaWtnZTF4dUlDQWdJQ0FnSUNBZ0lDQWdjbVYwZFhKdUlIUnlkV1U3WEc0Z0lDQWdJQ0FnSUgxY2JpQWdJQ0FnSUNBZ1pXeHpaU0I3WEc0Z0lDQWdJQ0FnSUNBZ0lDQnlaWFIxY200Z1ptRnNjMlU3WEc0Z0lDQWdJQ0FnSUgxY2JpQWdJQ0I5WEc0Z0lDQWdaWEYxWVd4UGNraHBaMmhsY2loMlpYSnphVzl1S1NCN1hHNGdJQ0FnSUNBZ0lHTnZibk4wSUhZZ1BTQnVaWGNnVm1WeWMybHZiaWgyWlhKemFXOXVLVHRjYmlBZ0lDQWdJQ0FnYVdZZ0tIUm9hWE11ZG1WeWMybHZiazFoYW05eUlENGdkaTUyWlhKemFXOXVUV0ZxYjNJcElIdGNiaUFnSUNBZ0lDQWdJQ0FnSUhKbGRIVnliaUIwY25WbE8xeHVJQ0FnSUNBZ0lDQjlYRzRnSUNBZ0lDQWdJR1ZzYzJVZ2FXWWdLSFJvYVhNdWRtVnljMmx2YmsxaGFtOXlJRDA5UFNCMkxuWmxjbk5wYjI1TllXcHZjaUFtSmlCMGFHbHpMblpsY25OcGIyNU5hVzV2Y2lBK1BTQjJMblpsY25OcGIyNU5hVzV2Y2lrZ2UxeHVJQ0FnSUNBZ0lDQWdJQ0FnY21WMGRYSnVJSFJ5ZFdVN1hHNGdJQ0FnSUNBZ0lIMWNiaUFnSUNBZ0lDQWdaV3h6WlNCN1hHNGdJQ0FnSUNBZ0lDQWdJQ0J5WlhSMWNtNGdabUZzYzJVN1hHNGdJQ0FnSUNBZ0lIMWNiaUFnSUNCOVhHNGdJQ0FnZFhCVWJ5aDJaWEp6YVc5dUtTQjdYRzRnSUNBZ0lDQWdJSEpsZEhWeWJpQWhkR2hwY3k1dVpYZGxjbFJvWVc0b2RtVnljMmx2YmlrN1hHNGdJQ0FnZlZ4dWZWeHVJbDBzSW01aGJXVnpJanBiWFN3aWMyOTFjbU5sVW05dmRDSTZJaUo5XFxcXG4vLyMgc291cmNlVVJMPXdlYnBhY2staW50ZXJuYWw6Ly8vLi9zcmMvdmVyc2lvbi50c1xcXFxuXFxcIik7XFxuXFxuLyoqKi8gfSksXFxuXFxuLyoqKi8gXFxcIi4vc3JjL3dvcmtlcnMvYmluYXJ5LWRlY29kZXItd29ya2VyLWludGVybmFsLnRzXFxcIjpcXG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxcXFxuICAhKioqIC4vc3JjL3dvcmtlcnMvYmluYXJ5LWRlY29kZXItd29ya2VyLWludGVybmFsLnRzICoqKiFcXG4gIFxcXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xcbi8qKiovICgoX191bnVzZWRfd2VicGFja19tb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pID0+IHtcXG5cXG5ldmFsKFxcXCJfX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XFxcXG4vKiBoYXJtb255IGV4cG9ydCAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywge1xcXFxuLyogaGFybW9ueSBleHBvcnQgKi8gICBoYW5kbGVNZXNzYWdlOiAoKSA9PiAoLyogYmluZGluZyAqLyBoYW5kbGVNZXNzYWdlKVxcXFxuLyogaGFybW9ueSBleHBvcnQgKi8gfSk7XFxcXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3BvaW50X2F0dHJpYnV0ZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3BvaW50LWF0dHJpYnV0ZXMgKi8gXFxcXFxcXCIuL3NyYy9wb2ludC1hdHRyaWJ1dGVzLnRzXFxcXFxcXCIpO1xcXFxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF92ZXJzaW9uX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi92ZXJzaW9uICovIFxcXFxcXFwiLi9zcmMvdmVyc2lvbi50c1xcXFxcXFwiKTtcXFxcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfY3VzdG9tX2FycmF5X3ZpZXdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vY3VzdG9tLWFycmF5LXZpZXcgKi8gXFxcXFxcXCIuL3NyYy93b3JrZXJzL2N1c3RvbS1hcnJheS12aWV3LnRzXFxcXFxcXCIpO1xcXFxuLyoqXFxcXG4gKiBBZGFwdGVkIGZyb20gUG90cmVlLmpzIGh0dHA6Ly9wb3RyZWUub3JnXFxcXG4gKiBQb3RyZWUgTGljZW5zZTogaHR0cHM6Ly9naXRodWIuY29tL3BvdHJlZS9wb3RyZWUvYmxvYi8xLjUvTElDRU5TRVxcXFxuICovXFxcXG5cXFxcblxcXFxuXFxcXG4vLyBJRTExIGRvZXMgbm90IGhhdmUgTWF0aC5zaWduKCksIHRoaXMgaGFzIGJlZW4gYWRhcHRlZCBmcm9tIENvcmVKUyBlczYubWF0aC5zaWduLmpzIGZvciBUeXBlU2NyaXB0XFxcXG5jb25zdCBtYXRoU2lnbiA9IE1hdGguc2lnbiB8fFxcXFxuICAgIGZ1bmN0aW9uICh4KSB7XFxcXG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTp0cmlwbGUtZXF1YWxzXFxcXG4gICAgICAgIHJldHVybiAoeCA9ICt4KSA9PSAwIHx8IHggIT0geCA/IHggOiB4IDwgMCA/IC0xIDogMTtcXFxcbiAgICB9O1xcXFxuZnVuY3Rpb24gaGFuZGxlTWVzc2FnZShldmVudCkge1xcXFxuICAgIGNvbnN0IGJ1ZmZlciA9IGV2ZW50LmRhdGEuYnVmZmVyO1xcXFxuICAgIGNvbnN0IHBvaW50QXR0cmlidXRlcyA9IGV2ZW50LmRhdGEucG9pbnRBdHRyaWJ1dGVzO1xcXFxuICAgIGNvbnN0IGN0eCA9IHtcXFxcbiAgICAgICAgYXR0cmlidXRlQnVmZmVyczoge30sXFxcXG4gICAgICAgIGN1cnJlbnRPZmZzZXQ6IDAsXFxcXG4gICAgICAgIGRhdGE6IG5ldyBfY3VzdG9tX2FycmF5X3ZpZXdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXy5DdXN0b21BcnJheVZpZXcoYnVmZmVyKSxcXFxcbiAgICAgICAgbWVhbjogWzAsIDAsIDBdLFxcXFxuICAgICAgICBub2RlT2Zmc2V0OiBldmVudC5kYXRhLm9mZnNldCxcXFxcbiAgICAgICAgbnVtUG9pbnRzOiBldmVudC5kYXRhLmJ1ZmZlci5ieXRlTGVuZ3RoIC8gcG9pbnRBdHRyaWJ1dGVzLmJ5dGVTaXplLFxcXFxuICAgICAgICBwb2ludEF0dHJpYnV0ZXMsXFxcXG4gICAgICAgIHNjYWxlOiBldmVudC5kYXRhLnNjYWxlLFxcXFxuICAgICAgICB0aWdodEJveE1heDogW051bWJlci5ORUdBVElWRV9JTkZJTklUWSwgTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZLCBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFldLFxcXFxuICAgICAgICB0aWdodEJveE1pbjogW051bWJlci5QT1NJVElWRV9JTkZJTklUWSwgTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLCBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFldLFxcXFxuICAgICAgICB0cmFuc2ZlcmFibGVzOiBbXSxcXFxcbiAgICAgICAgdmVyc2lvbjogbmV3IF92ZXJzaW9uX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18uVmVyc2lvbihldmVudC5kYXRhLnZlcnNpb24pLFxcXFxuICAgIH07XFxcXG4gICAgZm9yIChjb25zdCBwb2ludEF0dHJpYnV0ZSBvZiBjdHgucG9pbnRBdHRyaWJ1dGVzLmF0dHJpYnV0ZXMpIHtcXFxcbiAgICAgICAgZGVjb2RlQW5kQWRkQXR0cmlidXRlKHBvaW50QXR0cmlidXRlLCBjdHgpO1xcXFxuICAgICAgICBjdHguY3VycmVudE9mZnNldCArPSBwb2ludEF0dHJpYnV0ZS5ieXRlU2l6ZTtcXFxcbiAgICB9XFxcXG4gICAgY29uc3QgaW5kaWNlcyA9IG5ldyBBcnJheUJ1ZmZlcihjdHgubnVtUG9pbnRzICogNCk7XFxcXG4gICAgY29uc3QgaUluZGljZXMgPSBuZXcgVWludDMyQXJyYXkoaW5kaWNlcyk7XFxcXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjdHgubnVtUG9pbnRzOyBpKyspIHtcXFxcbiAgICAgICAgaUluZGljZXNbaV0gPSBpO1xcXFxuICAgIH1cXFxcbiAgICBpZiAoIWN0eC5hdHRyaWJ1dGVCdWZmZXJzW19wb2ludF9hdHRyaWJ1dGVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18uUG9pbnRBdHRyaWJ1dGVOYW1lLkNMQVNTSUZJQ0FUSU9OXSkge1xcXFxuICAgICAgICBhZGRFbXB0eUNsYXNzaWZpY2F0aW9uQnVmZmVyKGN0eCk7XFxcXG4gICAgfVxcXFxuICAgIGNvbnN0IG1lc3NhZ2UgPSB7XFxcXG4gICAgICAgIGJ1ZmZlcjogYnVmZmVyLFxcXFxuICAgICAgICBtZWFuOiBjdHgubWVhbixcXFxcbiAgICAgICAgYXR0cmlidXRlQnVmZmVyczogY3R4LmF0dHJpYnV0ZUJ1ZmZlcnMsXFxcXG4gICAgICAgIHRpZ2h0Qm91bmRpbmdCb3g6IHsgbWluOiBjdHgudGlnaHRCb3hNaW4sIG1heDogY3R4LnRpZ2h0Qm94TWF4IH0sXFxcXG4gICAgICAgIGluZGljZXMsXFxcXG4gICAgfTtcXFxcbiAgICBwb3N0TWVzc2FnZShtZXNzYWdlLCBjdHgudHJhbnNmZXJhYmxlcyk7XFxcXG59XFxcXG5mdW5jdGlvbiBhZGRFbXB0eUNsYXNzaWZpY2F0aW9uQnVmZmVyKGN0eCkge1xcXFxuICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcihjdHgubnVtUG9pbnRzICogNCk7XFxcXG4gICAgY29uc3QgY2xhc3NpZmljYXRpb25zID0gbmV3IEZsb2F0MzJBcnJheShidWZmZXIpO1xcXFxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY3R4Lm51bVBvaW50czsgaSsrKSB7XFxcXG4gICAgICAgIGNsYXNzaWZpY2F0aW9uc1tpXSA9IDA7XFxcXG4gICAgfVxcXFxuICAgIGN0eC5hdHRyaWJ1dGVCdWZmZXJzW19wb2ludF9hdHRyaWJ1dGVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18uUG9pbnRBdHRyaWJ1dGVOYW1lLkNMQVNTSUZJQ0FUSU9OXSA9IHtcXFxcbiAgICAgICAgYnVmZmVyLFxcXFxuICAgICAgICBhdHRyaWJ1dGU6IF9wb2ludF9hdHRyaWJ1dGVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18uUE9JTlRfQVRUUklCVVRFUy5DTEFTU0lGSUNBVElPTixcXFxcbiAgICB9O1xcXFxufVxcXFxuZnVuY3Rpb24gZGVjb2RlQW5kQWRkQXR0cmlidXRlKGF0dHJpYnV0ZSwgY3R4KSB7XFxcXG4gICAgY29uc3QgZGVjb2RlZEF0dHJpYnV0ZSA9IGRlY29kZVBvaW50QXR0cmlidXRlKGF0dHJpYnV0ZSwgY3R4KTtcXFxcbiAgICBpZiAoZGVjb2RlZEF0dHJpYnV0ZSA9PT0gdW5kZWZpbmVkKSB7XFxcXG4gICAgICAgIHJldHVybjtcXFxcbiAgICB9XFxcXG4gICAgY3R4LmF0dHJpYnV0ZUJ1ZmZlcnNbZGVjb2RlZEF0dHJpYnV0ZS5hdHRyaWJ1dGUubmFtZV0gPSBkZWNvZGVkQXR0cmlidXRlO1xcXFxuICAgIGN0eC50cmFuc2ZlcmFibGVzLnB1c2goZGVjb2RlZEF0dHJpYnV0ZS5idWZmZXIpO1xcXFxufVxcXFxuZnVuY3Rpb24gZGVjb2RlUG9pbnRBdHRyaWJ1dGUoYXR0cmlidXRlLCBjdHgpIHtcXFxcbiAgICBzd2l0Y2ggKGF0dHJpYnV0ZS5uYW1lKSB7XFxcXG4gICAgICAgIGNhc2UgX3BvaW50X2F0dHJpYnV0ZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXy5Qb2ludEF0dHJpYnV0ZU5hbWUuUE9TSVRJT05fQ0FSVEVTSUFOOlxcXFxuICAgICAgICAgICAgcmV0dXJuIGRlY29kZVBvc2l0aW9uQ2FydGVzaWFuKGF0dHJpYnV0ZSwgY3R4KTtcXFxcbiAgICAgICAgY2FzZSBfcG9pbnRfYXR0cmlidXRlc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fLlBvaW50QXR0cmlidXRlTmFtZS5DT0xPUl9QQUNLRUQ6XFxcXG4gICAgICAgICAgICByZXR1cm4gZGVjb2RlQ29sb3IoYXR0cmlidXRlLCBjdHgpO1xcXFxuICAgICAgICBjYXNlIF9wb2ludF9hdHRyaWJ1dGVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18uUG9pbnRBdHRyaWJ1dGVOYW1lLklOVEVOU0lUWTpcXFxcbiAgICAgICAgICAgIHJldHVybiBkZWNvZGVJbnRlbnNpdHkoYXR0cmlidXRlLCBjdHgpO1xcXFxuICAgICAgICBjYXNlIF9wb2ludF9hdHRyaWJ1dGVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18uUG9pbnRBdHRyaWJ1dGVOYW1lLkNMQVNTSUZJQ0FUSU9OOlxcXFxuICAgICAgICAgICAgcmV0dXJuIGRlY29kZUNsYXNzaWZpY2F0aW9uKGF0dHJpYnV0ZSwgY3R4KTtcXFxcbiAgICAgICAgY2FzZSBfcG9pbnRfYXR0cmlidXRlc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fLlBvaW50QXR0cmlidXRlTmFtZS5OT1JNQUxfU1BIRVJFTUFQUEVEOlxcXFxuICAgICAgICAgICAgcmV0dXJuIGRlY29kZU5vcm1hbFNwaGVyZU1hcHBlZChhdHRyaWJ1dGUsIGN0eCk7XFxcXG4gICAgICAgIGNhc2UgX3BvaW50X2F0dHJpYnV0ZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXy5Qb2ludEF0dHJpYnV0ZU5hbWUuTk9STUFMX09DVDE2OlxcXFxuICAgICAgICAgICAgcmV0dXJuIGRlY29kZU5vcm1hbE9jdDE2KGF0dHJpYnV0ZSwgY3R4KTtcXFxcbiAgICAgICAgY2FzZSBfcG9pbnRfYXR0cmlidXRlc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fLlBvaW50QXR0cmlidXRlTmFtZS5OT1JNQUw6XFxcXG4gICAgICAgICAgICByZXR1cm4gZGVjb2RlTm9ybWFsKGF0dHJpYnV0ZSwgY3R4KTtcXFxcbiAgICAgICAgZGVmYXVsdDpcXFxcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XFxcXG4gICAgfVxcXFxufVxcXFxuZnVuY3Rpb24gZGVjb2RlUG9zaXRpb25DYXJ0ZXNpYW4oYXR0cmlidXRlLCBjdHgpIHtcXFxcbiAgICBjb25zdCBidWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIoY3R4Lm51bVBvaW50cyAqIDQgKiAzKTtcXFxcbiAgICBjb25zdCBwb3NpdGlvbnMgPSBuZXcgRmxvYXQzMkFycmF5KGJ1ZmZlcik7XFxcXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjdHgubnVtUG9pbnRzOyBpKyspIHtcXFxcbiAgICAgICAgbGV0IHg7XFxcXG4gICAgICAgIGxldCB5O1xcXFxuICAgICAgICBsZXQgejtcXFxcbiAgICAgICAgaWYgKGN0eC52ZXJzaW9uLm5ld2VyVGhhbignMS4zJykpIHtcXFxcbiAgICAgICAgICAgIHggPSBjdHguZGF0YS5nZXRVaW50MzIoY3R4LmN1cnJlbnRPZmZzZXQgKyBpICogY3R4LnBvaW50QXR0cmlidXRlcy5ieXRlU2l6ZSArIDApICogY3R4LnNjYWxlO1xcXFxuICAgICAgICAgICAgeSA9IGN0eC5kYXRhLmdldFVpbnQzMihjdHguY3VycmVudE9mZnNldCArIGkgKiBjdHgucG9pbnRBdHRyaWJ1dGVzLmJ5dGVTaXplICsgNCkgKiBjdHguc2NhbGU7XFxcXG4gICAgICAgICAgICB6ID0gY3R4LmRhdGEuZ2V0VWludDMyKGN0eC5jdXJyZW50T2Zmc2V0ICsgaSAqIGN0eC5wb2ludEF0dHJpYnV0ZXMuYnl0ZVNpemUgKyA4KSAqIGN0eC5zY2FsZTtcXFxcbiAgICAgICAgfVxcXFxuICAgICAgICBlbHNlIHtcXFxcbiAgICAgICAgICAgIHggPSBjdHguZGF0YS5nZXRGbG9hdDMyKGkgKiBjdHgucG9pbnRBdHRyaWJ1dGVzLmJ5dGVTaXplICsgMCkgKyBjdHgubm9kZU9mZnNldFswXTtcXFxcbiAgICAgICAgICAgIHkgPSBjdHguZGF0YS5nZXRGbG9hdDMyKGkgKiBjdHgucG9pbnRBdHRyaWJ1dGVzLmJ5dGVTaXplICsgNCkgKyBjdHgubm9kZU9mZnNldFsxXTtcXFxcbiAgICAgICAgICAgIHogPSBjdHguZGF0YS5nZXRGbG9hdDMyKGkgKiBjdHgucG9pbnRBdHRyaWJ1dGVzLmJ5dGVTaXplICsgOCkgKyBjdHgubm9kZU9mZnNldFsyXTtcXFxcbiAgICAgICAgfVxcXFxuICAgICAgICBwb3NpdGlvbnNbMyAqIGkgKyAwXSA9IHg7XFxcXG4gICAgICAgIHBvc2l0aW9uc1szICogaSArIDFdID0geTtcXFxcbiAgICAgICAgcG9zaXRpb25zWzMgKiBpICsgMl0gPSB6O1xcXFxuICAgICAgICBjdHgubWVhblswXSArPSB4IC8gY3R4Lm51bVBvaW50cztcXFxcbiAgICAgICAgY3R4Lm1lYW5bMV0gKz0geSAvIGN0eC5udW1Qb2ludHM7XFxcXG4gICAgICAgIGN0eC5tZWFuWzJdICs9IHogLyBjdHgubnVtUG9pbnRzO1xcXFxuICAgICAgICBjdHgudGlnaHRCb3hNaW5bMF0gPSBNYXRoLm1pbihjdHgudGlnaHRCb3hNaW5bMF0sIHgpO1xcXFxuICAgICAgICBjdHgudGlnaHRCb3hNaW5bMV0gPSBNYXRoLm1pbihjdHgudGlnaHRCb3hNaW5bMV0sIHkpO1xcXFxuICAgICAgICBjdHgudGlnaHRCb3hNaW5bMl0gPSBNYXRoLm1pbihjdHgudGlnaHRCb3hNaW5bMl0sIHopO1xcXFxuICAgICAgICBjdHgudGlnaHRCb3hNYXhbMF0gPSBNYXRoLm1heChjdHgudGlnaHRCb3hNYXhbMF0sIHgpO1xcXFxuICAgICAgICBjdHgudGlnaHRCb3hNYXhbMV0gPSBNYXRoLm1heChjdHgudGlnaHRCb3hNYXhbMV0sIHkpO1xcXFxuICAgICAgICBjdHgudGlnaHRCb3hNYXhbMl0gPSBNYXRoLm1heChjdHgudGlnaHRCb3hNYXhbMl0sIHopO1xcXFxuICAgIH1cXFxcbiAgICByZXR1cm4geyBidWZmZXIsIGF0dHJpYnV0ZSB9O1xcXFxufVxcXFxuZnVuY3Rpb24gZGVjb2RlQ29sb3IoYXR0cmlidXRlLCBjdHgpIHtcXFxcbiAgICBjb25zdCBidWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIoY3R4Lm51bVBvaW50cyAqIDMpO1xcXFxuICAgIGNvbnN0IGNvbG9ycyA9IG5ldyBVaW50OEFycmF5KGJ1ZmZlcik7XFxcXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjdHgubnVtUG9pbnRzOyBpKyspIHtcXFxcbiAgICAgICAgY29sb3JzWzMgKiBpICsgMF0gPSBjdHguZGF0YS5nZXRVaW50OChjdHguY3VycmVudE9mZnNldCArIGkgKiBjdHgucG9pbnRBdHRyaWJ1dGVzLmJ5dGVTaXplICsgMCk7XFxcXG4gICAgICAgIGNvbG9yc1szICogaSArIDFdID0gY3R4LmRhdGEuZ2V0VWludDgoY3R4LmN1cnJlbnRPZmZzZXQgKyBpICogY3R4LnBvaW50QXR0cmlidXRlcy5ieXRlU2l6ZSArIDEpO1xcXFxuICAgICAgICBjb2xvcnNbMyAqIGkgKyAyXSA9IGN0eC5kYXRhLmdldFVpbnQ4KGN0eC5jdXJyZW50T2Zmc2V0ICsgaSAqIGN0eC5wb2ludEF0dHJpYnV0ZXMuYnl0ZVNpemUgKyAyKTtcXFxcbiAgICB9XFxcXG4gICAgcmV0dXJuIHsgYnVmZmVyLCBhdHRyaWJ1dGUgfTtcXFxcbn1cXFxcbmZ1bmN0aW9uIGRlY29kZUludGVuc2l0eShhdHRyaWJ1dGUsIGN0eCkge1xcXFxuICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcihjdHgubnVtUG9pbnRzICogNCk7XFxcXG4gICAgY29uc3QgaW50ZW5zaXRpZXMgPSBuZXcgRmxvYXQzMkFycmF5KGJ1ZmZlcik7XFxcXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjdHgubnVtUG9pbnRzOyBpKyspIHtcXFxcbiAgICAgICAgaW50ZW5zaXRpZXNbaV0gPSBjdHguZGF0YS5nZXRVaW50MTYoY3R4LmN1cnJlbnRPZmZzZXQgKyBpICogY3R4LnBvaW50QXR0cmlidXRlcy5ieXRlU2l6ZSk7XFxcXG4gICAgfVxcXFxuICAgIHJldHVybiB7IGJ1ZmZlciwgYXR0cmlidXRlIH07XFxcXG59XFxcXG5mdW5jdGlvbiBkZWNvZGVDbGFzc2lmaWNhdGlvbihhdHRyaWJ1dGUsIGN0eCkge1xcXFxuICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcihjdHgubnVtUG9pbnRzKTtcXFxcbiAgICBjb25zdCBjbGFzc2lmaWNhdGlvbnMgPSBuZXcgVWludDhBcnJheShidWZmZXIpO1xcXFxuICAgIGZvciAobGV0IGogPSAwOyBqIDwgY3R4Lm51bVBvaW50czsgaisrKSB7XFxcXG4gICAgICAgIGNsYXNzaWZpY2F0aW9uc1tqXSA9IGN0eC5kYXRhLmdldFVpbnQ4KGN0eC5jdXJyZW50T2Zmc2V0ICsgaiAqIGN0eC5wb2ludEF0dHJpYnV0ZXMuYnl0ZVNpemUpO1xcXFxuICAgIH1cXFxcbiAgICByZXR1cm4geyBidWZmZXIsIGF0dHJpYnV0ZSB9O1xcXFxufVxcXFxuZnVuY3Rpb24gZGVjb2RlTm9ybWFsU3BoZXJlTWFwcGVkKGF0dHJpYnV0ZSwgY3R4KSB7XFxcXG4gICAgY29uc3QgYnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKGN0eC5udW1Qb2ludHMgKiA0ICogMyk7XFxcXG4gICAgY29uc3Qgbm9ybWFscyA9IG5ldyBGbG9hdDMyQXJyYXkoYnVmZmVyKTtcXFxcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IGN0eC5udW1Qb2ludHM7IGorKykge1xcXFxuICAgICAgICBjb25zdCBieCA9IGN0eC5kYXRhLmdldFVpbnQ4KGN0eC5jdXJyZW50T2Zmc2V0ICsgaiAqIGN0eC5wb2ludEF0dHJpYnV0ZXMuYnl0ZVNpemUgKyAwKTtcXFxcbiAgICAgICAgY29uc3QgYnkgPSBjdHguZGF0YS5nZXRVaW50OChjdHguY3VycmVudE9mZnNldCArIGogKiBjdHgucG9pbnRBdHRyaWJ1dGVzLmJ5dGVTaXplICsgMSk7XFxcXG4gICAgICAgIGNvbnN0IGV4ID0gYnggLyAyNTU7XFxcXG4gICAgICAgIGNvbnN0IGV5ID0gYnkgLyAyNTU7XFxcXG4gICAgICAgIGxldCBueCA9IGV4ICogMiAtIDE7XFxcXG4gICAgICAgIGxldCBueSA9IGV5ICogMiAtIDE7XFxcXG4gICAgICAgIGxldCBueiA9IDE7XFxcXG4gICAgICAgIGNvbnN0IG53ID0gLTE7XFxcXG4gICAgICAgIGNvbnN0IGwgPSBueCAqIC1ueCArIG55ICogLW55ICsgbnogKiAtbnc7XFxcXG4gICAgICAgIG56ID0gbDtcXFxcbiAgICAgICAgbnggPSBueCAqIE1hdGguc3FydChsKTtcXFxcbiAgICAgICAgbnkgPSBueSAqIE1hdGguc3FydChsKTtcXFxcbiAgICAgICAgbnggPSBueCAqIDI7XFxcXG4gICAgICAgIG55ID0gbnkgKiAyO1xcXFxuICAgICAgICBueiA9IG56ICogMiAtIDE7XFxcXG4gICAgICAgIG5vcm1hbHNbMyAqIGogKyAwXSA9IG54O1xcXFxuICAgICAgICBub3JtYWxzWzMgKiBqICsgMV0gPSBueTtcXFxcbiAgICAgICAgbm9ybWFsc1szICogaiArIDJdID0gbno7XFxcXG4gICAgfVxcXFxuICAgIHJldHVybiB7IGJ1ZmZlciwgYXR0cmlidXRlIH07XFxcXG59XFxcXG5mdW5jdGlvbiBkZWNvZGVOb3JtYWxPY3QxNihhdHRyaWJ1dGUsIGN0eCkge1xcXFxuICAgIGNvbnN0IGJ1ZmYgPSBuZXcgQXJyYXlCdWZmZXIoY3R4Lm51bVBvaW50cyAqIDQgKiAzKTtcXFxcbiAgICBjb25zdCBub3JtYWxzID0gbmV3IEZsb2F0MzJBcnJheShidWZmKTtcXFxcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IGN0eC5udW1Qb2ludHM7IGorKykge1xcXFxuICAgICAgICBjb25zdCBieCA9IGN0eC5kYXRhLmdldFVpbnQ4KGN0eC5jdXJyZW50T2Zmc2V0ICsgaiAqIGN0eC5wb2ludEF0dHJpYnV0ZXMuYnl0ZVNpemUgKyAwKTtcXFxcbiAgICAgICAgY29uc3QgYnkgPSBjdHguZGF0YS5nZXRVaW50OChjdHguY3VycmVudE9mZnNldCArIGogKiBjdHgucG9pbnRBdHRyaWJ1dGVzLmJ5dGVTaXplICsgMSk7XFxcXG4gICAgICAgIGNvbnN0IHUgPSAoYnggLyAyNTUpICogMiAtIDE7XFxcXG4gICAgICAgIGNvbnN0IHYgPSAoYnkgLyAyNTUpICogMiAtIDE7XFxcXG4gICAgICAgIGxldCB6ID0gMSAtIE1hdGguYWJzKHUpIC0gTWF0aC5hYnModik7XFxcXG4gICAgICAgIGxldCB4ID0gMDtcXFxcbiAgICAgICAgbGV0IHkgPSAwO1xcXFxuICAgICAgICBpZiAoeiA+PSAwKSB7XFxcXG4gICAgICAgICAgICB4ID0gdTtcXFxcbiAgICAgICAgICAgIHkgPSB2O1xcXFxuICAgICAgICB9XFxcXG4gICAgICAgIGVsc2Uge1xcXFxuICAgICAgICAgICAgeCA9IC0odiAvIG1hdGhTaWduKHYpIC0gMSkgLyBtYXRoU2lnbih1KTtcXFxcbiAgICAgICAgICAgIHkgPSAtKHUgLyBtYXRoU2lnbih1KSAtIDEpIC8gbWF0aFNpZ24odik7XFxcXG4gICAgICAgIH1cXFxcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gTWF0aC5zcXJ0KHggKiB4ICsgeSAqIHkgKyB6ICogeik7XFxcXG4gICAgICAgIHggPSB4IC8gbGVuZ3RoO1xcXFxuICAgICAgICB5ID0geSAvIGxlbmd0aDtcXFxcbiAgICAgICAgeiA9IHogLyBsZW5ndGg7XFxcXG4gICAgICAgIG5vcm1hbHNbMyAqIGogKyAwXSA9IHg7XFxcXG4gICAgICAgIG5vcm1hbHNbMyAqIGogKyAxXSA9IHk7XFxcXG4gICAgICAgIG5vcm1hbHNbMyAqIGogKyAyXSA9IHo7XFxcXG4gICAgfVxcXFxuICAgIHJldHVybiB7IGJ1ZmZlcjogYnVmZiwgYXR0cmlidXRlIH07XFxcXG59XFxcXG5mdW5jdGlvbiBkZWNvZGVOb3JtYWwoYXR0cmlidXRlLCBjdHgpIHtcXFxcbiAgICBjb25zdCBidWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIoY3R4Lm51bVBvaW50cyAqIDQgKiAzKTtcXFxcbiAgICBjb25zdCBub3JtYWxzID0gbmV3IEZsb2F0MzJBcnJheShidWZmZXIpO1xcXFxuICAgIGZvciAobGV0IGogPSAwOyBqIDwgY3R4Lm51bVBvaW50czsgaisrKSB7XFxcXG4gICAgICAgIGNvbnN0IHggPSBjdHguZGF0YS5nZXRGbG9hdDMyKGN0eC5jdXJyZW50T2Zmc2V0ICsgaiAqIGN0eC5wb2ludEF0dHJpYnV0ZXMuYnl0ZVNpemUgKyAwKTtcXFxcbiAgICAgICAgY29uc3QgeSA9IGN0eC5kYXRhLmdldEZsb2F0MzIoY3R4LmN1cnJlbnRPZmZzZXQgKyBqICogY3R4LnBvaW50QXR0cmlidXRlcy5ieXRlU2l6ZSArIDQpO1xcXFxuICAgICAgICBjb25zdCB6ID0gY3R4LmRhdGEuZ2V0RmxvYXQzMihjdHguY3VycmVudE9mZnNldCArIGogKiBjdHgucG9pbnRBdHRyaWJ1dGVzLmJ5dGVTaXplICsgOCk7XFxcXG4gICAgICAgIG5vcm1hbHNbMyAqIGogKyAwXSA9IHg7XFxcXG4gICAgICAgIG5vcm1hbHNbMyAqIGogKyAxXSA9IHk7XFxcXG4gICAgICAgIG5vcm1hbHNbMyAqIGogKyAyXSA9IHo7XFxcXG4gICAgfVxcXFxuICAgIHJldHVybiB7IGJ1ZmZlciwgYXR0cmlidXRlIH07XFxcXG59XFxcXG4vLyMgc291cmNlVVJMPVttb2R1bGVdXFxcXG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSm1hV3hsSWpvaUxpOXpjbU12ZDI5eWEyVnljeTlpYVc1aGNua3RaR1ZqYjJSbGNpMTNiM0pyWlhJdGFXNTBaWEp1WVd3dWRITWlMQ0p0WVhCd2FXNW5jeUk2SWpzN096czdPenRCUVVGQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFaUxDSnpiM1Z5WTJWeklqcGJJbmRsWW5CaFkyczZMeTl3YjNSeVpXVXZMaTl6Y21NdmQyOXlhMlZ5Y3k5aWFXNWhjbmt0WkdWamIyUmxjaTEzYjNKclpYSXRhVzUwWlhKdVlXd3VkSE0vWTJSbVppSmRMQ0p6YjNWeVkyVnpRMjl1ZEdWdWRDSTZXeUl2S2lwY2JpQXFJRUZrWVhCMFpXUWdabkp2YlNCUWIzUnlaV1V1YW5NZ2FIUjBjRG92TDNCdmRISmxaUzV2Y21kY2JpQXFJRkJ2ZEhKbFpTQk1hV05sYm5ObE9pQm9kSFJ3Y3pvdkwyZHBkR2gxWWk1amIyMHZjRzkwY21WbEwzQnZkSEpsWlM5aWJHOWlMekV1TlM5TVNVTkZUbE5GWEc0Z0tpOWNibWx0Y0c5eWRDQjdJRkJ2YVc1MFFYUjBjbWxpZFhSbFRtRnRaU3dnVUU5SlRsUmZRVlJVVWtsQ1ZWUkZVeXdnZlNCbWNtOXRJQ2N1TGk5d2IybHVkQzFoZEhSeWFXSjFkR1Z6Snp0Y2JtbHRjRzl5ZENCN0lGWmxjbk5wYjI0Z2ZTQm1jbTl0SUNjdUxpOTJaWEp6YVc5dUp6dGNibWx0Y0c5eWRDQjdJRU4xYzNSdmJVRnljbUY1Vm1sbGR5QjlJR1p5YjIwZ0p5NHZZM1Z6ZEc5dExXRnljbUY1TFhacFpYY25PMXh1THk4Z1NVVXhNU0JrYjJWeklHNXZkQ0JvWVhabElFMWhkR2d1YzJsbmJpZ3BMQ0IwYUdseklHaGhjeUJpWldWdUlHRmtZWEIwWldRZ1puSnZiU0JEYjNKbFNsTWdaWE0yTG0xaGRHZ3VjMmxuYmk1cWN5Qm1iM0lnVkhsd1pWTmpjbWx3ZEZ4dVkyOXVjM1FnYldGMGFGTnBaMjRnUFNCTllYUm9Mbk5wWjI0Z2ZIeGNiaUFnSUNCbWRXNWpkR2x2YmlBb2VDa2dlMXh1SUNBZ0lDQWdJQ0F2THlCMGMyeHBiblE2WkdsellXSnNaUzF1WlhoMExXeHBibVU2ZEhKcGNHeGxMV1Z4ZFdGc2MxeHVJQ0FnSUNBZ0lDQnlaWFIxY200Z0tIZ2dQU0FyZUNrZ1BUMGdNQ0I4ZkNCNElDRTlJSGdnUHlCNElEb2dlQ0E4SURBZ1B5QXRNU0E2SURFN1hHNGdJQ0FnZlR0Y2JtVjRjRzl5ZENCbWRXNWpkR2x2YmlCb1lXNWtiR1ZOWlhOellXZGxLR1YyWlc1MEtTQjdYRzRnSUNBZ1kyOXVjM1FnWW5WbVptVnlJRDBnWlhabGJuUXVaR0YwWVM1aWRXWm1aWEk3WEc0Z0lDQWdZMjl1YzNRZ2NHOXBiblJCZEhSeWFXSjFkR1Z6SUQwZ1pYWmxiblF1WkdGMFlTNXdiMmx1ZEVGMGRISnBZblYwWlhNN1hHNGdJQ0FnWTI5dWMzUWdZM1I0SUQwZ2UxeHVJQ0FnSUNBZ0lDQmhkSFJ5YVdKMWRHVkNkV1ptWlhKek9pQjdmU3hjYmlBZ0lDQWdJQ0FnWTNWeWNtVnVkRTltWm5ObGREb2dNQ3hjYmlBZ0lDQWdJQ0FnWkdGMFlUb2dibVYzSUVOMWMzUnZiVUZ5Y21GNVZtbGxkeWhpZFdabVpYSXBMRnh1SUNBZ0lDQWdJQ0J0WldGdU9pQmJNQ3dnTUN3Z01GMHNYRzRnSUNBZ0lDQWdJRzV2WkdWUFptWnpaWFE2SUdWMlpXNTBMbVJoZEdFdWIyWm1jMlYwTEZ4dUlDQWdJQ0FnSUNCdWRXMVFiMmx1ZEhNNklHVjJaVzUwTG1SaGRHRXVZblZtWm1WeUxtSjVkR1ZNWlc1bmRHZ2dMeUJ3YjJsdWRFRjBkSEpwWW5WMFpYTXVZbmwwWlZOcGVtVXNYRzRnSUNBZ0lDQWdJSEJ2YVc1MFFYUjBjbWxpZFhSbGN5eGNiaUFnSUNBZ0lDQWdjMk5oYkdVNklHVjJaVzUwTG1SaGRHRXVjMk5oYkdVc1hHNGdJQ0FnSUNBZ0lIUnBaMmgwUW05NFRXRjRPaUJiVG5WdFltVnlMazVGUjBGVVNWWkZYMGxPUmtsT1NWUlpMQ0JPZFcxaVpYSXVUa1ZIUVZSSlZrVmZTVTVHU1U1SlZGa3NJRTUxYldKbGNpNU9SVWRCVkVsV1JWOUpUa1pKVGtsVVdWMHNYRzRnSUNBZ0lDQWdJSFJwWjJoMFFtOTRUV2x1T2lCYlRuVnRZbVZ5TGxCUFUwbFVTVlpGWDBsT1JrbE9TVlJaTENCT2RXMWlaWEl1VUU5VFNWUkpWa1ZmU1U1R1NVNUpWRmtzSUU1MWJXSmxjaTVRVDFOSlZFbFdSVjlKVGtaSlRrbFVXVjBzWEc0Z0lDQWdJQ0FnSUhSeVlXNXpabVZ5WVdKc1pYTTZJRnRkTEZ4dUlDQWdJQ0FnSUNCMlpYSnphVzl1T2lCdVpYY2dWbVZ5YzJsdmJpaGxkbVZ1ZEM1a1lYUmhMblpsY25OcGIyNHBMRnh1SUNBZ0lIMDdYRzRnSUNBZ1ptOXlJQ2hqYjI1emRDQndiMmx1ZEVGMGRISnBZblYwWlNCdlppQmpkSGd1Y0c5cGJuUkJkSFJ5YVdKMWRHVnpMbUYwZEhKcFluVjBaWE1wSUh0Y2JpQWdJQ0FnSUNBZ1pHVmpiMlJsUVc1a1FXUmtRWFIwY21saWRYUmxLSEJ2YVc1MFFYUjBjbWxpZFhSbExDQmpkSGdwTzF4dUlDQWdJQ0FnSUNCamRIZ3VZM1Z5Y21WdWRFOW1abk5sZENBclBTQndiMmx1ZEVGMGRISnBZblYwWlM1aWVYUmxVMmw2WlR0Y2JpQWdJQ0I5WEc0Z0lDQWdZMjl1YzNRZ2FXNWthV05sY3lBOUlHNWxkeUJCY25KaGVVSjFabVpsY2loamRIZ3ViblZ0VUc5cGJuUnpJQ29nTkNrN1hHNGdJQ0FnWTI5dWMzUWdhVWx1WkdsalpYTWdQU0J1WlhjZ1ZXbHVkRE15UVhKeVlYa29hVzVrYVdObGN5azdYRzRnSUNBZ1ptOXlJQ2hzWlhRZ2FTQTlJREE3SUdrZ1BDQmpkSGd1Ym5WdFVHOXBiblJ6T3lCcEt5c3BJSHRjYmlBZ0lDQWdJQ0FnYVVsdVpHbGpaWE5iYVYwZ1BTQnBPMXh1SUNBZ0lIMWNiaUFnSUNCcFppQW9JV04wZUM1aGRIUnlhV0oxZEdWQ2RXWm1aWEp6VzFCdmFXNTBRWFIwY21saWRYUmxUbUZ0WlM1RFRFRlRVMGxHU1VOQlZFbFBUbDBwSUh0Y2JpQWdJQ0FnSUNBZ1lXUmtSVzF3ZEhsRGJHRnpjMmxtYVdOaGRHbHZia0oxWm1abGNpaGpkSGdwTzF4dUlDQWdJSDFjYmlBZ0lDQmpiMjV6ZENCdFpYTnpZV2RsSUQwZ2UxeHVJQ0FnSUNBZ0lDQmlkV1ptWlhJNklHSjFabVpsY2l4Y2JpQWdJQ0FnSUNBZ2JXVmhiam9nWTNSNExtMWxZVzRzWEc0Z0lDQWdJQ0FnSUdGMGRISnBZblYwWlVKMVptWmxjbk02SUdOMGVDNWhkSFJ5YVdKMWRHVkNkV1ptWlhKekxGeHVJQ0FnSUNBZ0lDQjBhV2RvZEVKdmRXNWthVzVuUW05NE9pQjdJRzFwYmpvZ1kzUjRMblJwWjJoMFFtOTRUV2x1TENCdFlYZzZJR04wZUM1MGFXZG9kRUp2ZUUxaGVDQjlMRnh1SUNBZ0lDQWdJQ0JwYm1ScFkyVnpMRnh1SUNBZ0lIMDdYRzRnSUNBZ2NHOXpkRTFsYzNOaFoyVW9iV1Z6YzJGblpTd2dZM1I0TG5SeVlXNXpabVZ5WVdKc1pYTXBPMXh1ZlZ4dVpuVnVZM1JwYjI0Z1lXUmtSVzF3ZEhsRGJHRnpjMmxtYVdOaGRHbHZia0oxWm1abGNpaGpkSGdwSUh0Y2JpQWdJQ0JqYjI1emRDQmlkV1ptWlhJZ1BTQnVaWGNnUVhKeVlYbENkV1ptWlhJb1kzUjRMbTUxYlZCdmFXNTBjeUFxSURRcE8xeHVJQ0FnSUdOdmJuTjBJR05zWVhOemFXWnBZMkYwYVc5dWN5QTlJRzVsZHlCR2JHOWhkRE15UVhKeVlYa29ZblZtWm1WeUtUdGNiaUFnSUNCbWIzSWdLR3hsZENCcElEMGdNRHNnYVNBOElHTjBlQzV1ZFcxUWIybHVkSE03SUdrckt5a2dlMXh1SUNBZ0lDQWdJQ0JqYkdGemMybG1hV05oZEdsdmJuTmJhVjBnUFNBd08xeHVJQ0FnSUgxY2JpQWdJQ0JqZEhndVlYUjBjbWxpZFhSbFFuVm1abVZ5YzF0UWIybHVkRUYwZEhKcFluVjBaVTVoYldVdVEweEJVMU5KUmtsRFFWUkpUMDVkSUQwZ2UxeHVJQ0FnSUNBZ0lDQmlkV1ptWlhJc1hHNGdJQ0FnSUNBZ0lHRjBkSEpwWW5WMFpUb2dVRTlKVGxSZlFWUlVVa2xDVlZSRlV5NURURUZUVTBsR1NVTkJWRWxQVGl4Y2JpQWdJQ0I5TzF4dWZWeHVablZ1WTNScGIyNGdaR1ZqYjJSbFFXNWtRV1JrUVhSMGNtbGlkWFJsS0dGMGRISnBZblYwWlN3Z1kzUjRLU0I3WEc0Z0lDQWdZMjl1YzNRZ1pHVmpiMlJsWkVGMGRISnBZblYwWlNBOUlHUmxZMjlrWlZCdmFXNTBRWFIwY21saWRYUmxLR0YwZEhKcFluVjBaU3dnWTNSNEtUdGNiaUFnSUNCcFppQW9aR1ZqYjJSbFpFRjBkSEpwWW5WMFpTQTlQVDBnZFc1a1pXWnBibVZrS1NCN1hHNGdJQ0FnSUNBZ0lISmxkSFZ5Ymp0Y2JpQWdJQ0I5WEc0Z0lDQWdZM1I0TG1GMGRISnBZblYwWlVKMVptWmxjbk5iWkdWamIyUmxaRUYwZEhKcFluVjBaUzVoZEhSeWFXSjFkR1V1Ym1GdFpWMGdQU0JrWldOdlpHVmtRWFIwY21saWRYUmxPMXh1SUNBZ0lHTjBlQzUwY21GdWMyWmxjbUZpYkdWekxuQjFjMmdvWkdWamIyUmxaRUYwZEhKcFluVjBaUzVpZFdabVpYSXBPMXh1ZlZ4dVpuVnVZM1JwYjI0Z1pHVmpiMlJsVUc5cGJuUkJkSFJ5YVdKMWRHVW9ZWFIwY21saWRYUmxMQ0JqZEhncElIdGNiaUFnSUNCemQybDBZMmdnS0dGMGRISnBZblYwWlM1dVlXMWxLU0I3WEc0Z0lDQWdJQ0FnSUdOaGMyVWdVRzlwYm5SQmRIUnlhV0oxZEdWT1lXMWxMbEJQVTBsVVNVOU9YME5CVWxSRlUwbEJUanBjYmlBZ0lDQWdJQ0FnSUNBZ0lISmxkSFZ5YmlCa1pXTnZaR1ZRYjNOcGRHbHZia05oY25SbGMybGhiaWhoZEhSeWFXSjFkR1VzSUdOMGVDazdYRzRnSUNBZ0lDQWdJR05oYzJVZ1VHOXBiblJCZEhSeWFXSjFkR1ZPWVcxbExrTlBURTlTWDFCQlEwdEZSRHBjYmlBZ0lDQWdJQ0FnSUNBZ0lISmxkSFZ5YmlCa1pXTnZaR1ZEYjJ4dmNpaGhkSFJ5YVdKMWRHVXNJR04wZUNrN1hHNGdJQ0FnSUNBZ0lHTmhjMlVnVUc5cGJuUkJkSFJ5YVdKMWRHVk9ZVzFsTGtsT1ZFVk9VMGxVV1RwY2JpQWdJQ0FnSUNBZ0lDQWdJSEpsZEhWeWJpQmtaV052WkdWSmJuUmxibk5wZEhrb1lYUjBjbWxpZFhSbExDQmpkSGdwTzF4dUlDQWdJQ0FnSUNCallYTmxJRkJ2YVc1MFFYUjBjbWxpZFhSbFRtRnRaUzVEVEVGVFUwbEdTVU5CVkVsUFRqcGNiaUFnSUNBZ0lDQWdJQ0FnSUhKbGRIVnliaUJrWldOdlpHVkRiR0Z6YzJsbWFXTmhkR2x2YmloaGRIUnlhV0oxZEdVc0lHTjBlQ2s3WEc0Z0lDQWdJQ0FnSUdOaGMyVWdVRzlwYm5SQmRIUnlhV0oxZEdWT1lXMWxMazVQVWsxQlRGOVRVRWhGVWtWTlFWQlFSVVE2WEc0Z0lDQWdJQ0FnSUNBZ0lDQnlaWFIxY200Z1pHVmpiMlJsVG05eWJXRnNVM0JvWlhKbFRXRndjR1ZrS0dGMGRISnBZblYwWlN3Z1kzUjRLVHRjYmlBZ0lDQWdJQ0FnWTJGelpTQlFiMmx1ZEVGMGRISnBZblYwWlU1aGJXVXVUazlTVFVGTVgwOURWREUyT2x4dUlDQWdJQ0FnSUNBZ0lDQWdjbVYwZFhKdUlHUmxZMjlrWlU1dmNtMWhiRTlqZERFMktHRjBkSEpwWW5WMFpTd2dZM1I0S1R0Y2JpQWdJQ0FnSUNBZ1kyRnpaU0JRYjJsdWRFRjBkSEpwWW5WMFpVNWhiV1V1VGs5U1RVRk1PbHh1SUNBZ0lDQWdJQ0FnSUNBZ2NtVjBkWEp1SUdSbFkyOWtaVTV2Y20xaGJDaGhkSFJ5YVdKMWRHVXNJR04wZUNrN1hHNGdJQ0FnSUNBZ0lHUmxabUYxYkhRNlhHNGdJQ0FnSUNBZ0lDQWdJQ0J5WlhSMWNtNGdkVzVrWldacGJtVmtPMXh1SUNBZ0lIMWNibjFjYm1aMWJtTjBhVzl1SUdSbFkyOWtaVkJ2YzJsMGFXOXVRMkZ5ZEdWemFXRnVLR0YwZEhKcFluVjBaU3dnWTNSNEtTQjdYRzRnSUNBZ1kyOXVjM1FnWW5WbVptVnlJRDBnYm1WM0lFRnljbUY1UW5WbVptVnlLR04wZUM1dWRXMVFiMmx1ZEhNZ0tpQTBJQ29nTXlrN1hHNGdJQ0FnWTI5dWMzUWdjRzl6YVhScGIyNXpJRDBnYm1WM0lFWnNiMkYwTXpKQmNuSmhlU2hpZFdabVpYSXBPMXh1SUNBZ0lHWnZjaUFvYkdWMElHa2dQU0F3T3lCcElEd2dZM1I0TG01MWJWQnZhVzUwY3pzZ2FTc3JLU0I3WEc0Z0lDQWdJQ0FnSUd4bGRDQjRPMXh1SUNBZ0lDQWdJQ0JzWlhRZ2VUdGNiaUFnSUNBZ0lDQWdiR1YwSUhvN1hHNGdJQ0FnSUNBZ0lHbG1JQ2hqZEhndWRtVnljMmx2Ymk1dVpYZGxjbFJvWVc0b0p6RXVNeWNwS1NCN1hHNGdJQ0FnSUNBZ0lDQWdJQ0I0SUQwZ1kzUjRMbVJoZEdFdVoyVjBWV2x1ZERNeUtHTjBlQzVqZFhKeVpXNTBUMlptYzJWMElDc2dhU0FxSUdOMGVDNXdiMmx1ZEVGMGRISnBZblYwWlhNdVlubDBaVk5wZW1VZ0t5QXdLU0FxSUdOMGVDNXpZMkZzWlR0Y2JpQWdJQ0FnSUNBZ0lDQWdJSGtnUFNCamRIZ3VaR0YwWVM1blpYUlZhVzUwTXpJb1kzUjRMbU4xY25KbGJuUlBabVp6WlhRZ0t5QnBJQ29nWTNSNExuQnZhVzUwUVhSMGNtbGlkWFJsY3k1aWVYUmxVMmw2WlNBcklEUXBJQ29nWTNSNExuTmpZV3hsTzF4dUlDQWdJQ0FnSUNBZ0lDQWdlaUE5SUdOMGVDNWtZWFJoTG1kbGRGVnBiblF6TWloamRIZ3VZM1Z5Y21WdWRFOW1abk5sZENBcklHa2dLaUJqZEhndWNHOXBiblJCZEhSeWFXSjFkR1Z6TG1KNWRHVlRhWHBsSUNzZ09Da2dLaUJqZEhndWMyTmhiR1U3WEc0Z0lDQWdJQ0FnSUgxY2JpQWdJQ0FnSUNBZ1pXeHpaU0I3WEc0Z0lDQWdJQ0FnSUNBZ0lDQjRJRDBnWTNSNExtUmhkR0V1WjJWMFJteHZZWFF6TWlocElDb2dZM1I0TG5CdmFXNTBRWFIwY21saWRYUmxjeTVpZVhSbFUybDZaU0FySURBcElDc2dZM1I0TG01dlpHVlBabVp6WlhSYk1GMDdYRzRnSUNBZ0lDQWdJQ0FnSUNCNUlEMGdZM1I0TG1SaGRHRXVaMlYwUm14dllYUXpNaWhwSUNvZ1kzUjRMbkJ2YVc1MFFYUjBjbWxpZFhSbGN5NWllWFJsVTJsNlpTQXJJRFFwSUNzZ1kzUjRMbTV2WkdWUFptWnpaWFJiTVYwN1hHNGdJQ0FnSUNBZ0lDQWdJQ0I2SUQwZ1kzUjRMbVJoZEdFdVoyVjBSbXh2WVhRek1paHBJQ29nWTNSNExuQnZhVzUwUVhSMGNtbGlkWFJsY3k1aWVYUmxVMmw2WlNBcklEZ3BJQ3NnWTNSNExtNXZaR1ZQWm1aelpYUmJNbDA3WEc0Z0lDQWdJQ0FnSUgxY2JpQWdJQ0FnSUNBZ2NHOXphWFJwYjI1eld6TWdLaUJwSUNzZ01GMGdQU0I0TzF4dUlDQWdJQ0FnSUNCd2IzTnBkR2x2Ym5OYk15QXFJR2tnS3lBeFhTQTlJSGs3WEc0Z0lDQWdJQ0FnSUhCdmMybDBhVzl1YzFzeklDb2dhU0FySURKZElEMGdlanRjYmlBZ0lDQWdJQ0FnWTNSNExtMWxZVzViTUYwZ0t6MGdlQ0F2SUdOMGVDNXVkVzFRYjJsdWRITTdYRzRnSUNBZ0lDQWdJR04wZUM1dFpXRnVXekZkSUNzOUlIa2dMeUJqZEhndWJuVnRVRzlwYm5Sek8xeHVJQ0FnSUNBZ0lDQmpkSGd1YldWaGJsc3lYU0FyUFNCNklDOGdZM1I0TG01MWJWQnZhVzUwY3p0Y2JpQWdJQ0FnSUNBZ1kzUjRMblJwWjJoMFFtOTRUV2x1V3pCZElEMGdUV0YwYUM1dGFXNG9ZM1I0TG5ScFoyaDBRbTk0VFdsdVd6QmRMQ0I0S1R0Y2JpQWdJQ0FnSUNBZ1kzUjRMblJwWjJoMFFtOTRUV2x1V3pGZElEMGdUV0YwYUM1dGFXNG9ZM1I0TG5ScFoyaDBRbTk0VFdsdVd6RmRMQ0I1S1R0Y2JpQWdJQ0FnSUNBZ1kzUjRMblJwWjJoMFFtOTRUV2x1V3pKZElEMGdUV0YwYUM1dGFXNG9ZM1I0TG5ScFoyaDBRbTk0VFdsdVd6SmRMQ0I2S1R0Y2JpQWdJQ0FnSUNBZ1kzUjRMblJwWjJoMFFtOTRUV0Y0V3pCZElEMGdUV0YwYUM1dFlYZ29ZM1I0TG5ScFoyaDBRbTk0VFdGNFd6QmRMQ0I0S1R0Y2JpQWdJQ0FnSUNBZ1kzUjRMblJwWjJoMFFtOTRUV0Y0V3pGZElEMGdUV0YwYUM1dFlYZ29ZM1I0TG5ScFoyaDBRbTk0VFdGNFd6RmRMQ0I1S1R0Y2JpQWdJQ0FnSUNBZ1kzUjRMblJwWjJoMFFtOTRUV0Y0V3pKZElEMGdUV0YwYUM1dFlYZ29ZM1I0TG5ScFoyaDBRbTk0VFdGNFd6SmRMQ0I2S1R0Y2JpQWdJQ0I5WEc0Z0lDQWdjbVYwZFhKdUlIc2dZblZtWm1WeUxDQmhkSFJ5YVdKMWRHVWdmVHRjYm4xY2JtWjFibU4wYVc5dUlHUmxZMjlrWlVOdmJHOXlLR0YwZEhKcFluVjBaU3dnWTNSNEtTQjdYRzRnSUNBZ1kyOXVjM1FnWW5WbVptVnlJRDBnYm1WM0lFRnljbUY1UW5WbVptVnlLR04wZUM1dWRXMVFiMmx1ZEhNZ0tpQXpLVHRjYmlBZ0lDQmpiMjV6ZENCamIyeHZjbk1nUFNCdVpYY2dWV2x1ZERoQmNuSmhlU2hpZFdabVpYSXBPMXh1SUNBZ0lHWnZjaUFvYkdWMElHa2dQU0F3T3lCcElEd2dZM1I0TG01MWJWQnZhVzUwY3pzZ2FTc3JLU0I3WEc0Z0lDQWdJQ0FnSUdOdmJHOXljMXN6SUNvZ2FTQXJJREJkSUQwZ1kzUjRMbVJoZEdFdVoyVjBWV2x1ZERnb1kzUjRMbU4xY25KbGJuUlBabVp6WlhRZ0t5QnBJQ29nWTNSNExuQnZhVzUwUVhSMGNtbGlkWFJsY3k1aWVYUmxVMmw2WlNBcklEQXBPMXh1SUNBZ0lDQWdJQ0JqYjJ4dmNuTmJNeUFxSUdrZ0t5QXhYU0E5SUdOMGVDNWtZWFJoTG1kbGRGVnBiblE0S0dOMGVDNWpkWEp5Wlc1MFQyWm1jMlYwSUNzZ2FTQXFJR04wZUM1d2IybHVkRUYwZEhKcFluVjBaWE11WW5sMFpWTnBlbVVnS3lBeEtUdGNiaUFnSUNBZ0lDQWdZMjlzYjNKeld6TWdLaUJwSUNzZ01sMGdQU0JqZEhndVpHRjBZUzVuWlhSVmFXNTBPQ2hqZEhndVkzVnljbVZ1ZEU5bVpuTmxkQ0FySUdrZ0tpQmpkSGd1Y0c5cGJuUkJkSFJ5YVdKMWRHVnpMbUo1ZEdWVGFYcGxJQ3NnTWlrN1hHNGdJQ0FnZlZ4dUlDQWdJSEpsZEhWeWJpQjdJR0oxWm1abGNpd2dZWFIwY21saWRYUmxJSDA3WEc1OVhHNW1kVzVqZEdsdmJpQmtaV052WkdWSmJuUmxibk5wZEhrb1lYUjBjbWxpZFhSbExDQmpkSGdwSUh0Y2JpQWdJQ0JqYjI1emRDQmlkV1ptWlhJZ1BTQnVaWGNnUVhKeVlYbENkV1ptWlhJb1kzUjRMbTUxYlZCdmFXNTBjeUFxSURRcE8xeHVJQ0FnSUdOdmJuTjBJR2x1ZEdWdWMybDBhV1Z6SUQwZ2JtVjNJRVpzYjJGME16SkJjbkpoZVNoaWRXWm1aWElwTzF4dUlDQWdJR1p2Y2lBb2JHVjBJR2tnUFNBd095QnBJRHdnWTNSNExtNTFiVkJ2YVc1MGN6c2dhU3NyS1NCN1hHNGdJQ0FnSUNBZ0lHbHVkR1Z1YzJsMGFXVnpXMmxkSUQwZ1kzUjRMbVJoZEdFdVoyVjBWV2x1ZERFMktHTjBlQzVqZFhKeVpXNTBUMlptYzJWMElDc2dhU0FxSUdOMGVDNXdiMmx1ZEVGMGRISnBZblYwWlhNdVlubDBaVk5wZW1VcE8xeHVJQ0FnSUgxY2JpQWdJQ0J5WlhSMWNtNGdleUJpZFdabVpYSXNJR0YwZEhKcFluVjBaU0I5TzF4dWZWeHVablZ1WTNScGIyNGdaR1ZqYjJSbFEyeGhjM05wWm1sallYUnBiMjRvWVhSMGNtbGlkWFJsTENCamRIZ3BJSHRjYmlBZ0lDQmpiMjV6ZENCaWRXWm1aWElnUFNCdVpYY2dRWEp5WVhsQ2RXWm1aWElvWTNSNExtNTFiVkJ2YVc1MGN5azdYRzRnSUNBZ1kyOXVjM1FnWTJ4aGMzTnBabWxqWVhScGIyNXpJRDBnYm1WM0lGVnBiblE0UVhKeVlYa29ZblZtWm1WeUtUdGNiaUFnSUNCbWIzSWdLR3hsZENCcUlEMGdNRHNnYWlBOElHTjBlQzV1ZFcxUWIybHVkSE03SUdvckt5a2dlMXh1SUNBZ0lDQWdJQ0JqYkdGemMybG1hV05oZEdsdmJuTmJhbDBnUFNCamRIZ3VaR0YwWVM1blpYUlZhVzUwT0NoamRIZ3VZM1Z5Y21WdWRFOW1abk5sZENBcklHb2dLaUJqZEhndWNHOXBiblJCZEhSeWFXSjFkR1Z6TG1KNWRHVlRhWHBsS1R0Y2JpQWdJQ0I5WEc0Z0lDQWdjbVYwZFhKdUlIc2dZblZtWm1WeUxDQmhkSFJ5YVdKMWRHVWdmVHRjYm4xY2JtWjFibU4wYVc5dUlHUmxZMjlrWlU1dmNtMWhiRk53YUdWeVpVMWhjSEJsWkNoaGRIUnlhV0oxZEdVc0lHTjBlQ2tnZTF4dUlDQWdJR052Ym5OMElHSjFabVpsY2lBOUlHNWxkeUJCY25KaGVVSjFabVpsY2loamRIZ3ViblZ0VUc5cGJuUnpJQ29nTkNBcUlETXBPMXh1SUNBZ0lHTnZibk4wSUc1dmNtMWhiSE1nUFNCdVpYY2dSbXh2WVhRek1rRnljbUY1S0dKMVptWmxjaWs3WEc0Z0lDQWdabTl5SUNoc1pYUWdhaUE5SURBN0lHb2dQQ0JqZEhndWJuVnRVRzlwYm5Sek95QnFLeXNwSUh0Y2JpQWdJQ0FnSUNBZ1kyOXVjM1FnWW5nZ1BTQmpkSGd1WkdGMFlTNW5aWFJWYVc1ME9DaGpkSGd1WTNWeWNtVnVkRTltWm5ObGRDQXJJR29nS2lCamRIZ3VjRzlwYm5SQmRIUnlhV0oxZEdWekxtSjVkR1ZUYVhwbElDc2dNQ2s3WEc0Z0lDQWdJQ0FnSUdOdmJuTjBJR0o1SUQwZ1kzUjRMbVJoZEdFdVoyVjBWV2x1ZERnb1kzUjRMbU4xY25KbGJuUlBabVp6WlhRZ0t5QnFJQ29nWTNSNExuQnZhVzUwUVhSMGNtbGlkWFJsY3k1aWVYUmxVMmw2WlNBcklERXBPMXh1SUNBZ0lDQWdJQ0JqYjI1emRDQmxlQ0E5SUdKNElDOGdNalUxTzF4dUlDQWdJQ0FnSUNCamIyNXpkQ0JsZVNBOUlHSjVJQzhnTWpVMU8xeHVJQ0FnSUNBZ0lDQnNaWFFnYm5nZ1BTQmxlQ0FxSURJZ0xTQXhPMXh1SUNBZ0lDQWdJQ0JzWlhRZ2Jua2dQU0JsZVNBcUlESWdMU0F4TzF4dUlDQWdJQ0FnSUNCc1pYUWdibm9nUFNBeE8xeHVJQ0FnSUNBZ0lDQmpiMjV6ZENCdWR5QTlJQzB4TzF4dUlDQWdJQ0FnSUNCamIyNXpkQ0JzSUQwZ2JuZ2dLaUF0Ym5nZ0t5QnVlU0FxSUMxdWVTQXJJRzU2SUNvZ0xXNTNPMXh1SUNBZ0lDQWdJQ0J1ZWlBOUlHdzdYRzRnSUNBZ0lDQWdJRzU0SUQwZ2JuZ2dLaUJOWVhSb0xuTnhjblFvYkNrN1hHNGdJQ0FnSUNBZ0lHNTVJRDBnYm5rZ0tpQk5ZWFJvTG5OeGNuUW9iQ2s3WEc0Z0lDQWdJQ0FnSUc1NElEMGdibmdnS2lBeU8xeHVJQ0FnSUNBZ0lDQnVlU0E5SUc1NUlDb2dNanRjYmlBZ0lDQWdJQ0FnYm5vZ1BTQnVlaUFxSURJZ0xTQXhPMXh1SUNBZ0lDQWdJQ0J1YjNKdFlXeHpXek1nS2lCcUlDc2dNRjBnUFNCdWVEdGNiaUFnSUNBZ0lDQWdibTl5YldGc2Mxc3pJQ29nYWlBcklERmRJRDBnYm5rN1hHNGdJQ0FnSUNBZ0lHNXZjbTFoYkhOYk15QXFJR29nS3lBeVhTQTlJRzU2TzF4dUlDQWdJSDFjYmlBZ0lDQnlaWFIxY200Z2V5QmlkV1ptWlhJc0lHRjBkSEpwWW5WMFpTQjlPMXh1ZlZ4dVpuVnVZM1JwYjI0Z1pHVmpiMlJsVG05eWJXRnNUMk4wTVRZb1lYUjBjbWxpZFhSbExDQmpkSGdwSUh0Y2JpQWdJQ0JqYjI1emRDQmlkV1ptSUQwZ2JtVjNJRUZ5Y21GNVFuVm1abVZ5S0dOMGVDNXVkVzFRYjJsdWRITWdLaUEwSUNvZ015azdYRzRnSUNBZ1kyOXVjM1FnYm05eWJXRnNjeUE5SUc1bGR5QkdiRzloZERNeVFYSnlZWGtvWW5WbVppazdYRzRnSUNBZ1ptOXlJQ2hzWlhRZ2FpQTlJREE3SUdvZ1BDQmpkSGd1Ym5WdFVHOXBiblJ6T3lCcUt5c3BJSHRjYmlBZ0lDQWdJQ0FnWTI5dWMzUWdZbmdnUFNCamRIZ3VaR0YwWVM1blpYUlZhVzUwT0NoamRIZ3VZM1Z5Y21WdWRFOW1abk5sZENBcklHb2dLaUJqZEhndWNHOXBiblJCZEhSeWFXSjFkR1Z6TG1KNWRHVlRhWHBsSUNzZ01DazdYRzRnSUNBZ0lDQWdJR052Ym5OMElHSjVJRDBnWTNSNExtUmhkR0V1WjJWMFZXbHVkRGdvWTNSNExtTjFjbkpsYm5SUFptWnpaWFFnS3lCcUlDb2dZM1I0TG5CdmFXNTBRWFIwY21saWRYUmxjeTVpZVhSbFUybDZaU0FySURFcE8xeHVJQ0FnSUNBZ0lDQmpiMjV6ZENCMUlEMGdLR0o0SUM4Z01qVTFLU0FxSURJZ0xTQXhPMXh1SUNBZ0lDQWdJQ0JqYjI1emRDQjJJRDBnS0dKNUlDOGdNalUxS1NBcUlESWdMU0F4TzF4dUlDQWdJQ0FnSUNCc1pYUWdlaUE5SURFZ0xTQk5ZWFJvTG1GaWN5aDFLU0F0SUUxaGRHZ3VZV0p6S0hZcE8xeHVJQ0FnSUNBZ0lDQnNaWFFnZUNBOUlEQTdYRzRnSUNBZ0lDQWdJR3hsZENCNUlEMGdNRHRjYmlBZ0lDQWdJQ0FnYVdZZ0tIb2dQajBnTUNrZ2UxeHVJQ0FnSUNBZ0lDQWdJQ0FnZUNBOUlIVTdYRzRnSUNBZ0lDQWdJQ0FnSUNCNUlEMGdkanRjYmlBZ0lDQWdJQ0FnZlZ4dUlDQWdJQ0FnSUNCbGJITmxJSHRjYmlBZ0lDQWdJQ0FnSUNBZ0lIZ2dQU0F0S0hZZ0x5QnRZWFJvVTJsbmJpaDJLU0F0SURFcElDOGdiV0YwYUZOcFoyNG9kU2s3WEc0Z0lDQWdJQ0FnSUNBZ0lDQjVJRDBnTFNoMUlDOGdiV0YwYUZOcFoyNG9kU2tnTFNBeEtTQXZJRzFoZEdoVGFXZHVLSFlwTzF4dUlDQWdJQ0FnSUNCOVhHNGdJQ0FnSUNBZ0lHTnZibk4wSUd4bGJtZDBhQ0E5SUUxaGRHZ3VjM0Z5ZENoNElDb2dlQ0FySUhrZ0tpQjVJQ3NnZWlBcUlIb3BPMXh1SUNBZ0lDQWdJQ0I0SUQwZ2VDQXZJR3hsYm1kMGFEdGNiaUFnSUNBZ0lDQWdlU0E5SUhrZ0x5QnNaVzVuZEdnN1hHNGdJQ0FnSUNBZ0lIb2dQU0I2SUM4Z2JHVnVaM1JvTzF4dUlDQWdJQ0FnSUNCdWIzSnRZV3h6V3pNZ0tpQnFJQ3NnTUYwZ1BTQjRPMXh1SUNBZ0lDQWdJQ0J1YjNKdFlXeHpXek1nS2lCcUlDc2dNVjBnUFNCNU8xeHVJQ0FnSUNBZ0lDQnViM0p0WVd4eld6TWdLaUJxSUNzZ01sMGdQU0I2TzF4dUlDQWdJSDFjYmlBZ0lDQnlaWFIxY200Z2V5QmlkV1ptWlhJNklHSjFabVlzSUdGMGRISnBZblYwWlNCOU8xeHVmVnh1Wm5WdVkzUnBiMjRnWkdWamIyUmxUbTl5YldGc0tHRjBkSEpwWW5WMFpTd2dZM1I0S1NCN1hHNGdJQ0FnWTI5dWMzUWdZblZtWm1WeUlEMGdibVYzSUVGeWNtRjVRblZtWm1WeUtHTjBlQzV1ZFcxUWIybHVkSE1nS2lBMElDb2dNeWs3WEc0Z0lDQWdZMjl1YzNRZ2JtOXliV0ZzY3lBOUlHNWxkeUJHYkc5aGRETXlRWEp5WVhrb1luVm1abVZ5S1R0Y2JpQWdJQ0JtYjNJZ0tHeGxkQ0JxSUQwZ01Ec2dhaUE4SUdOMGVDNXVkVzFRYjJsdWRITTdJR29yS3lrZ2UxeHVJQ0FnSUNBZ0lDQmpiMjV6ZENCNElEMGdZM1I0TG1SaGRHRXVaMlYwUm14dllYUXpNaWhqZEhndVkzVnljbVZ1ZEU5bVpuTmxkQ0FySUdvZ0tpQmpkSGd1Y0c5cGJuUkJkSFJ5YVdKMWRHVnpMbUo1ZEdWVGFYcGxJQ3NnTUNrN1hHNGdJQ0FnSUNBZ0lHTnZibk4wSUhrZ1BTQmpkSGd1WkdGMFlTNW5aWFJHYkc5aGRETXlLR04wZUM1amRYSnlaVzUwVDJabWMyVjBJQ3NnYWlBcUlHTjBlQzV3YjJsdWRFRjBkSEpwWW5WMFpYTXVZbmwwWlZOcGVtVWdLeUEwS1R0Y2JpQWdJQ0FnSUNBZ1kyOXVjM1FnZWlBOUlHTjBlQzVrWVhSaExtZGxkRVpzYjJGME16SW9ZM1I0TG1OMWNuSmxiblJQWm1aelpYUWdLeUJxSUNvZ1kzUjRMbkJ2YVc1MFFYUjBjbWxpZFhSbGN5NWllWFJsVTJsNlpTQXJJRGdwTzF4dUlDQWdJQ0FnSUNCdWIzSnRZV3h6V3pNZ0tpQnFJQ3NnTUYwZ1BTQjRPMXh1SUNBZ0lDQWdJQ0J1YjNKdFlXeHpXek1nS2lCcUlDc2dNVjBnUFNCNU8xeHVJQ0FnSUNBZ0lDQnViM0p0WVd4eld6TWdLaUJxSUNzZ01sMGdQU0I2TzF4dUlDQWdJSDFjYmlBZ0lDQnlaWFIxY200Z2V5QmlkV1ptWlhJc0lHRjBkSEpwWW5WMFpTQjlPMXh1ZlZ4dUlsMHNJbTVoYldWeklqcGJYU3dpYzI5MWNtTmxVbTl2ZENJNklpSjlcXFxcbi8vIyBzb3VyY2VVUkw9d2VicGFjay1pbnRlcm5hbDovLy8uL3NyYy93b3JrZXJzL2JpbmFyeS1kZWNvZGVyLXdvcmtlci1pbnRlcm5hbC50c1xcXFxuXFxcIik7XFxuXFxuLyoqKi8gfSksXFxuXFxuLyoqKi8gXFxcIi4vc3JjL3dvcmtlcnMvY3VzdG9tLWFycmF5LXZpZXcudHNcXFwiOlxcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcXFxcbiAgISoqKiAuL3NyYy93b3JrZXJzL2N1c3RvbS1hcnJheS12aWV3LnRzICoqKiFcXG4gIFxcXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXFxuLyoqKi8gKChfX3VudXNlZF93ZWJwYWNrX21vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykgPT4ge1xcblxcbmV2YWwoXFxcIl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcXFxcbi8qIGhhcm1vbnkgZXhwb3J0ICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCB7XFxcXG4vKiBoYXJtb255IGV4cG9ydCAqLyAgIEN1c3RvbUFycmF5VmlldzogKCkgPT4gKC8qIGJpbmRpbmcgKi8gQ3VzdG9tQXJyYXlWaWV3KVxcXFxuLyogaGFybW9ueSBleHBvcnQgKi8gfSk7XFxcXG4vKipcXFxcbiAqIEFkYXB0ZWQgZnJvbSBQb3RyZWUuanMgaHR0cDovL3BvdHJlZS5vcmdcXFxcbiAqIFBvdHJlZSBMaWNlbnNlOiBodHRwczovL2dpdGh1Yi5jb20vcG90cmVlL3BvdHJlZS9ibG9iLzEuNS9MSUNFTlNFXFxcXG4gKi9cXFxcbi8vIGh0dHA6Ly9qc3BlcmYuY29tL3VpbnQ4YXJyYXktdnMtZGF0YXZpZXczLzNcXFxcbi8vIHRzbGludDpkaXNhYmxlOm5vLWJpdHdpc2VcXFxcbmNsYXNzIEN1c3RvbUFycmF5VmlldyB7XFxcXG4gICAgY29uc3RydWN0b3IoYnVmZmVyKSB7XFxcXG4gICAgICAgIHRoaXMudG1wID0gbmV3IEFycmF5QnVmZmVyKDQpO1xcXFxuICAgICAgICB0aGlzLnRtcGYgPSBuZXcgRmxvYXQzMkFycmF5KHRoaXMudG1wKTtcXFxcbiAgICAgICAgdGhpcy50bXB1OCA9IG5ldyBVaW50OEFycmF5KHRoaXMudG1wKTtcXFxcbiAgICAgICAgdGhpcy51OCA9IG5ldyBVaW50OEFycmF5KGJ1ZmZlcik7XFxcXG4gICAgfVxcXFxuICAgIGdldFVpbnQzMihpKSB7XFxcXG4gICAgICAgIHJldHVybiAodGhpcy51OFtpICsgM10gPDwgMjQpIHwgKHRoaXMudThbaSArIDJdIDw8IDE2KSB8ICh0aGlzLnU4W2kgKyAxXSA8PCA4KSB8IHRoaXMudThbaV07XFxcXG4gICAgfVxcXFxuICAgIGdldFVpbnQxNihpKSB7XFxcXG4gICAgICAgIHJldHVybiAodGhpcy51OFtpICsgMV0gPDwgOCkgfCB0aGlzLnU4W2ldO1xcXFxuICAgIH1cXFxcbiAgICBnZXRGbG9hdDMyKGkpIHtcXFxcbiAgICAgICAgY29uc3QgdG1wdTggPSB0aGlzLnRtcHU4O1xcXFxuICAgICAgICBjb25zdCB1OCA9IHRoaXMudTg7XFxcXG4gICAgICAgIGNvbnN0IHRtcGYgPSB0aGlzLnRtcGY7XFxcXG4gICAgICAgIHRtcHU4WzBdID0gdThbaSArIDBdO1xcXFxuICAgICAgICB0bXB1OFsxXSA9IHU4W2kgKyAxXTtcXFxcbiAgICAgICAgdG1wdThbMl0gPSB1OFtpICsgMl07XFxcXG4gICAgICAgIHRtcHU4WzNdID0gdThbaSArIDNdO1xcXFxuICAgICAgICByZXR1cm4gdG1wZlswXTtcXFxcbiAgICB9XFxcXG4gICAgZ2V0VWludDgoaSkge1xcXFxuICAgICAgICByZXR1cm4gdGhpcy51OFtpXTtcXFxcbiAgICB9XFxcXG59XFxcXG4vLyB0c2xpbnQ6ZW5hYmxlOm5vLWJpdHdpc2VcXFxcbi8vIyBzb3VyY2VVUkw9W21vZHVsZV1cXFxcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKbWFXeGxJam9pTGk5emNtTXZkMjl5YTJWeWN5OWpkWE4wYjIwdFlYSnlZWGt0ZG1sbGR5NTBjeUlzSW0xaGNIQnBibWR6SWpvaU96czdPMEZCUVVFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRWlMQ0p6YjNWeVkyVnpJanBiSW5kbFluQmhZMnM2THk5d2IzUnlaV1V2TGk5emNtTXZkMjl5YTJWeWN5OWpkWE4wYjIwdFlYSnlZWGt0ZG1sbGR5NTBjejh6TW1JeklsMHNJbk52ZFhKalpYTkRiMjUwWlc1MElqcGJJaThxS2x4dUlDb2dRV1JoY0hSbFpDQm1jbTl0SUZCdmRISmxaUzVxY3lCb2RIUndPaTh2Y0c5MGNtVmxMbTl5WjF4dUlDb2dVRzkwY21WbElFeHBZMlZ1YzJVNklHaDBkSEJ6T2k4dloybDBhSFZpTG1OdmJTOXdiM1J5WldVdmNHOTBjbVZsTDJKc2IySXZNUzQxTDB4SlEwVk9VMFZjYmlBcUwxeHVMeThnYUhSMGNEb3ZMMnB6Y0dWeVppNWpiMjB2ZFdsdWREaGhjbkpoZVMxMmN5MWtZWFJoZG1sbGR6TXZNMXh1THk4Z2RITnNhVzUwT21ScGMyRmliR1U2Ym04dFltbDBkMmx6WlZ4dVpYaHdiM0owSUdOc1lYTnpJRU4xYzNSdmJVRnljbUY1Vm1sbGR5QjdYRzRnSUNBZ1kyOXVjM1J5ZFdOMGIzSW9ZblZtWm1WeUtTQjdYRzRnSUNBZ0lDQWdJSFJvYVhNdWRHMXdJRDBnYm1WM0lFRnljbUY1UW5WbVptVnlLRFFwTzF4dUlDQWdJQ0FnSUNCMGFHbHpMblJ0Y0dZZ1BTQnVaWGNnUm14dllYUXpNa0Z5Y21GNUtIUm9hWE11ZEcxd0tUdGNiaUFnSUNBZ0lDQWdkR2hwY3k1MGJYQjFPQ0E5SUc1bGR5QlZhVzUwT0VGeWNtRjVLSFJvYVhNdWRHMXdLVHRjYmlBZ0lDQWdJQ0FnZEdocGN5NTFPQ0E5SUc1bGR5QlZhVzUwT0VGeWNtRjVLR0oxWm1abGNpazdYRzRnSUNBZ2ZWeHVJQ0FnSUdkbGRGVnBiblF6TWlocEtTQjdYRzRnSUNBZ0lDQWdJSEpsZEhWeWJpQW9kR2hwY3k1MU9GdHBJQ3NnTTEwZ1BEd2dNalFwSUh3Z0tIUm9hWE11ZFRoYmFTQXJJREpkSUR3OElERTJLU0I4SUNoMGFHbHpMblU0VzJrZ0t5QXhYU0E4UENBNEtTQjhJSFJvYVhNdWRUaGJhVjA3WEc0Z0lDQWdmVnh1SUNBZ0lHZGxkRlZwYm5ReE5paHBLU0I3WEc0Z0lDQWdJQ0FnSUhKbGRIVnliaUFvZEdocGN5NTFPRnRwSUNzZ01WMGdQRHdnT0NrZ2ZDQjBhR2x6TG5VNFcybGRPMXh1SUNBZ0lIMWNiaUFnSUNCblpYUkdiRzloZERNeUtHa3BJSHRjYmlBZ0lDQWdJQ0FnWTI5dWMzUWdkRzF3ZFRnZ1BTQjBhR2x6TG5SdGNIVTRPMXh1SUNBZ0lDQWdJQ0JqYjI1emRDQjFPQ0E5SUhSb2FYTXVkVGc3WEc0Z0lDQWdJQ0FnSUdOdmJuTjBJSFJ0Y0dZZ1BTQjBhR2x6TG5SdGNHWTdYRzRnSUNBZ0lDQWdJSFJ0Y0hVNFd6QmRJRDBnZFRoYmFTQXJJREJkTzF4dUlDQWdJQ0FnSUNCMGJYQjFPRnN4WFNBOUlIVTRXMmtnS3lBeFhUdGNiaUFnSUNBZ0lDQWdkRzF3ZFRoYk1sMGdQU0IxT0Z0cElDc2dNbDA3WEc0Z0lDQWdJQ0FnSUhSdGNIVTRXek5kSUQwZ2RUaGJhU0FySUROZE8xeHVJQ0FnSUNBZ0lDQnlaWFIxY200Z2RHMXdabHN3WFR0Y2JpQWdJQ0I5WEc0Z0lDQWdaMlYwVldsdWREZ29hU2tnZTF4dUlDQWdJQ0FnSUNCeVpYUjFjbTRnZEdocGN5NTFPRnRwWFR0Y2JpQWdJQ0I5WEc1OVhHNHZMeUIwYzJ4cGJuUTZaVzVoWW14bE9tNXZMV0pwZEhkcGMyVmNiaUpkTENKdVlXMWxjeUk2VzEwc0luTnZkWEpqWlZKdmIzUWlPaUlpZlE9PVxcXFxuLy8jIHNvdXJjZVVSTD13ZWJwYWNrLWludGVybmFsOi8vLy4vc3JjL3dvcmtlcnMvY3VzdG9tLWFycmF5LXZpZXcudHNcXFxcblxcXCIpO1xcblxcbi8qKiovIH0pXFxuXFxuLyoqKioqKi8gXFx0fSk7XFxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cXG4vKioqKioqLyBcXHQvLyBUaGUgbW9kdWxlIGNhY2hlXFxuLyoqKioqKi8gXFx0dmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xcbi8qKioqKiovIFxcdFxcbi8qKioqKiovIFxcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXFxuLyoqKioqKi8gXFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xcbi8qKioqKiovIFxcdFxcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxcbi8qKioqKiovIFxcdFxcdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xcbi8qKioqKiovIFxcdFxcdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xcbi8qKioqKiovIFxcdFxcdFxcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcXG4vKioqKioqLyBcXHRcXHR9XFxuLyoqKioqKi8gXFx0XFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcXG4vKioqKioqLyBcXHRcXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcXG4vKioqKioqLyBcXHRcXHRcXHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXFxuLyoqKioqKi8gXFx0XFx0XFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcXG4vKioqKioqLyBcXHRcXHRcXHRleHBvcnRzOiB7fVxcbi8qKioqKiovIFxcdFxcdH07XFxuLyoqKioqKi8gXFx0XFxuLyoqKioqKi8gXFx0XFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXFxuLyoqKioqKi8gXFx0XFx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XFxuLyoqKioqKi8gXFx0XFxuLyoqKioqKi8gXFx0XFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcXG4vKioqKioqLyBcXHRcXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XFxuLyoqKioqKi8gXFx0fVxcbi8qKioqKiovIFxcdFxcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXFxuLyoqKioqKi8gXFx0Lyogd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzICovXFxuLyoqKioqKi8gXFx0KCgpID0+IHtcXG4vKioqKioqLyBcXHRcXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXFxuLyoqKioqKi8gXFx0XFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcXG4vKioqKioqLyBcXHRcXHRcXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XFxuLyoqKioqKi8gXFx0XFx0XFx0XFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XFxuLyoqKioqKi8gXFx0XFx0XFx0XFx0XFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcXG4vKioqKioqLyBcXHRcXHRcXHRcXHR9XFxuLyoqKioqKi8gXFx0XFx0XFx0fVxcbi8qKioqKiovIFxcdFxcdH07XFxuLyoqKioqKi8gXFx0fSkoKTtcXG4vKioqKioqLyBcXHRcXG4vKioqKioqLyBcXHQvKiB3ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kICovXFxuLyoqKioqKi8gXFx0KCgpID0+IHtcXG4vKioqKioqLyBcXHRcXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpXFxuLyoqKioqKi8gXFx0fSkoKTtcXG4vKioqKioqLyBcXHRcXG4vKioqKioqLyBcXHQvKiB3ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0ICovXFxuLyoqKioqKi8gXFx0KCgpID0+IHtcXG4vKioqKioqLyBcXHRcXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXFxuLyoqKioqKi8gXFx0XFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcXG4vKioqKioqLyBcXHRcXHRcXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcXG4vKioqKioqLyBcXHRcXHRcXHRcXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcXG4vKioqKioqLyBcXHRcXHRcXHR9XFxuLyoqKioqKi8gXFx0XFx0XFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcXG4vKioqKioqLyBcXHRcXHR9O1xcbi8qKioqKiovIFxcdH0pKCk7XFxuLyoqKioqKi8gXFx0XFxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cXG4vKioqKioqLyBcXHRcXG4vKioqKioqLyBcXHQvLyBzdGFydHVwXFxuLyoqKioqKi8gXFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXFxuLyoqKioqKi8gXFx0Ly8gVGhpcyBlbnRyeSBtb2R1bGUgY2FuJ3QgYmUgaW5saW5lZCBiZWNhdXNlIHRoZSBldmFsLXNvdXJjZS1tYXAgZGV2dG9vbCBpcyB1c2VkLlxcbi8qKioqKiovIFxcdHZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcXFwiLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYi9pbmRleC5qcyEuL3NyYy93b3JrZXJzL2JpbmFyeS1kZWNvZGVyLndvcmtlci5qc1xcXCIpO1xcbi8qKioqKiovIFxcdFxcbi8qKioqKiovIH0pKClcXG47XCIsIFwiV29ya2VyXCIsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/workers/binary-decoder.worker.js\n");

/***/ }),

/***/ "./node_modules/worker-loader/dist/runtime/inline.js":
/*!***********************************************************!*\
  !*** ./node_modules/worker-loader/dist/runtime/inline.js ***!
  \***********************************************************/
/***/ ((module) => {

eval("\n\n/* eslint-env browser */\n\n/* eslint-disable no-undef, no-use-before-define, new-cap */\nmodule.exports = function (content, workerConstructor, workerOptions, url) {\n  var globalScope = self || window;\n\n  try {\n    try {\n      var blob;\n\n      try {\n        // New API\n        blob = new globalScope.Blob([content]);\n      } catch (e) {\n        // BlobBuilder = Deprecated, but widely implemented\n        var BlobBuilder = globalScope.BlobBuilder || globalScope.WebKitBlobBuilder || globalScope.MozBlobBuilder || globalScope.MSBlobBuilder;\n        blob = new BlobBuilder();\n        blob.append(content);\n        blob = blob.getBlob();\n      }\n\n      var URL = globalScope.URL || globalScope.webkitURL;\n      var objectURL = URL.createObjectURL(blob);\n      var worker = new globalScope[workerConstructor](objectURL, workerOptions);\n      URL.revokeObjectURL(objectURL);\n      return worker;\n    } catch (e) {\n      return new globalScope[workerConstructor](\"data:application/javascript,\".concat(encodeURIComponent(content)), workerOptions);\n    }\n  } catch (e) {\n    if (!url) {\n      throw Error(\"Inline worker is not supported\");\n    }\n\n    return new globalScope[workerConstructor](url, workerOptions);\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvd29ya2VyLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5saW5lLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3BvdHJlZS8uL25vZGVfbW9kdWxlcy93b3JrZXItbG9hZGVyL2Rpc3QvcnVudGltZS9pbmxpbmUuanM/ZWNkNiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuLyogZXNsaW50LWVudiBicm93c2VyICovXG5cbi8qIGVzbGludC1kaXNhYmxlIG5vLXVuZGVmLCBuby11c2UtYmVmb3JlLWRlZmluZSwgbmV3LWNhcCAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY29udGVudCwgd29ya2VyQ29uc3RydWN0b3IsIHdvcmtlck9wdGlvbnMsIHVybCkge1xuICB2YXIgZ2xvYmFsU2NvcGUgPSBzZWxmIHx8IHdpbmRvdztcblxuICB0cnkge1xuICAgIHRyeSB7XG4gICAgICB2YXIgYmxvYjtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gTmV3IEFQSVxuICAgICAgICBibG9iID0gbmV3IGdsb2JhbFNjb3BlLkJsb2IoW2NvbnRlbnRdKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gQmxvYkJ1aWxkZXIgPSBEZXByZWNhdGVkLCBidXQgd2lkZWx5IGltcGxlbWVudGVkXG4gICAgICAgIHZhciBCbG9iQnVpbGRlciA9IGdsb2JhbFNjb3BlLkJsb2JCdWlsZGVyIHx8IGdsb2JhbFNjb3BlLldlYktpdEJsb2JCdWlsZGVyIHx8IGdsb2JhbFNjb3BlLk1vekJsb2JCdWlsZGVyIHx8IGdsb2JhbFNjb3BlLk1TQmxvYkJ1aWxkZXI7XG4gICAgICAgIGJsb2IgPSBuZXcgQmxvYkJ1aWxkZXIoKTtcbiAgICAgICAgYmxvYi5hcHBlbmQoY29udGVudCk7XG4gICAgICAgIGJsb2IgPSBibG9iLmdldEJsb2IoKTtcbiAgICAgIH1cblxuICAgICAgdmFyIFVSTCA9IGdsb2JhbFNjb3BlLlVSTCB8fCBnbG9iYWxTY29wZS53ZWJraXRVUkw7XG4gICAgICB2YXIgb2JqZWN0VVJMID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICAgIHZhciB3b3JrZXIgPSBuZXcgZ2xvYmFsU2NvcGVbd29ya2VyQ29uc3RydWN0b3JdKG9iamVjdFVSTCwgd29ya2VyT3B0aW9ucyk7XG4gICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKG9iamVjdFVSTCk7XG4gICAgICByZXR1cm4gd29ya2VyO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBuZXcgZ2xvYmFsU2NvcGVbd29ya2VyQ29uc3RydWN0b3JdKFwiZGF0YTphcHBsaWNhdGlvbi9qYXZhc2NyaXB0LFwiLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoY29udGVudCkpLCB3b3JrZXJPcHRpb25zKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBpZiAoIXVybCkge1xuICAgICAgdGhyb3cgRXJyb3IoXCJJbmxpbmUgd29ya2VyIGlzIG5vdCBzdXBwb3J0ZWRcIik7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBnbG9iYWxTY29wZVt3b3JrZXJDb25zdHJ1Y3Rvcl0odXJsLCB3b3JrZXJPcHRpb25zKTtcbiAgfVxufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/worker-loader/dist/runtime/inline.js\n");

/***/ }),

/***/ "three":
/*!************************!*\
  !*** external "three" ***!
  \************************/
/***/ ((module) => {

module.exports = __WEBPACK_EXTERNAL_MODULE_three__;

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/index.ts");
/******/ 	
/******/ 	return __webpack_exports__;
/******/ })()
;
});